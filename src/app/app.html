<div class="min-h-screen bg-slate-950 font-sans text-slate-100 p-4 md:p-8 selection:bg-indigo-500/30">

  <header class="max-w-4xl mx-auto text-center mb-10">
    <h1 class="text-4xl font-extrabold tracking-tight text-white mb-2">
      GestÃ£o <span class="text-indigo-500">Financeira </span>
    </h1>
    <p class="text-slate-400 font-medium">GestÃ£o financeira com foco em performance.</p>
  </header>


  <main class="max-w-4xl mx-auto">


    <div class="bg-slate-900 p-8 rounded-[2rem] border border-slate-800 shadow-2xl mb-10 flex flex-col items-center">
      <h3 class="text-slate-300 font-bold mb-6 italic">DistribuiÃ§Ã£o de Gastos</h3>

      <div class="relative w-full max-w-[300px] flex justify-center items-center">
        <canvas #meuGrafico></canvas>
        <div class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
          <span class="text-slate-500 text-xs uppercase">Total</span>
          <span class="text-white font-bold text-xl">R$ {{ totalGasto }}</span>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
      <div class="bg-slate-900 p-6 rounded-3xl border border-slate-800 shadow-xl shadow-black/20 group">
        <span class="text-xs font-bold text-slate-500 uppercase tracking-wider">SalÃ¡rio Mensal</span>
        <div class="flex items-center gap-2">
          <span class="text-slate-400 text-xl font-bold">R$</span>
          <input #inputSalario type="number" [value]="salario" (blur)="atualizarSalario(inputSalario.value)"
            class="bg-transparent border-none text-2xl font-bold text-slate-100 outline-none w-full focus:text-indigo-400 transition-colors"
            placeholder="0.00">
        </div>
        <p class="text-[10px] text-slate-600 mt-1 opacity-0 group-hover:opacity-100 transition-opacity italic">Clique no
          valor para editar</p>
      </div>

      <div class="bg-slate-900 p-6 rounded-3xl border border-slate-800 shadow-xl shadow-black/20">
        <span class="text-xs font-bold text-slate-500 uppercase tracking-wider">Total Gasto</span>
        <div class="text-2xl font-bold text-red-400">R$ {{ totalGasto }}</div>
      </div>

      <div [ngClass]="saldoRestante < 0 ? 'bg-red-950/40 border-red-900' : 'bg-indigo-700 border-indigo-600'"
        class="p-6 rounded-3xl shadow-2xl border transition-all duration-500">
        <span class="text-xs font-bold uppercase tracking-wider text-indigo-100/70">Saldo DisponÃ­vel</span>
        <div class="text-2xl font-bold text-white">R$ {{ saldoRestante }}</div>
      </div>
    </div>

    <div class="bg-slate-900 p-6 md:p-8 rounded-[2rem] border border-slate-800 shadow-2xl mb-10">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
        <div class="md:col-span-2">
          <label class="block text-sm font-semibold text-slate-400 mb-2 ml-1">DescriÃ§Ã£o</label>
          <input #desc type="text" placeholder="Ex: Upgrade PC..."
            class="w-full px-4 py-3 rounded-2xl border-none bg-slate-800 text-white focus:ring-2 focus:ring-indigo-500 outline-none transition-all placeholder:text-slate-600">
        </div>

        <div>
          <label class="block text-sm font-semibold text-slate-400 mb-2 ml-1">Categoria</label>
          <select #cat
            class="w-full px-4 py-3 rounded-2xl border-none bg-slate-800 text-white focus:ring-2 focus:ring-indigo-500 outline-none cursor-pointer">
            <option value="AlimentaÃ§Ã£o">ğŸ• AlimentaÃ§Ã£o</option>
            <option value="Transporte">ğŸš— Transporte</option>
            <option value="Lazer">ğŸ¿ Lazer</option>
            <option value="Contas">ğŸ“‘ Contas</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-semibold text-slate-400 mb-2 ml-1">Valor</label>
          <input #val type="number" placeholder="0,00"
            class="w-full px-4 py-3 rounded-2xl border-none bg-slate-800 text-indigo-400 font-bold focus:ring-2 focus:ring-indigo-500 outline-none">
        </div>
      </div>

      <button (click)="adicionar(desc.value, cat.value, val.value); desc.value=''; val.value=''"
        class="w-full mt-6 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 rounded-2xl shadow-lg transition-all transform active:scale-[0.98]">
        LANÃ‡AR DESPESA
      </button>
    </div>

    <div class="space-y-4">
      <h3 class="text-lg font-bold text-slate-300 ml-2 italic">HistÃ³rico Recente</h3>

      @for (item of listaDespesas; track item.id) {
      <div
        class="group bg-slate-900 p-5 rounded-2xl flex justify-between items-center border border-slate-800 hover:border-indigo-500 transition-all duration-300">
        <div class="flex items-center gap-4">
          <div class="w-12 h-12 rounded-2xl bg-slate-800 flex items-center justify-center text-xl shadow-inner">
            {{ item.categoria === 'AlimentaÃ§Ã£o' ? 'ğŸ•' : item.categoria === 'Transporte' ? 'ğŸš—' : item.categoria ===
            'Lazer' ? 'ğŸ¿' : 'ğŸ“‘' }}
          </div>
          <div>
            <span class="block font-bold text-slate-100">{{ item.descricao }}</span>
            <span class="text-xs text-slate-500 font-medium uppercase tracking-tighter">{{ item.data | date:'dd MMM,
              HH:mm' }}</span>
          </div>
        </div>
        <div class="flex items-center gap-6">
          <span class="text-lg font-bold text-slate-100">- R$ {{ item.valor }}</span>
          <button (click)="excluir(item.id)"
            class="opacity-0 group-hover:opacity-100 p-2 text-slate-600 hover:text-red-500 transition-all">
            ğŸ—‘ï¸
          </button>
        </div>
      </div>
      } @empty {
      <div class="text-center py-16 bg-slate-900/50 rounded-[2rem] border-2 border-dashed border-slate-800">
        <p class="text-slate-600 font-medium italic text-lg">Sem gastos!ğŸ’¸</p>
      </div>
      }
    </div>
  </main>

  <footer class="mt-20 text-center text-slate-700 text-xs tracking-widest uppercase">
    Desenvolvido por Lucas Andrew â€¢ 2026
  </footer>
</div>