var nP=Object.defineProperty,rP=Object.defineProperties;var iP=Object.getOwnPropertyDescriptors;var Pw=Object.getOwnPropertySymbols;var sP=Object.prototype.hasOwnProperty,oP=Object.prototype.propertyIsEnumerable;var Ow=(t,e,n)=>e in t?nP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||={})sP.call(e,n)&&Ow(t,n,e[n]);if(Pw)for(var n of Pw(e))oP.call(e,n)&&Ow(t,n,e[n]);return t},pe=(t,e)=>rP(t,iP(e));var At=null,wu=!1,Yp=1,aP=null,sn=Symbol("SIGNAL");function G(t){let e=At;return At=t,e}function Du(){return At}var Tu={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cu(t){if(wu)throw new Error("");if(At===null)return;At.consumerOnSignalRead(t);let e=At.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=At.recomputing;if(r&&(n=e!==void 0?e.nextProducer:At.producers,n!==void 0&&n.producer===t)){At.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===At&&(!r||lP(i,At)))return;let s=no(At),o={producer:t,consumer:At,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};At.producersTail=o,e!==void 0?e.nextProducer=o:At.producers=o,s&&Bw(t,o)}function Lw(){Yp++}function Fw(t){if(!(no(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Yp)){if(!t.producerMustRecompute(t)&&!Au(t)){Kp(t);return}t.producerRecomputeValue(t),Kp(t)}}function Qp(t){if(t.consumers===void 0)return;let e=wu;wu=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||cP(r)}}finally{wu=e}}function Xp(){return At?.consumerAllowSignalWrites!==!1}function cP(t){t.dirty=!0,Qp(t),t.consumerMarkedDirty?.(t)}function Kp(t){t.dirty=!1,t.lastCleanEpoch=Yp}function Su(t){return t&&Vw(t),G(t)}function Vw(t){t.producersTail=void 0,t.recomputing=!0}function Zp(t,e){G(e),t&&jw(t)}function jw(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(no(t))do n=Jp(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Au(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Fw(n),r!==n.version))return!0}return!1}function Qa(t){if(no(t)){let e=t.producers;for(;e!==void 0;)e=Jp(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Bw(t,e){let n=t.consumersTail,r=no(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)Bw(i.producer,i)}function Jp(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!no(e)){let s=e.producers;for(;s!==void 0;)s=Jp(s)}return n}function no(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Uw(t){aP?.(t)}function lP(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function $w(t,e){return Object.is(t,e)}function uP(){throw new Error}var Hw=uP;function zw(t){Hw(t)}function eg(t){Hw=t}var dP=null;function tg(t,e){let n=Object.create(xu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Ww(n);return r[sn]=n,Uw(n),[r,o=>Xa(n,o),o=>qw(n,o)]}function Ww(t){return Cu(t),t.value}function Xa(t,e){Xp()||zw(t),t.equal(t.value,e)||(t.value=e,hP(t))}function qw(t,e){Xp()||zw(t),Xa(t,e(t.value))}var xu=pe(B({},Tu),{equal:$w,value:void 0,kind:"signal"});function hP(t){t.version++,Lw(),Qp(t),dP?.(t)}function ng(t){let e=G(null);try{return t()}finally{G(e)}}function Q(t){return typeof t=="function"}function ro(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ru=ro(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Li(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(s){e=s instanceof Ru?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Gw(s)}catch(o){e=e??[],o instanceof Ru?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ru(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Gw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Li(n,e)}remove(e){let{_finalizers:n}=this;n&&Li(n,e),e instanceof t&&e._removeParent(this)}};qe.EMPTY=(()=>{let t=new qe;return t.closed=!0,t})();var rg=qe.EMPTY;function Mu(t){return t instanceof qe||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function Gw(t){Q(t)?t():t.unsubscribe()}var bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var io={setTimeout(t,e,...n){let{delegate:r}=io;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=io;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Nu(t){io.setTimeout(()=>{let{onUnhandledError:e}=bn;if(e)e(t);else throw t})}function Za(){}var Kw=ig("C",void 0,void 0);function Yw(t){return ig("E",void 0,t)}function Qw(t){return ig("N",t,void 0)}function ig(t,e,n){return{kind:t,value:e,error:n}}var Fi=null;function so(t){if(bn.useDeprecatedSynchronousErrorHandling){let e=!Fi;if(e&&(Fi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Fi;if(Fi=null,n)throw r}}else t()}function Xw(t){bn.useDeprecatedSynchronousErrorHandling&&Fi&&(Fi.errorThrown=!0,Fi.error=t)}var Vi=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mu(e)&&e.add(this)):this.destination=gP}static create(e,n,r){return new oo(e,n,r)}next(e){this.isStopped?og(Qw(e),this):this._next(e)}error(e){this.isStopped?og(Yw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?og(Kw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},fP=Function.prototype.bind;function sg(t,e){return fP.call(t,e)}var ag=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ku(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ku(r)}else ku(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ku(n)}}},oo=class extends Vi{constructor(e,n,r){super();let i;if(Q(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&bn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sg(e.next,s),error:e.error&&sg(e.error,s),complete:e.complete&&sg(e.complete,s)}):i=e}this.destination=new ag(i)}};function ku(t){bn.useDeprecatedSynchronousErrorHandling?Xw(t):Nu(t)}function pP(t){throw t}function og(t,e){let{onStoppedNotification:n}=bn;n&&io.setTimeout(()=>n(t,e))}var gP={closed:!0,next:Za,error:pP,complete:Za};var ao=typeof Symbol=="function"&&Symbol.observable||"@@observable";function In(t){return t}function cg(...t){return lg(t)}function lg(t){return t.length===0?In:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=yP(n)?n:new oo(n,r,i);return so(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Zw(r),new r((i,s)=>{let o=new oo({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ao](){return this}pipe(...n){return lg(n)(this)}toPromise(n){return n=Zw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Zw(t){var e;return(e=t??bn.Promise)!==null&&e!==void 0?e:Promise}function mP(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}function yP(t){return t&&t instanceof Vi||mP(t)&&Mu(t)}function vP(t){return Q(t?.lift)}function ve(t){return e=>{if(vP(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(t,e,n,r,i){return new ug(t,e,n,r,i)}var ug=class extends Vi{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Jw=ro(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var yt=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Pu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Jw}next(n){so(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){so(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){so(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?rg:(this.currentObservers=null,s.push(n),new qe(()=>{this.currentObservers=null,Li(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Pu(e,n),t})(),Pu=class extends yt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:rg}};var vt=class extends yt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var dg={now(){return(dg.delegate||Date).now()},delegate:void 0};var Ou=class extends qe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ja={setInterval(t,e,...n){let{delegate:r}=Ja;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ja;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var co=class extends Ou{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ja.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ja.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Li(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var lo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};lo.now=dg.now;var uo=class extends lo{constructor(e,n=lo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var hg=new uo(co);var Lu=class extends co{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Fu=class extends uo{};var fg=new Fu(Lu);var _t=new oe(t=>t.complete());function eD(t){return t&&Q(t.schedule)}function tD(t){return t[t.length-1]}function nD(t){return Q(tD(t))?t.pop():void 0}function qr(t){return eD(tD(t))?t.pop():void 0}function pg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iD(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{l(r.next(d))}catch(h){o(h)}}function c(d){try{l(r.throw(d))}catch(h){o(h)}}function l(d){d.done?s(d.value):i(d.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function rD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ji(t){return this instanceof ji?(this.v=t,this):new ji(t)}function sD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(y){return Promise.resolve(y).then(g,h)}}function a(g,y){r[g]&&(i[g]=function(v){return new Promise(function(E,S){s.push([g,v,E,S])>1||c(g,v)})},y&&(i[g]=y(i[g])))}function c(g,y){try{l(r[g](y))}catch(v){f(s[0][3],v)}}function l(g){g.value instanceof ji?Promise.resolve(g.value.v).then(d,h):f(s[0][2],g)}function d(g){c("next",g)}function h(g){c("throw",g)}function f(g,y){g(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function oD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof rD=="function"?rD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var Vu=t=>t&&typeof t.length=="number"&&typeof t!="function";function ju(t){return Q(t?.then)}function Bu(t){return Q(t[ao])}function Uu(t){return Symbol.asyncIterator&&Q(t?.[Symbol.asyncIterator])}function $u(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _P(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hu=_P();function zu(t){return Q(t?.[Hu])}function Wu(t){return sD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ji(n.read());if(i)return yield ji(void 0);yield yield ji(r)}}finally{n.releaseLock()}})}function qu(t){return Q(t?.getReader)}function ut(t){if(t instanceof oe)return t;if(t!=null){if(Bu(t))return EP(t);if(Vu(t))return bP(t);if(ju(t))return IP(t);if(Uu(t))return aD(t);if(zu(t))return wP(t);if(qu(t))return DP(t)}throw $u(t)}function EP(t){return new oe(e=>{let n=t[ao]();if(Q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bP(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function IP(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Nu)})}function wP(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function aD(t){return new oe(e=>{TP(t,e).catch(n=>e.error(n))})}function DP(t){return aD(Wu(t))}function TP(t,e){var n,r,i,s;return iD(this,void 0,void 0,function*(){try{for(n=oD(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ht(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Gr(t,e=0){return ve((n,r)=>{n.subscribe(Ie(r,i=>Ht(r,t,()=>r.next(i),e),()=>Ht(r,t,()=>r.complete(),e),i=>Ht(r,t,()=>r.error(i),e)))})}function Kr(t,e=0){return ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function cD(t,e){return ut(t).pipe(Kr(e),Gr(e))}function lD(t,e){return ut(t).pipe(Kr(e),Gr(e))}function uD(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function dD(t,e){return new oe(n=>{let r;return Ht(n,e,()=>{r=t[Hu](),Ht(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function Gu(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{Ht(n,e,()=>{let r=t[Symbol.asyncIterator]();Ht(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function hD(t,e){return Gu(Wu(t),e)}function fD(t,e){if(t!=null){if(Bu(t))return cD(t,e);if(Vu(t))return uD(t,e);if(ju(t))return lD(t,e);if(Uu(t))return Gu(t,e);if(zu(t))return dD(t,e);if(qu(t))return hD(t,e)}throw $u(t)}function dt(t,e){return e?fD(t,e):ut(t)}function le(...t){let e=qr(t);return dt(t,e)}function gg(t,e){let n=Q(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function Ku(t){return!!t&&(t instanceof oe||Q(t.lift)&&Q(t.subscribe))}var Bi=ro(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ue(t,e){return ve((n,r)=>{let i=0;n.subscribe(Ie(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:CP}=Array;function SP(t,e){return CP(e)?t(...e):t(e)}function pD(t){return Ue(e=>SP(t,e))}var{isArray:AP}=Array,{getPrototypeOf:xP,prototype:RP,keys:MP}=Object;function gD(t){if(t.length===1){let e=t[0];if(AP(e))return{args:e,keys:null};if(NP(e)){let n=MP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function NP(t){return t&&typeof t=="object"&&xP(t)===RP}function mD(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function mg(...t){let e=qr(t),n=nD(t),{args:r,keys:i}=gD(t);if(r.length===0)return dt([],e);let s=new oe(kP(r,e,i?o=>mD(i,o):In));return n?s.pipe(pD(n)):s}function kP(t,e,n=In){return r=>{yD(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)yD(e,()=>{let l=dt(t[c],e),d=!1;l.subscribe(Ie(r,h=>{s[c]=h,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function yD(t,e,n){t?Ht(n,t,e):e()}function vD(t,e,n,r,i,s,o,a){let c=[],l=0,d=0,h=!1,f=()=>{h&&!c.length&&!l&&e.complete()},g=v=>l<r?y(v):c.push(v),y=v=>{s&&e.next(v),l++;let E=!1;ut(n(v,d++)).subscribe(Ie(e,S=>{i?.(S),s?g(S):e.next(S)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){let S=c.shift();o?Ht(e,o,()=>y(S)):y(S)}f()}catch(S){e.error(S)}}))};return t.subscribe(Ie(e,g,()=>{h=!0,f()})),()=>{a?.()}}function Vt(t,e,n=1/0){return Q(e)?Vt((r,i)=>Ue((s,o)=>e(r,s,i,o))(ut(t(r,i))),n):(typeof e=="number"&&(n=e),ve((r,i)=>vD(r,i,t,n)))}function _D(t=1/0){return Vt(In,t)}function ED(){return _D(1)}function ho(...t){return ED()(dt(t,qr(t)))}function ec(t){return new oe(e=>{ut(t()).subscribe(e)})}function dr(t,e){return ve((n,r)=>{let i=0;n.subscribe(Ie(r,s=>t.call(e,s,i++)&&r.next(s)))})}function tc(t){return ve((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Ie(n,void 0,void 0,o=>{s=ut(t(o,tc(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Yu(t,e){return Q(e)?Vt(t,e,1):Vt(t,1)}function bD(t){return ve((e,n)=>{let r=!1;e.subscribe(Ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function hr(t){return t<=0?()=>_t:ve((e,n)=>{let r=0;e.subscribe(Ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ID(t=PP){return ve((e,n)=>{let r=!1;e.subscribe(Ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function PP(){return new Bi}function yg(t){return ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function fr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?dr((i,s)=>t(i,s,r)):In,hr(1),n?bD(e):ID(()=>new Bi))}function Qu(t){return t<=0?()=>_t:ve((e,n)=>{let r=[];e.subscribe(Ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function vg(...t){let e=qr(t);return ve((n,r)=>{(e?ho(t,n,e):ho(t,n)).subscribe(r)})}function pr(t,e){return ve((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Ie(r,c=>{i?.unsubscribe();let l=0,d=s++;ut(t(c,d)).subscribe(i=Ie(r,h=>r.next(e?e(c,h,d,l++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function nc(t){return ve((e,n)=>{ut(t).subscribe(Ie(n,()=>n.complete(),Za)),!n.closed&&e.subscribe(n)})}function Vn(t,e,n){let r=Q(t)||e||n?{next:t,error:e,complete:n}:t;return r?ve((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Ie(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):In}var _g;function Xu(){return _g}function jn(t){let e=_g;return _g=t,e}var wD=Symbol("NotFound");function fo(t){return t===wD||t?.name==="\u0275NotFound"}var go=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Og=new go("21.1.5");var $=class extends Error{code;constructor(e,n){super(mo(e,n)),this.code=e}};function VP(t){return`NG0${Math.abs(t)}`}function mo(t,e){return`${VP(t)}${e?": "+e:""}`}var zi=globalThis;function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("")}function Yr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Yr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Lg(t,e){return t?e?`${t} ${e}`:t:e||""}var jP=_e({__forward_ref__:_e});function rd(t){return t.__forward_ref__=rd,t.toString=function(){return Yr(this())},t}function zt(t){return Fg(t)?t():t}function Fg(t){return typeof t=="function"&&t.hasOwnProperty(jP)&&t.__forward_ref__===rd}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yo(t){return{providers:t.providers||[],imports:t.imports||[]}}function cc(t){return BP(t,id)}function Vg(t){return cc(t)!==null}function BP(t,e){return t.hasOwnProperty(e)&&t[e]||null}function UP(t){let e=t?.[id]??null;return e||null}function bg(t){return t&&t.hasOwnProperty(Ju)?t[Ju]:null}var id=_e({\u0275prov:_e}),Ju=_e({\u0275inj:_e}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jg(t){return t&&!!t.\u0275providers}var Bg=_e({\u0275cmp:_e}),Ug=_e({\u0275dir:_e}),$g=_e({\u0275pipe:_e}),Hg=_e({\u0275mod:_e}),ic=_e({\u0275fac:_e}),Wi=_e({__NG_ELEMENT_ID__:_e}),DD=_e({__NG_ENV_ID__:_e});function zg(t){return sd(t,"@NgModule"),t[Hg]||null}function Jr(t){return sd(t,"@Component"),t[Bg]||null}function Wg(t){return sd(t,"@Directive"),t[Ug]||null}function AD(t){return sd(t,"@Pipe"),t[$g]||null}function sd(t,e){if(t==null)throw new $(-919,!1)}function xD(t){return typeof t=="string"?t:t==null?"":String(t)}var RD=_e({ngErrorCode:_e}),$P=_e({ngErrorMessage:_e}),HP=_e({ngTokenPath:_e});function qg(t,e){return MD("",-200,e)}function od(t,e){throw new $(-201,!1)}function MD(t,e,n){let r=new $(e,t);return r[RD]=e,r[$P]=t,n&&(r[HP]=n),r}function zP(t){return t[RD]}var Ig;function ND(){return Ig}function jt(t){let e=Ig;return Ig=t,e}function Gg(t,e,n){let r=cc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;od(t,"")}var WP={},Ui=WP,wg="__NG_DI_FLAG__",Dg=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=$i(n)||0;try{return this.injector.get(e,r&8?null:Ui,r)}catch(i){if(fo(i))return i;throw i}}};function qP(t,e=0){let n=Xu();if(n===void 0)throw new $(-203,!1);if(n===null)return Gg(t,void 0,e);{let r=GP(e),i=n.retrieve(t,r);if(fo(i)){if(r.optional)return null;throw i}return i}}function Z(t,e=0){return(ND()||qP)(zt(t),e)}function L(t,e){return Z(t,$i(e))}function $i(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function GP(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Tg(t){let e=[];for(let n=0;n<t.length;n++){let r=zt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=0;for(let o=0;o<r.length;o++){let a=r[o],c=KP(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(Z(i,s))}else e.push(Z(r))}return e}function kD(t,e){return t[wg]=e,t.prototype[wg]=e,t}function KP(t){return t[wg]}function Qr(t,e){let n=t.hasOwnProperty(ic);return n?t[ic]:null}function PD(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function OD(t){return t.flat(Number.POSITIVE_INFINITY)}function ad(t,e){t.forEach(n=>Array.isArray(n)?ad(n,e):e(n))}function Kg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var qi={},wn=[],ei=new z(""),Yg=new z("",-1),Qg=new z(""),sc=class{get(e,n=Ui){if(n===Ui){let i=MD("",-201);throw i.name="\u0275NotFound",i}return n}};function yr(t){return{\u0275providers:t}}function LD(...t){return{\u0275providers:Xg(!0,t),\u0275fromNgModule:!0}}function Xg(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return ad(e,o=>{let a=o;ed(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&FD(i,s),n}function FD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Zg(i,s=>{e(s,r)})}}function ed(t,e,n,r){if(t=zt(t),!t)return!1;let i=null,s=bg(t),o=!s&&Jr(t);if(!s&&!o){let c=t.ngModule;if(s=bg(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)ed(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;ad(s.imports,d=>{ed(d,e,n,r)&&(l||=[],l.push(d))}),l!==void 0&&FD(l,e)}if(!a){let l=Qr(i)||(()=>new i);e({provide:i,useFactory:l,deps:wn},i),e({provide:Qg,useValue:i,multi:!0},i),e({provide:ei,useValue:()=>Z(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;Zg(c,d=>{e(d,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Zg(t,e){for(let n of t)jg(n)&&(n=n.\u0275providers),Array.isArray(n)?Zg(n,e):e(n)}var YP=_e({provide:String,useValue:_e});function VD(t){return t!==null&&typeof t=="object"&&YP in t}function QP(t){return!!(t&&t.useExisting)}function XP(t){return!!(t&&t.useFactory)}function td(t){return typeof t=="function"}var uc=new z(""),Zu={},TD={},Eg;function dc(){return Eg===void 0&&(Eg=new sc),Eg}var Ge=class{},Hi=class extends Ge{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Sg(e,o=>this.processProvider(o)),this.records.set(Yg,po(void 0,this)),i.has("environment")&&this.records.set(Ge,po(void 0,this));let s=this.records.get(uc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Qg,wn,{self:!0}))}retrieve(e,n){let r=$i(n)||0;try{return this.get(e,Ui,r)}catch(i){if(fo(i))return i;throw i}}destroy(){rc(this),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return rc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){rc(this);let n=jn(this),r=jt(void 0),i;try{return e()}finally{jn(n),jt(r)}}get(e,n=Ui,r){if(rc(this),e.hasOwnProperty(DD))return e[DD](this);let i=$i(r),s,o=jn(this),a=jt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let d=nO(e)&&cc(e);d&&this.injectableDefInScope(d)?l=po(Cg(e),Zu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?dc():this.parent;return n=i&8&&n===Ui?null:n,c.get(e,n)}catch(c){let l=zP(c);throw l===-200||l===-201?new $(l,null):c}finally{jt(a),jn(o)}}resolveInjectorInitializers(){let e=G(null),n=jn(this),r=jt(void 0),i;try{let s=this.get(ei,wn,{self:!0});for(let o of s)o()}finally{jn(n),jt(r),G(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Yr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=zt(e);let n=td(e)?e:zt(e&&e.provide),r=JP(e);if(!td(e)&&e.multi===!0){let i=this.records.get(n);i||(i=po(void 0,Zu,!0),i.factory=()=>Tg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=G(null);try{if(n.value===TD)throw qg(Yr(e));return n.value===Zu&&(n.value=TD,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&tO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=zt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Cg(t){let e=cc(t),n=e!==null?e.factory:Qr(t);if(n!==null)return n;if(t instanceof z)throw new $(204,!1);if(t instanceof Function)return ZP(t);throw new $(204,!1)}function ZP(t){if(t.length>0)throw new $(204,!1);let n=UP(t);return n!==null?()=>n.factory(t):()=>new t}function JP(t){if(VD(t))return po(void 0,t.useValue);{let e=jD(t);return po(e,Zu)}}function jD(t,e,n){let r;if(td(t)){let i=zt(t);return Qr(i)||Cg(i)}else if(VD(t))r=()=>zt(t.useValue);else if(XP(t))r=()=>t.useFactory(...Tg(t.deps||[]));else if(QP(t))r=(i,s)=>Z(zt(t.useExisting),s!==void 0&&s&8?8:void 0);else{let i=zt(t&&(t.useClass||t.provide));if(eO(t))r=()=>new i(...Tg(t.deps));else return Qr(i)||Cg(i)}return r}function rc(t){if(t.destroyed)throw new $(205,!1)}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function eO(t){return!!t.deps}function tO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nO(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Sg(t,e){for(let n of t)Array.isArray(n)?Sg(n,e):n&&jg(n)?Sg(n.\u0275providers,e):e(n)}function Ze(t,e){let n;t instanceof Hi?(rc(t),n=t):n=new Dg(t);let r,i=jn(n),s=jt(void 0);try{return e()}finally{jn(i),jt(s)}}function BD(){return ND()!==void 0||Xu()!=null}var Dn=0,q=1,Y=2,ot=3,on=4,an=5,vo=6,_o=7,Je=8,vr=9,_r=10,at=11,Eo=12,Jg=13,Gi=14,Qt=15,ti=16,Ki=17,Bn=18,Er=19,em=20,gr=21,cd=22,hc=23,Xt=24,ld=25,Yi=26,Et=27,UD=1,tm=6,ni=7,fc=8,Qi=9,$e=10;function Un(t){return Array.isArray(t)&&typeof t[UD]=="object"}function Tn(t){return Array.isArray(t)&&t[UD]===!0}function nm(t){return(t.flags&4)!==0}function ri(t){return t.componentOffset>-1}function ud(t){return(t.flags&1)===1}function Xi(t){return!!t.template}function bo(t){return(t[Y]&512)!==0}function Zi(t){return(t[Y]&256)===256}var $D="svg",HD="math";function cn(t){for(;Array.isArray(t);)t=t[Dn];return t}function zD(t,e){return cn(e[t])}function $n(t,e){return cn(e[t.index])}function pc(t,e){return t.data[e]}function rm(t,e){return t[e]}function im(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ln(t,e){let n=e[t];return Un(n)?n:n[Dn]}function WD(t){return(t[Y]&4)===4}function dd(t){return(t[Y]&128)===128}function qD(t){return Tn(t[ot])}function Io(t,e){return e==null?null:t[e]}function sm(t){t[Ki]=0}function om(t){t[Y]&1024||(t[Y]|=1024,dd(t)&&mc(t))}function GD(t,e){for(;t>0;)e=e[Gi],t--;return e}function gc(t){return!!(t[Y]&9216||t[Xt]?.dirty)}function hd(t){t[_r].changeDetectionScheduler?.notify(8),t[Y]&64&&(t[Y]|=1024),gc(t)&&mc(t)}function mc(t){t[_r].changeDetectionScheduler?.notify(0);let e=Xr(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!dd(e)));)e=Xr(e)}function am(t,e){if(Zi(t))throw new $(911,!1);t[gr]===null&&(t[gr]=[]),t[gr].push(e)}function KD(t,e){if(t[gr]===null)return;let n=t[gr].indexOf(e);n!==-1&&t[gr].splice(n,1)}function Xr(t){let e=t[ot];return Tn(e)?e[ot]:e}function cm(t){return t[_o]??=[]}function lm(t){return t.cleanup??=[]}function YD(t,e,n,r){let i=cm(e);i.push(n),t.firstCreatePass&&lm(t).push(r,i.length-1)}var ne={lFrame:hT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ag=!1;function QD(){return ne.lFrame.elementDepthCount}function XD(){ne.lFrame.elementDepthCount++}function ZD(){ne.lFrame.elementDepthCount--}function JD(){return ne.bindingsEnabled}function eT(){return ne.skipHydrationRootTNode!==null}function tT(t){return ne.skipHydrationRootTNode===t}function nT(){ne.skipHydrationRootTNode=null}function Ae(){return ne.lFrame.lView}function Hn(){return ne.lFrame.tView}function Ji(t){return ne.lFrame.contextLView=t,t[Je]}function es(t){return ne.lFrame.contextLView=null,t}function Cn(){let t=um();for(;t!==null&&t.type===64;)t=t.parent;return t}function um(){return ne.lFrame.currentTNode}function rT(){let t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function wo(t,e){let n=ne.lFrame;n.currentTNode=t,n.isParent=e}function dm(){return ne.lFrame.isParent}function iT(){ne.lFrame.isParent=!1}function sT(){return ne.lFrame.contextLView}function hm(){return Ag}function fm(t){let e=Ag;return Ag=t,e}function oT(){let t=ne.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function aT(t){return ne.lFrame.bindingIndex=t}function fd(){return ne.lFrame.bindingIndex++}function cT(){return ne.lFrame.inI18n}function lT(t,e){let n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,pd(e)}function uT(){return ne.lFrame.currentDirectiveIndex}function pd(t){ne.lFrame.currentDirectiveIndex=t}function pm(){return ne.lFrame.currentQueryIndex}function gd(t){ne.lFrame.currentQueryIndex=t}function rO(t){let e=t[q];return e.type===2?e.declTNode:e.type===1?t[an]:null}function gm(t,e,n){if(n&4){let i=e,s=t;for(;i=i.parent,i===null&&!(n&1);)if(i=rO(s),i===null||(s=s[Gi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ne.lFrame=dT();return r.currentTNode=e,r.lView=t,!0}function md(t){let e=dT(),n=t[q];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dT(){let t=ne.lFrame,e=t===null?null:t.child;return e===null?hT(t):e}function hT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function fT(){let t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var mm=fT;function yd(){let t=fT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pT(t){return(ne.lFrame.contextLView=GD(t,ne.lFrame.contextLView))[Je]}function yc(){return ne.lFrame.selectedIndex}function ii(t){ne.lFrame.selectedIndex=t}function gT(){let t=ne.lFrame;return pc(t.tView,t.selectedIndex)}function mT(){return ne.lFrame.currentNamespace}var yT=!0;function vd(){return yT}function _d(t){yT=t}function xg(t,e=null,n=null,r){let i=ym(t,e,n,r);return i.resolveInjectorInitializers(),i}function ym(t,e=null,n=null,r,i=new Set){let s=[n||wn,LD(t)];return r=r||(typeof t=="object"?void 0:Yr(t)),new Hi(s,e||dc(),r||null,i)}var xt=class t{static THROW_IF_NOT_FOUND=Ui;static NULL=new sc;static create(e,n){if(Array.isArray(e))return xg({name:""},n,e,"");{let r=e.name??"";return xg({name:r},e.parent,e.providers,r)}}static \u0275prov=W({token:t,providedIn:"any",factory:()=>Z(Yg)});static __NG_ELEMENT_ID__=-1},ht=new z(""),si=(()=>{class t{static __NG_ELEMENT_ID__=iO;static __NG_ENV_ID__=n=>n}return t})(),Rg=class extends si{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Zi(this._lView)}onDestroy(e){let n=this._lView;return am(n,e),()=>KD(n,e)}};function iO(){return new Rg(Ae())}var vm=!1,vT=new z(""),zn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new vt(!1);debugTaskTracker=L(vT,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new oe(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})(),Mg=class extends yt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,BD()&&(this.destroyRef=L(si,{optional:!0})??void 0,this.pendingTasks=L(zn,{optional:!0})??void 0)}emit(e){let n=G(null);try{super.next(e)}finally{G(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof qe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Bt=Mg;function nd(...t){}function _m(t){let e,n;function r(){t=nd;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function _T(t){return queueMicrotask(()=>t()),()=>{t=nd}}var Em="isAngularZone",oc=Em+"_ID",sO=0,we=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Bt(!1);onMicrotaskEmpty=new Bt(!1);onStable=new Bt(!1);onError=new Bt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=vm}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,cO(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Em)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,oO,nd,nd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},oO={};function bm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function aO(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){_m(()=>{t.callbackScheduled=!1,Ng(t),t.isCheckStableRunning=!0,bm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ng(t)}function cO(t){let e=()=>{aO(t)},n=sO++;t._inner=t._inner.fork({name:"angular",properties:{[Em]:!0,[oc]:n,[oc+n]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(lO(c))return r.invokeTask(s,o,a,c);try{return CD(t),r.invokeTask(s,o,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),SD(t)}},onInvoke:(r,i,s,o,a,c,l)=>{try{return CD(t),r.invoke(s,o,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!uO(c)&&e(),SD(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Ng(t),bm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Ng(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function CD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function SD(t){t._nesting--,bm(t)}var ac=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Bt;onMicrotaskEmpty=new Bt;onStable=new Bt;onError=new Bt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function lO(t){return ET(t,"__ignore_ng_zone__")}function uO(t){return ET(t,"__scheduler_tick__")}function ET(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var mr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},un=new z("",{factory:()=>{let t=L(we),e=L(Ge),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(mr),n.handleError(r))})}}}),bT={provide:ei,useValue:()=>{let t=L(mr,{optional:!0})},multi:!0};function ts(t,e){let[n,r,i]=tg(t,e?.equal),s=n,o=s[sn];return s.set=r,s.update=i,s.asReadonly=IT.bind(s),s}function IT(){let t=this[sn];if(t.readonlyFn===void 0){let e=()=>this();e[sn]=t,t.readonlyFn=e}return t.readonlyFn}var Zr=class{},Do=new z("",{factory:()=>!0});var Ed=new z(""),To=(()=>{class t{internalPendingTasks=L(zn);scheduler=L(Zr);errorHandler=L(un);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})(),Im=(()=>{class t{static \u0275prov=W({token:t,providedIn:"root",factory:()=>new kg})}return t})(),kg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Pg=class{[sn];constructor(e){this[sn]=e}destroy(){this[sn].destroy()}};function Sn(t){return ng(t)}function Mo(t){return{toString:t}.toString()}var bd="__parameters__";function EO(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function bO(t,e,n){return Mo(()=>{let r=EO(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,d){let h=c.hasOwnProperty(bd)?c[bd]:Object.defineProperty(c,bd,{value:[]})[bd];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var br=kD(bO("Optional"),8);function IO(t){return typeof t=="function"}function ZT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Cd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},Bd=(()=>{let t=()=>JT;return t.ngInherit=!0,t})();function JT(t){return t.type.prototype.ngOnChanges&&(t.setInput=DO),wO}function wO(){let t=t0(this),e=t?.current;if(e){let n=t.previous;if(n===qi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function DO(t,e,n,r,i){let s=this.declaredInputs[r],o=t0(t)||TO(t,{previous:qi,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new Cd(l&&l.currentValue,n,c===qi),ZT(t,e,i,n)}var e0="__ngSimpleChanges__";function t0(t){return t[e0]||null}function TO(t,e){return t[e0]=e}var wT=[];var De=function(t,e=null,n){for(let r=0;r<wT.length;r++){let i=wT[r];i(t,e,n)}},me=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(me||{});function CO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=JT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function SO(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Id(t,e,n){n0(t,e,3,n)}function wd(t,e,n,r){(t[Y]&3)===n&&n0(t,e,n,r)}function wm(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function n0(t,e,n,r){let i=r!==void 0?t[Ki]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ki]+=65536),(a<s||s==-1)&&(AO(t,n,e,c),t[Ki]=(t[Ki]&4294901760)+c+2),c++}function DT(t,e){De(me.LifecycleHookStart,t,e);let n=G(null);try{e.call(t)}finally{G(n),De(me.LifecycleHookEnd,t,e)}}function AO(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Y]>>14<t[Ki]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,DT(a,s)):DT(a,s)}var So=-1,bc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function xO(t){return(t.flags&8)!==0}function RO(t){return(t.flags&16)!==0}function MO(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];kO(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function NO(t){return t===3||t===4||t===6}function kO(t){return t.charCodeAt(0)===64}function Zm(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?TT(t,n,i,null,e[++r]):TT(t,n,i,null,null))}}return t}function TT(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){i!==null&&(t[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i)}function r0(t){return t!==So}function Sd(t){return t&32767}function PO(t){return t>>16}function Ad(t,e){let n=PO(t),r=e;for(;n>0;)r=r[Gi],n--;return r}var Rm=!0;function xd(t){let e=Rm;return Rm=t,e}var OO=256,i0=OO-1,s0=5,LO=0,Wn={};function FO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Wi)&&(r=n[Wi]),r==null&&(r=n[Wi]=LO++);let i=r&i0,s=1<<i;e.data[t+(i>>s0)]|=s}function o0(t,e){let n=a0(t,e);if(n!==-1)return n;let r=e[q];r.firstCreatePass&&(t.injectorIndex=e.length,Dm(r.data,t),Dm(e,null),Dm(r.blueprint,null));let i=Jm(t,e),s=t.injectorIndex;if(r0(i)){let o=Sd(i),a=Ad(i,e),c=a[q].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Dm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function a0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Jm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=h0(i),r===null)return So;if(n++,i=i[Gi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return So}function VO(t,e,n){FO(t,e,n)}function c0(t,e,n){if(n&8||t!==void 0)return t;od(e,"NodeInjector")}function l0(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[vr],s=jt(void 0);try{return i?i.get(e,r,n&8):Gg(e,r,n&8)}finally{jt(s)}}return c0(r,e,n)}function u0(t,e,n,r=0,i){if(t!==null){if(e[Y]&2048&&!(r&2)){let o=$O(t,e,n,r,Wn);if(o!==Wn)return o}let s=d0(t,e,n,r,Wn);if(s!==Wn)return s}return l0(e,n,r,i)}function d0(t,e,n,r,i){let s=BO(n);if(typeof s=="function"){if(!gm(e,t,r))return r&1?c0(i,n,r):l0(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&8))od(n);else return o}finally{mm()}}else if(typeof s=="number"){let o=null,a=a0(t,e),c=So,l=r&1?e[Qt][an]:null;for((a===-1||r&4)&&(c=a===-1?Jm(t,e):e[a+8],c===So||!ST(r,!1)?a=-1:(o=e[q],a=Sd(c),e=Ad(c,e)));a!==-1;){let d=e[q];if(CT(s,a,d.data)){let h=jO(a,e,n,o,r,l);if(h!==Wn)return h}c=e[a+8],c!==So&&ST(r,e[q].data[a+8]===l)&&CT(s,a,e)?(o=d,a=Sd(c),e=Ad(c,e)):a=-1}}return i}function jO(t,e,n,r,i,s){let o=e[q],a=o.data[t+8],c=r==null?ri(a)&&Rm:r!=o&&(a.type&3)!==0,l=i&1&&s===a,d=Dd(a,o,n,c,l);return d!==null?Rd(e,o,d,a,i):Wn}function Dd(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,d=s>>20,h=r?a:a+d,f=i?a+d:l;for(let g=h;g<f;g++){let y=o[g];if(g<c&&n===y||g>=c&&y.type===n)return g}if(i){let g=o[c];if(g&&Xi(g)&&g.type===n)return c}return null}function Rd(t,e,n,r,i){let s=t[n],o=e.data;if(s instanceof bc){let a=s;if(a.resolving)throw qg("");let c=xd(a.canSeeViewProviders);a.resolving=!0;let l=o[n].type||o[n],d,h=a.injectImpl?jt(a.injectImpl):null,f=gm(t,r,0);try{s=t[n]=a.factory(void 0,i,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&CO(n,o[n],e)}finally{h!==null&&jt(h),xd(c),a.resolving=!1,mm()}}return s}function BO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Wi)?t[Wi]:void 0;return typeof e=="number"?e>=0?e&i0:UO:e}function CT(t,e,n){let r=1<<t;return!!(n[e+(t>>s0)]&r)}function ST(t,e){return!(t&2)&&!(t&1&&e)}var ns=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return u0(this._tNode,this._lView,e,$i(r),n)}};function UO(){return new ns(Cn(),Ae())}function Ud(t){return Mo(()=>{let e=t.prototype.constructor,n=e[ic]||Mm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ic]||Mm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Mm(t){return Fg(t)?()=>{let e=Mm(zt(t));return e&&e()}:Qr(t)}function $O(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Y]&2048&&!bo(o);){let a=d0(s,o,n,r|2,Wn);if(a!==Wn)return a;let c=s.parent;if(!c){let l=o[em];if(l){let d=l.get(n,Wn,r);if(d!==Wn)return d}c=h0(o),o=o[Gi]}s=c}return i}function h0(t){let e=t[q],n=e.type;return n===2?e.declTNode:n===1?t[an]:null}function HO(){return No(Cn(),Ae())}function No(t,e){return new os($n(t,e))}var os=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=HO}return t})();function zO(t){return t instanceof os?t.nativeElement:t}function WO(){return this._results[Symbol.iterator]()}var Md=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new yt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=OD(e);(this._changesDetected=!PD(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=WO};function f0(t){return(t.flags&128)===128}var ey=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(ey||{}),p0=new Map,qO=0;function GO(){return qO++}function KO(t){p0.set(t[Er],t)}function Nm(t){p0.delete(t[Er])}var AT="__ngContext__";function Ao(t,e){Un(e)?(t[AT]=e[Er],KO(e)):t[AT]=e}function g0(t){return y0(t[Eo])}function m0(t){return y0(t[on])}function y0(t){for(;t!==null&&!Tn(t);)t=t[on];return t}var YO;function ty(t){YO=t}var $d=new z("",{factory:()=>QO}),QO="ng";var Hd=new z(""),as=new z("",{providedIn:"platform",factory:()=>"unknown"});var zd=new z("",{factory:()=>L(ht).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var v0="r";var _0="di";var E0=!1,b0=new z("",{factory:()=>E0});var XO=(t,e,n,r)=>{};function ZO(t,e,n,r){XO(t,e,n,r)}function ny(t){return(t.flags&32)===32}var JO=()=>null;function I0(t,e,n=!1){return JO(t,e,n)}function w0(t,e){let n=t.contentQueries;if(n!==null){let r=G(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];gd(s),a.contentQueries(2,e[o],o)}}}finally{G(r)}}}function km(t,e,n){gd(0);let r=G(null);try{e(t,n)}finally{G(r)}}function D0(t,e,n){if(nm(e)){let r=G(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{G(r)}}}var xn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(xn||{});function e1(t,e){return t.createText(e)}function t1(t,e,n){t.setValue(e,n)}function T0(t,e,n){return t.createElement(e,n)}function Nd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function C0(t,e,n){t.appendChild(e,n)}function xT(t,e,n,r,i){r!==null?Nd(t,e,n,r,i):C0(t,e,n)}function S0(t,e,n,r){t.removeChild(null,e,n,r)}function n1(t,e,n){t.setAttribute(e,"style",n)}function r1(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function A0(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&MO(t,e,r),i!==null&&r1(t,e,i),s!==null&&n1(t,e,s)}function x0(t){return t instanceof Function?t():t}function i1(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}var R0="ng-template";function s1(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&i1(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ry(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function ry(t){return t.type===4&&t.value!==R0}function o1(t,e,n){let r=t.type===4&&!n?R0:t.value;return e===r}function a1(t,e,n){let r=4,i=t.attrs,s=i!==null?u1(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!An(r)&&!An(c))return!1;if(o&&An(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!o1(t,c,n)||c===""&&e.length===1){if(An(r))return!1;o=!0}}else if(r&8){if(i===null||!s1(t,i,c,n)){if(An(r))return!1;o=!0}}else{let l=e[++a],d=c1(c,i,ry(t),n);if(d===-1){if(An(r))return!1;o=!0;continue}if(l!==""){let h;if(d>s?h="":h=i[d+1].toLowerCase(),r&2&&l!==h){if(An(r))return!1;o=!0}}}}return An(r)||o}function An(t){return(t&1)===0}function c1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return d1(e,t)}function l1(t,e,n=!1){for(let r=0;r<e.length;r++)if(a1(t,e[r],n))return!0;return!1}function u1(t){for(let e=0;e<t.length;e++){let n=t[e];if(NO(n))return e}return t.length}function d1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function RT(t,e){return t?":not("+e.trim()+")":e}function h1(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!An(o)&&(e+=RT(s,i),i=""),r=o,s=s||!An(r);n++}return i!==""&&(e+=RT(s,i)),e}function f1(t){return t.map(h1).join(",")}function p1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!An(i))break;i=s}r++}return n.length&&e.push(1,...n),e}var cs={};function iy(t,e,n,r,i,s,o,a,c,l,d){let h=Et+r,f=h+i,g=g1(h,f),y=typeof l=="function"?l():l;return g[q]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}function g1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:cs);return n}function m1(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=iy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function sy(t,e,n,r,i,s,o,a,c,l,d){let h=e.blueprint.slice();return h[Dn]=i,h[Y]=r|4|128|8|64|1024,(l!==null||t&&t[Y]&2048)&&(h[Y]|=2048),sm(h),h[ot]=h[Gi]=t,h[Je]=n,h[_r]=o||t&&t[_r],h[at]=a||t&&t[at],h[vr]=c||t&&t[vr]||null,h[an]=s,h[Er]=GO(),h[vo]=d,h[em]=l,h[Qt]=e.type==2?t[Qt]:h,h}function y1(t,e,n){let r=$n(e,t),i=m1(n),s=t[_r].rendererFactory,o=oy(t,sy(t,i,null,M0(n),r,e,null,s.createRenderer(r,n),null,null,null));return t[e.index]=o}function M0(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function N0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function oy(t,e){return t[Eo]?t[Jg][on]=e:t[Eo]=e,t[Jg]=e,e}function dn(t=1){k0(Hn(),Ae(),yc()+t,!1)}function k0(t,e,n,r){if(!r)if((e[Y]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Id(e,s,n)}else{let s=t.preOrderHooks;s!==null&&wd(e,s,0,n)}ii(n)}var Wd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Wd||{});function Pm(t,e,n,r){let i=G(null);try{let[s,o,a]=t.inputs[n],c=null;(o&Wd.SignalBased)!==0&&(c=e[s][sn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,s):ZT(e,c,s,r)}finally{G(i)}}var ai=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(ai||{}),v1;function ay(t,e){return v1(t,e)}var rs=new Set,cy=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(cy||{}),Cc=new z(""),MT=new Set;function Sc(t){MT.has(t)||(MT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var P0=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})();var ly=new z("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:L(Ge)})});function O0(t,e,n){let r=t.get(ly);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function _1(t,e){let n=t.get(ly);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function E1(t,e){for(let[n,r]of e)O0(t,r.animateFns)}function b1(t,e){let n=t.get(ly);if(Array.isArray(e))for(let r of e)n.queue.delete(r);else n.queue.delete(e)}function NT(t,e,n,r){let i=t?.[Yi]?.enter;e!==null&&i&&i.has(n.index)&&E1(r,i)}function Co(t,e,n,r,i,s,o,a){if(i!=null){let c,l=!1;Tn(i)?c=i:Un(i)&&(l=!0,i=i[Dn]);let d=cn(i);t===0&&r!==null?(NT(a,r,s,n),o==null?C0(e,r,d):Nd(e,r,d,o||null,!0)):t===1&&r!==null?(NT(a,r,s,n),Nd(e,r,d,o||null,!0)):t===2?kT(a,s,n,h=>{S0(e,d,l,h)}):t===3&&kT(a,s,n,()=>{e.destroyNode(d)}),c!=null&&P1(e,t,n,c,s,r,o)}}function I1(t,e){L0(t,e),e[Dn]=null,e[an]=null}function w1(t,e,n,r,i,s){r[Dn]=i,r[an]=e,Gd(t,r,n,1,i,s)}function L0(t,e){e[_r].changeDetectionScheduler?.notify(9),Gd(t,e,e[at],2,null,null)}function D1(t){let e=t[Eo];if(!e)return Tm(t[q],t);for(;e;){let n=null;if(Un(e))n=e[Eo];else{let r=e[$e];r&&(n=r)}if(!n){for(;e&&!e[on]&&e!==t;)Un(e)&&Tm(e[q],e),e=e[ot];e===null&&(e=t),Un(e)&&Tm(e[q],e),n=e&&e[on]}e=n}}function uy(t,e){let n=t[Qi],r=n.indexOf(e);n.splice(r,1)}function qd(t,e){if(Zi(e))return;let n=e[at];n.destroyNode&&Gd(t,e,n,3,null,null),D1(e)}function Tm(t,e){if(Zi(e))return;let n=G(null);try{e[Y]&=-129,e[Y]|=256,e[Xt]&&Qa(e[Xt]),S1(t,e),C1(t,e),e[q].type===1&&e[at].destroy();let r=e[ti];if(r!==null&&Tn(e[ot])){r!==e[ot]&&uy(r,e);let i=e[Bn];i!==null&&i.detachView(t)}Nm(e)}finally{G(n)}}function kT(t,e,n,r){let i=t?.[Yi];if(i?.enter?.has(e.index)&&b1(n,i.enter.get(e.index).animateFns),i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&rs.add(t[Er]),O0(n,()=>{if(i.leave&&i.leave.has(e.index)){let o=i.leave.get(e.index),a=[];if(o){for(let c=0;c<o.animateFns.length;c++){let l=o.animateFns[c],{promise:d}=l();a.push(d)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),T1(t,r)}else t&&rs.delete(t[Er]),r(!1)},i)}function T1(t,e){let n=t[Yi]?.running;if(n){n.then(()=>{t[Yi].running=void 0,rs.delete(t[Er]),e(!0)});return}e(!1)}function C1(t,e){let n=t.cleanup,r=e[_o];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[n[o+1]];n[o].call(a)}r!==null&&(e[_o]=null);let i=e[gr];if(i!==null){e[gr]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[hc];if(s!==null){e[hc]=null;for(let o of s)o.destroy()}}function S1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof bc)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];De(me.LifecycleHookStart,a,c);try{c.call(a)}finally{De(me.LifecycleHookEnd,a,c)}}else{De(me.LifecycleHookStart,i,s);try{s.call(i)}finally{De(me.LifecycleHookEnd,i,s)}}}}}function A1(t,e,n){return x1(t,e.parent,n)}function x1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Dn];if(ri(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===xn.None||i===xn.Emulated)return null}return $n(r,n)}function R1(t,e,n){return N1(t,e,n)}function M1(t,e,n){return t.type&40?$n(t,n):null}var N1=M1,PT;function dy(t,e,n,r){let i=A1(t,r,e),s=e[at],o=r.parent||e[an],a=R1(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)xT(s,i,n[c],a,!1);else xT(s,i,n,a,!1);PT!==void 0&&PT(s,r,e,n,i)}function _c(t,e){if(e!==null){let n=e.type;if(n&3)return $n(e,t);if(n&4)return Om(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return _c(t,r);{let i=t[e.index];return Tn(i)?Om(-1,i):cn(i)}}else{if(n&128)return _c(t,e.next);if(n&32)return ay(e,t)()||cn(t[e.index]);{let r=F0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Xr(t[Qt]);return _c(i,r)}else return _c(t,e.next)}}}return null}function F0(t,e){if(e!==null){let r=t[Qt][an],i=e.projection;return r.projection[i]}return null}function Om(t,e){let n=$e+t+1;if(n<e.length){let r=e[n],i=r[q].firstChild;if(i!==null)return _c(r,i)}return e[ni]}function hy(t,e,n,r,i,s,o){for(;n!=null;){let a=r[vr];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(o&&e===0&&(c&&Ao(cn(c),r),n.flags|=2),!ny(n))if(l&8)hy(t,e,n.child,r,i,s,!1),Co(e,t,a,i,c,n,s,r);else if(l&32){let d=ay(n,r),h;for(;h=d();)Co(e,t,a,i,h,n,s,r);Co(e,t,a,i,c,n,s,r)}else l&16?k1(t,e,r,n,i,s):Co(e,t,a,i,c,n,s,r);n=o?n.projectionNext:n.next}}function Gd(t,e,n,r,i,s){hy(n,r,t.firstChild,e,i,s,!1)}function k1(t,e,n,r,i,s){let o=n[Qt],c=o[an].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Co(e,t,n[vr],i,d,r,s,n)}else{let l=c,d=o[ot];f0(r)&&(l.flags|=128),hy(t,e,l,d,i,s,!0)}}function P1(t,e,n,r,i,s,o){let a=r[ni],c=cn(r);a!==c&&Co(e,t,n,s,a,i,o);for(let l=$e;l<r.length;l++){let d=r[l];Gd(d[q],d,t,e,s,a)}}function V0(t,e,n,r,i){let s=yc(),o=r&2;try{ii(-1),o&&e.length>Et&&k0(t,e,Et,!1);let a=o?me.TemplateUpdateStart:me.TemplateCreateStart;De(a,i,n),n(r,i)}finally{ii(s);let a=o?me.TemplateUpdateEnd:me.TemplateCreateEnd;De(a,i,n)}}function j0(t,e,n){$1(t,e,n),(n.flags&64)===64&&H1(t,e,n)}function B0(t,e,n=$n){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function O1(t,e,n,r){let s=r.get(b0,E0)||n===xn.ShadowDom||n===xn.ExperimentalIsolatedShadowDom,o=t.selectRootElement(e,s);return L1(o),o}function L1(t){F1(t)}var F1=()=>null;function V1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function j1(t,e,n,r,i,s){let o=e[q];if(fy(t,o,e,n,r)){ri(t)&&U1(e,t.index);return}t.type&3&&(n=V1(n)),B1(t,e,n,r,i,s)}function B1(t,e,n,r,i,s){if(t.type&3){let o=$n(t,e);r=s!=null?s(r,t.value||"",n):r,i.setProperty(o,n,r)}else t.type&12}function U1(t,e){let n=ln(e,t);n[Y]&16||(n[Y]|=64)}function $1(t,e,n){let r=n.directiveStart,i=n.directiveEnd;ri(n)&&y1(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||o0(n,e);let s=n.initialInputs;for(let o=r;o<i;o++){let a=t.data[o],c=Rd(e,t,o,n);if(Ao(c,e),s!==null&&q1(e,o-r,c,a,n,s),Xi(a)){let l=ln(n.index,e);l[Je]=Rd(e,t,o,n)}}}function H1(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=uT();try{ii(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];pd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&z1(c,l)}}finally{ii(-1),pd(o)}}function z1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function W1(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];l1(e,s.selectors,!1)&&(r??=[],Xi(s)?r.unshift(s):r.push(s))}return r}function q1(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],l=o[a+1];Pm(r,n,c,l)}}function G1(t,e,n,r,i){let s=Et+n,o=e[q],a=i(o,e,t,r,n);e[s]=a,wo(t,!0);let c=t.type===2;return c?(A0(e[at],a,t),(QD()===0||ud(t))&&Ao(a,e),XD()):Ao(a,e),vd()&&(!c||!ny(t))&&dy(o,e,a,t),t}function K1(t){let e=t;return dm()?iT():(e=e.parent,wo(e,!1)),e}function Y1(t,e){let n=t[vr];if(!n)return;let r;try{r=n.get(un,null)}catch{r=null}r?.(e)}function fy(t,e,n,r,i){let s=t.inputs?.[r],o=t.hostDirectiveInputs?.[r],a=!1;if(o)for(let c=0;c<o.length;c+=2){let l=o[c],d=o[c+1],h=e.data[l];Pm(h,n[l],d,i),a=!0}if(s)for(let c of s){let l=n[c],d=e.data[c];Pm(d,l,r,i),a=!0}return a}function Q1(t,e){let n=ln(e,t),r=n[q];X1(r,n);let i=n[Dn];i!==null&&n[vo]===null&&(n[vo]=I0(i,n[vr])),De(me.ComponentStart);try{py(r,n,n[Je])}finally{De(me.ComponentEnd,n[Je])}}function X1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function py(t,e,n){md(e);try{let r=t.viewQuery;r!==null&&km(1,r,n);let i=t.template;i!==null&&V0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Bn]?.finishViewCreation(t),t.staticContentQueries&&w0(t,e),t.staticViewQueries&&km(2,t.viewQuery,n);let s=t.components;s!==null&&Z1(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,yd()}}function Z1(t,e){for(let n=0;n<e.length;n++)Q1(t,e[n])}function gy(t,e,n,r){let i=G(null);try{let s=e.tView,a=t[Y]&4096?4096:16,c=sy(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[ti]=l;let d=t[Bn];return d!==null&&(c[Bn]=d.createEmbeddedView(s)),py(s,c,n),c}finally{G(i)}}function kd(t,e){return!e||e.firstChild===null||f0(t)}function Ic(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(cn(s)),Tn(s)&&U0(s,r);let o=n.type;if(o&8)Ic(t,e,n.child,r);else if(o&32){let a=ay(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=F0(e,n);if(Array.isArray(a))r.push(...a);else{let c=Xr(e[Qt]);Ic(c[q],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function U0(t,e){for(let n=$e;n<t.length;n++){let r=t[n],i=r[q].firstChild;i!==null&&Ic(r[q],r,i,e)}t[ni]!==t[Dn]&&e.push(t[ni])}function $0(t){if(t[ld]!==null){for(let e of t[ld])e.impl.addSequence(e);t[ld].length=0}}var H0=[];function J1(t){return t[Xt]??eL(t)}function eL(t){let e=H0.pop()??Object.create(nL);return e.lView=t,e}function tL(t){t.lView[Xt]!==t&&(t.lView=null,H0.push(t))}var nL=pe(B({},Tu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{mc(t.lView)},consumerOnSignalRead(){this.lView[Xt]=this}});function rL(t){let e=t[Xt]??Object.create(iL);return e.lView=t,e}var iL=pe(B({},Tu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Xr(t.lView);for(;e&&!z0(e[q]);)e=Xr(e);e&&om(e)},consumerOnSignalRead(){this.lView[Xt]=this}});function z0(t){return t.type!==2}function W0(t){if(t[hc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[hc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Y]&8192)}}var sL=100;function q0(t,e=0){let r=t[_r].rendererFactory,i=!1;i||r.begin?.();try{oL(t,e)}finally{i||r.end?.()}}function oL(t,e){let n=hm();try{fm(!0),Lm(t,e);let r=0;for(;gc(t);){if(r===sL)throw new $(103,!1);r++,Lm(t,1)}}finally{fm(n)}}function aL(t,e,n,r){if(Zi(e))return;let i=e[Y],s=!1,o=!1;md(e);let a=!0,c=null,l=null;s||(z0(t)?(l=J1(e),c=Su(l)):Du()===null?(a=!1,l=rL(e),c=Su(l)):e[Xt]&&(Qa(e[Xt]),e[Xt]=null));try{sm(e),aT(t.bindingStartIndex),n!==null&&V0(t,e,n,2,r);let d=(i&3)===3;if(!s)if(d){let g=t.preOrderCheckHooks;g!==null&&Id(e,g,null)}else{let g=t.preOrderHooks;g!==null&&wd(e,g,0,null),wm(e,0)}if(o||cL(e),W0(e),G0(e,0),t.contentQueries!==null&&w0(t,e),!s)if(d){let g=t.contentCheckHooks;g!==null&&Id(e,g)}else{let g=t.contentHooks;g!==null&&wd(e,g,1),wm(e,1)}uL(t,e);let h=t.components;h!==null&&Y0(e,h,0);let f=t.viewQuery;if(f!==null&&km(2,f,r),!s)if(d){let g=t.viewCheckHooks;g!==null&&Id(e,g)}else{let g=t.viewHooks;g!==null&&wd(e,g,2),wm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[cd]){for(let g of e[cd])g();e[cd]=null}s||($0(e),e[Y]&=-73)}catch(d){throw s||mc(e),d}finally{l!==null&&(Zp(l,c),a&&tL(l)),yd()}}function G0(t,e){for(let n=g0(t);n!==null;n=m0(n))for(let r=$e;r<n.length;r++){let i=n[r];K0(i,e)}}function cL(t){for(let e=g0(t);e!==null;e=m0(e)){if(!(e[Y]&2))continue;let n=e[Qi];for(let r=0;r<n.length;r++){let i=n[r];om(i)}}}function lL(t,e,n){De(me.ComponentStart);let r=ln(e,t);try{K0(r,n)}finally{De(me.ComponentEnd,r[Je])}}function K0(t,e){dd(t)&&Lm(t,e)}function Lm(t,e){let r=t[q],i=t[Y],s=t[Xt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Au(s)),o||=!1,s&&(s.dirty=!1),t[Y]&=-9217,o)aL(r,t,r.template,t[Je]);else if(i&8192){let a=G(null);try{W0(t),G0(t,1);let c=r.components;c!==null&&Y0(t,c,1),$0(t)}finally{G(a)}}}function Y0(t,e,n){for(let r=0;r<e.length;r++)lL(t,e[r],n)}function uL(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ii(~i);else{let s=i,o=n[++r],a=n[++r];lT(o,s);let c=e[s];De(me.HostBindingsUpdateStart,c);try{a(2,c)}finally{De(me.HostBindingsUpdateEnd,c)}}}}finally{ii(-1)}}function my(t,e){let n=hm()?64:1088;for(t[_r].changeDetectionScheduler?.notify(e);t;){t[Y]|=n;let r=Xr(t);if(bo(t)&&!r)return t;t=r}return null}function Q0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function dL(t,e){let n=$e+e;if(n<t.length)return t[n]}function yy(t,e,n,r=!0){let i=e[q];if(fL(i,e,t,n),r){let o=Om(n,t),a=e[at],c=a.parentNode(t[ni]);c!==null&&w1(i,t[an],a,e,c,o)}let s=e[vo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function hL(t,e){let n=wc(t,e);return n!==void 0&&qd(n[q],n),n}function wc(t,e){if(t.length<=$e)return;let n=$e+e,r=t[n];if(r){let i=r[ti];i!==null&&i!==t&&uy(i,r),e>0&&(t[n-1][on]=r[on]);let s=lc(t,$e+e);I1(r[q],r);let o=s[Bn];o!==null&&o.detachView(s[q]),r[ot]=null,r[on]=null,r[Y]&=-129}return r}function fL(t,e,n,r){let i=$e+r,s=n.length;r>0&&(n[i-1][on]=e),r<s-$e?(e[on]=n[i],Kg(n,$e+r,e)):(n.push(e),e[on]=null),e[ot]=n;let o=e[ti];o!==null&&n!==o&&X0(o,e);let a=e[Bn];a!==null&&a.insertView(t),hd(e),e[Y]|=128}function X0(t,e){let n=t[Qi],r=e[ot];if(Un(r))t[Y]|=2;else{let i=r[ot][Qt];e[Qt]!==i&&(t[Y]|=2)}n===null?t[Qi]=[e]:n.push(e)}var oi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[q];return Ic(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Je]}set context(e){this._lView[Je]=e}get destroyed(){return Zi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ot];if(Tn(e)){let n=e[fc],r=n?n.indexOf(this):-1;r>-1&&(wc(e,r),lc(n,r))}this._attachedToViewContainer=!1}qd(this._lView[q],this._lView)}onDestroy(e){am(this._lView,e)}markForCheck(){my(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){hd(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,q0(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bo(this._lView),n=this._lView[ti];n!==null&&!e&&uy(n,this._lView),L0(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=bo(this._lView),r=this._lView[ti];r!==null&&!n&&X0(r,this._lView),hd(this._lView)}};var xo=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=pL;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let s=gy(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new oi(s)}}return t})();function pL(){return vy(Cn(),Ae())}function vy(t,e){return t.type&4?new xo(e,t,No(t,e)):null}function _y(t,e,n,r,i){let s=t.data[e];if(s===null)s=gL(t,e,n,r,i),cT()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=rT();s.injectorIndex=o===null?-1:o.injectorIndex}return wo(s,!0),s}function gL(t,e,n,r,i){let s=um(),o=dm(),a=o?s:s&&s.parent,c=t.data[e]=yL(t,a,n,e,r,i);return mL(t,c,s,o),c}function mL(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function yL(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return eT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function vL(t){let e=t[tm]??[],r=t[ot][at],i=[];for(let s of e)s.data[_0]!==void 0?i.push(s):_L(s,r);t[tm]=i}function _L(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[v0];for(;n<i;){let s=r.nextSibling;S0(e,r,!1),r=s,n++}}}var EL=()=>null,bL=()=>null;function Fm(t,e){return EL(t,e)}function IL(t,e,n){return bL(t,e,n)}var Z0=class{},Kd=class{},Vm=class{resolveComponentFactory(e){throw new $(917,!1)}},Ac=class{static NULL=new Vm},is=class{},Ey=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>wL()}return t})();function wL(){let t=Ae(),e=Cn(),n=ln(e.index,t);return(Un(n)?n:t)[at]}var J0=(()=>{class t{static \u0275prov=W({token:t,providedIn:"root",factory:()=>null})}return t})();var Td={},jm=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Td,r);return i!==Td||n===Td?i:this.parentInjector.get(e,n,r)}};function OT(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Lg(i,a);else if(s==2){let c=a,l=e[++o];r=Lg(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ir(t,e=0){let n=Ae();if(n===null)return Z(t,e);let r=Cn();return u0(r,n,zt(t),e)}function DL(t,e,n,r,i){let s=r===null?null:{"":-1},o=i(t,n);if(o!==null){let a=o,c=null,l=null;for(let d of o)if(d.resolveHostDirectives!==null){[a,c,l]=d.resolveHostDirectives(o);break}SL(t,e,n,a,s,c,l)}s!==null&&r!==null&&TL(n,r,s)}function TL(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}function CL(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function SL(t,e,n,r,i,s,o){let a=r.length,c=null;for(let f=0;f<a;f++){let g=r[f];c===null&&Xi(g)&&(c=g,CL(t,n,f)),VO(o0(n,e),t,g.type)}kL(n,t.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let f=0;f<a;f++){let g=r[f];g.providersResolver&&g.providersResolver(g)}let l=!1,d=!1,h=N0(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let g=r[f];if(n.mergedAttrs=Zm(n.mergedAttrs,g.hostAttrs),xL(t,n,e,h,g),NL(h,g,i),o!==null&&o.has(g)){let[v,E]=o.get(g);n.directiveToIndex.set(g.type,[h,v+n.directiveStart,E+n.directiveStart])}else(s===null||!s.has(g))&&n.directiveToIndex.set(g.type,h);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let y=g.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),h++}AL(t,n,s)}function AL(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))LT(0,e,i,r),LT(1,e,i,r),VT(e,r,!1);else{let s=n.get(i);FT(0,e,s,r),FT(1,e,s,r),VT(e,r,!0)}}}function LT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;t===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),eC(e,s)}}function FT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),eC(e,o)}}function eC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function VT(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:s}=t;if(r===null||!n&&i===null||n&&s===null||ry(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===e){o??=[],o.push(c,r[a+1]);break}}else if(n&&s.hasOwnProperty(c)){let l=s[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){o??=[],o.push(l[d+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(o)}function xL(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Qr(i.type,!0)),o=new bc(s,Xi(i),Ir,null);t.blueprint[r]=o,n[r]=o,RL(t,e,r,N0(t,n,i.hostVars,cs),i)}function RL(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;ML(o)!=a&&o.push(a),o.push(n,r,s)}}function ML(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function NL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xi(e)&&(n[""]=t)}}function kL(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function tC(t,e,n,r,i,s,o,a){let c=e[q],l=c.consts,d=Io(l,o),h=_y(c,t,n,r,d);return s&&DL(c,e,h,Io(l,a),i),h.mergedAttrs=Zm(h.mergedAttrs,h.attrs),h.attrs!==null&&OT(h,h.attrs,!1),h.mergedAttrs!==null&&OT(h,h.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,h),h}function nC(t,e){SO(t,e),nm(e)&&t.queries.elementEnd(e)}function PL(t,e,n){return t[e]=n}function Dc(t,e,n){if(n===cs)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function OL(t,e,n,r){let i=Dc(t,e,n);return Dc(t,e+1,r)||i}function Cm(t,e,n){return function r(i){let s=ri(t)?ln(t.index,e):e;my(s,5);let o=e[Je],a=jT(e,o,n,i),c=r.__ngNextListenerFn__;for(;c;)a=jT(e,o,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function jT(t,e,n,r){let i=G(null);try{return De(me.OutputStart,e,n),n(r)!==!1}catch(s){return Y1(t,s),!1}finally{De(me.OutputEnd,e,n),G(i)}}function LL(t,e,n,r,i,s,o,a){let c=ud(t),l=!1,d=null;if(!r&&c&&(d=VL(e,n,s,t.index)),d!==null){let h=d.__ngLastListenerFn__||d;h.__ngNextListenerFn__=o,d.__ngLastListenerFn__=o,l=!0}else{let h=$n(t,n),f=r?r(h):h;ZO(n,f,s,a);let g=i.listen(f,s,a);if(!FL(s)){let y=r?v=>r(cn(v[t.index])):t.index;rC(y,e,n,s,a,g,!1)}}return l}function FL(t){return t.startsWith("animation")||t.startsWith("transition")}function VL(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[_o],c=i[s+2];return a&&a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function rC(t,e,n,r,i,s,o){let a=e.firstCreatePass?lm(e):null,c=cm(n),l=c.length;c.push(i,s),a&&a.push(r,t,l,(l+1)*(o?-1:1))}function BT(t,e,n,r,i,s){let o=e[n],a=e[q],l=a.data[n].outputs[r],h=o[l].subscribe(s);rC(t.index,a,e,i,s,h,!0)}var Bm=Symbol("BINDING");var Pd=class extends Ac{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Jr(e);return new Ro(n,this.ngModule)}};function jL(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],s={propName:n,templateName:e,isSignal:(r&Wd.SignalBased)!==0};return i&&(s.transform=i),s})}function BL(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function UL(t,e,n){let r=e instanceof Ge?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new jm(n,r):n}function $L(t){let e=t.get(is,null);if(e===null)throw new $(407,!1);let n=t.get(J0,null),r=t.get(Zr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function HL(t,e){let n=iC(t);return T0(e,n,n==="svg"?$D:n==="math"?HD:null)}function iC(t){return(t.selectors[0][0]||"div").toLowerCase()}var Ro=class extends Kd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=jL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=BL(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=f1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,s,o){De(me.DynamicComponentStart);let a=G(null);try{let c=this.componentDef,l=zL(r,c,o,s),d=UL(c,i||this.ngModule,e),h=$L(d),f=h.rendererFactory.createRenderer(null,c),g=r?O1(f,r,c.encapsulation,d):HL(c,f),y=o?.some(UT)||s?.some(S=>typeof S!="function"&&S.bindings.some(UT)),v=sy(null,l,null,512|M0(c),null,null,h,f,d,null,I0(g,d,!0));v[Et]=g,md(v);let E=null;try{let S=tC(Et,v,2,"#host",()=>l.directiveRegistry,!0,0);A0(f,g,S),Ao(g,v),j0(l,v,S),D0(l,S,v),nC(l,S),n!==void 0&&qL(S,this.ngContentSelectors,n),E=ln(S.index,v),v[Je]=E[Je],py(l,v,null)}catch(S){throw E!==null&&Nm(E),Nm(v),S}finally{De(me.DynamicComponentEnd),yd()}return new Od(this.componentType,v,!!y)}finally{G(a)}}};function zL(t,e,n,r){let i=t?["ng-version","21.1.5"]:p1(e.selectors[0]),s=null,o=null,a=0;if(n)for(let d of n)a+=d[Bm].requiredVars,d.create&&(d.targetIdx=0,(s??=[]).push(d)),d.update&&(d.targetIdx=0,(o??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let h=r[d];if(typeof h!="function")for(let f of h.bindings){a+=f[Bm].requiredVars;let g=d+1;f.create&&(f.targetIdx=g,(s??=[]).push(f)),f.update&&(f.targetIdx=g,(o??=[]).push(f))}}let c=[e];if(r)for(let d of r){let h=typeof d=="function"?d:d.type,f=Wg(h);c.push(f)}return iy(0,null,WL(s,o),1,a,c,null,null,null,[i],null)}function WL(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function UT(t){let e=t[Bm].kind;return e==="input"||e==="twoWay"}var Od=class extends Z0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=pc(n[q],Et),this.location=No(this._tNode,n),this.instance=ln(this._tNode.index,n)[Je],this.hostView=this.changeDetectorRef=new oi(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,s=fy(r,i[q],i,e,n);this.previousInputValues.set(e,n);let o=ln(r.index,i);my(o,1)}get injector(){return new ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var ls=(()=>{class t{static __NG_ELEMENT_ID__=GL}return t})();function GL(){let t=Cn();return oC(t,Ae())}var KL=ls,sC=class extends KL{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return No(this._hostTNode,this._hostLView)}get injector(){return new ns(this._hostTNode,this._hostLView)}get parentInjector(){let e=Jm(this._hostTNode,this._hostLView);if(r0(e)){let n=Ad(e,this._hostLView),r=Sd(e),i=n[q].data[r+8];return new ns(i,n)}else return new ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=$T(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-$e}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Fm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,kd(this._hostTNode,o)),a}createComponent(e,n,r,i,s,o,a){let c=e&&!IO(e),l;if(c)l=n;else{let E=n||{};l=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef,o=E.directives,a=E.bindings}let d=c?e:new Ro(Jr(e)),h=r||this.parentInjector;if(!s&&d.ngModule==null){let S=(c?h:this.parentInjector).get(Ge,null);S&&(s=S)}let f=Jr(d.componentType??{}),g=Fm(this._lContainer,f?.id??null),y=g?.firstChild??null,v=d.create(h,i,y,s,o,a);return this.insertImpl(v.hostView,l,kd(this._hostTNode,g)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(qD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ot],l=new sC(c,c[an],c[ot]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return yy(o,i,s,r),e.attachToViewContainerRef(),Kg(Sm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=$T(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=wc(this._lContainer,n);r&&(lc(Sm(this._lContainer),n),qd(r[q],r))}detach(e){let n=this._adjustIndex(e,-1),r=wc(this._lContainer,n);return r&&lc(Sm(this._lContainer),n)!=null?new oi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function $T(t){return t[fc]}function Sm(t){return t[fc]||(t[fc]=[])}function oC(t,e){let n,r=e[t.index];return Tn(r)?n=r:(n=Q0(r,e,null,t),e[t.index]=n,oy(e,n)),QL(n,e,t,r),new sC(n,t,e)}function YL(t,e){let n=t[at],r=n.createComment(""),i=$n(e,t),s=n.parentNode(i);return Nd(n,s,r,n.nextSibling(i),!1),r}var QL=JL,XL=()=>!1;function ZL(t,e,n){return XL(t,e,n)}function JL(t,e,n,r){if(t[ni])return;let i;n.type&8?i=cn(r):i=YL(e,n),t[ni]=i}var Um=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},$m=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)by(e,n).matches!==null&&this.queries[n].setDirty()}},Hm=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=aF(e):this.predicate=e}},zm=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Wm=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,eF(n,s)),this.matchTNodeWithReadOption(e,n,Dd(n,e,s,!1,!1))}else r===xo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Dd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===os||i===ls||i===xo&&n.type&4)this.addMatch(n.index,-2);else{let s=Dd(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function eF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function tF(t,e){return t.type&11?No(t,e):t.type&4?vy(t,e):null}function nF(t,e,n,r){return n===-1?tF(e,t):n===-2?rF(t,e,r):Rd(t,t[q],n,e)}function rF(t,e,n){if(n===os)return No(e,t);if(n===xo)return vy(e,t);if(n===ls)return oC(e,t)}function aC(t,e,n,r){let i=e[Bn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let d=s[l];a.push(nF(e,d,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function qm(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=aC(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],d=e[-c];for(let h=$e;h<d.length;h++){let f=d[h];f[ti]===f[ot]&&qm(f[q],f,l,r)}if(d[Qi]!==null){let h=d[Qi];for(let f=0;f<h.length;f++){let g=h[f];qm(g[q],g,l,r)}}}}}return r}function iF(t,e){return t[Bn].queries[e].queryList}function sF(t,e,n){let r=new Md((n&4)===4);return YD(t,e,r,r.destroy),(e[Bn]??=new $m).queries.push(new Um(r))-1}function oF(t,e,n){let r=Hn();return r.firstCreatePass&&(cF(r,new Hm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),sF(r,Ae(),e)}function aF(t){return t.split(",").map(e=>e.trim())}function cF(t,e,n){t.queries===null&&(t.queries=new zm),t.queries.track(new Wm(e,n))}function by(t,e){return t.queries.getByIndex(e)}function lF(t,e){let n=t[q],r=by(n,e);return r.crossesNgTemplate?qm(n,t,e,[]):aC(n,t,r,e)}var ss=class{},Yd=class{};var Ld=class extends ss{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Pd(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let s=zg(e);this._bootstrapComponents=x0(s.bootstrap),this._r3Injector=ym(e,n,[{provide:ss,useValue:this},{provide:Ac,useValue:this.componentFactoryResolver},...r],Yr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Fd=class extends Yd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ld(this.moduleType,e,[])}};var Tc=class extends ss{injector;componentFactoryResolver=new Pd(this);instance=null;constructor(e){super();let n=new Hi([...e.providers,{provide:ss,useValue:this},{provide:Ac,useValue:this.componentFactoryResolver}],e.parent||dc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function xc(t,e,n=null){return new Tc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var uF=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Xg(!1,n.type),i=r.length>0?xc([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:t,providedIn:"environment",factory:()=>new t(Z(Ge))})}return t})();function Rc(t){return Mo(()=>{let e=cC(t),n=pe(B({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ey.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(uF).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xn.Emulated,styles:t.styles||wn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Sc("NgStandalone"),lC(n);let r=t.dependencies;return n.directiveDefs=HT(r,dF),n.pipeDefs=HT(r,AD),n.id=pF(n),n})}function dF(t){return Jr(t)||Wg(t)}function Mc(t){return Mo(()=>({type:t.type,bootstrap:t.bootstrap||wn,declarations:t.declarations||wn,imports:t.imports||wn,exports:t.exports||wn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function hF(t,e){if(t==null)return qi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a,c;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,c=i[3]||null):(s=i,o=i,a=Wd.None,c=null),n[s]=[r,a,c],e[s]=o}return n}function fF(t){if(t==null)return qi;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Nc(t){return Mo(()=>{let e=cC(t);return lC(e),e})}function Iy(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function cC(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||qi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||wn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:hF(t.inputs,e),outputs:fF(t.outputs),debugInfo:null}}function lC(t){t.features?.forEach(e=>e(t))}function HT(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let s=e(i);s!==null&&r.push(s)}return r}:null}function pF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function gF(t,e,n,r,i,s,o,a){if(n.firstCreatePass){t.mergedAttrs=Zm(t.mergedAttrs,t.attrs);let d=t.tView=iy(2,t,i,s,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),d.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),wo(t,!1);let c=mF(n,e,t,r);vd()&&dy(n,e,c,t),Ao(c,e);let l=Q0(c,e,c,t);e[r+Et]=l,oy(e,l),ZL(l,t,e)}function zT(t,e,n,r,i,s,o,a,c,l,d){let h=n+Et,f;if(e.firstCreatePass){if(f=_y(e,h,4,o||null,a||null),l!=null){let g=Io(e.consts,l);f.localNames=[];for(let y=0;y<g.length;y+=2)f.localNames.push(g[y],-1)}}else f=e.data[h];return gF(f,t,e,n,r,i,s,c),l!=null&&B0(t,f,d),f}var mF=yF;function yF(t,e,n,r){return _d(!0),e[at].createComment("")}var wy=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Dy=new z("");function ko(t){return!!t&&typeof t.then=="function"}function Ty(t){return!!t&&typeof t.subscribe=="function"}var uC=new z("");var Cy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=L(uC,{optional:!0})??[];injector=L(xt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=Ze(this.injector,i);if(ko(s))n.push(s);else if(Ty(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qd=new z("");function dC(){eg(()=>{let t="";throw new $(600,t)})}function hC(t){return t.isBoundToModule}var vF=10;var us=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(un);afterRenderManager=L(P0);zonelessEnabled=L(Do);rootEffectScheduler=L(Im);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new yt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=L(zn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ue(n=>!n))}constructor(){L(Cc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=L(Ge);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=xt.NULL){return this._injector.get(we).run(()=>{De(me.BootstrapComponentStart);let o=n instanceof Kd;if(!this._injector.get(Cy).done){let y="";throw new $(405,y)}let c;o?c=n:c=this._injector.get(Ac).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=hC(c)?void 0:this._injector.get(ss),d=r||c.selector,h=c.create(i,[],d,l),f=h.location.nativeElement,g=h.injector.get(Dy,null);return g?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),Ec(this.components,h),g?.unregisterApplication(f)}),this._loadComponent(h),De(me.BootstrapComponentEnd,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(me.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(cy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw De(me.ChangeDetectionEnd),new $(101,!1);let n=G(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,G(n),this.afterTick.next(),De(me.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(is,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<vF;){De(me.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{De(me.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!gc(i))continue;let s=r&&!this.zonelessEnabled?0:1;q0(i,s),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>gc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ec(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Qd,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ec(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ec(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var pQ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Gm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Am(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function _F(t,e,n,r){let i,s,o=0,a=t.length-1,c=void 0;if(Array.isArray(e)){G(r);let l=e.length-1;for(G(null);o<=a&&o<=l;){let d=t.at(o),h=e[o],f=Am(o,d,o,h,n);if(f!==0){f<0&&t.updateValue(o,h),o++;continue}let g=t.at(a),y=e[l],v=Am(a,g,l,y,n);if(v!==0){v<0&&t.updateValue(a,y),a--,l--;continue}let E=n(o,d),S=n(a,g),x=n(o,h);if(Object.is(x,S)){let N=n(l,y);Object.is(N,E)?(t.swap(o,a),t.updateValue(a,y),l--,a--):t.move(a,o),t.updateValue(o,h),o++;continue}if(i??=new Vd,s??=qT(t,o,a,n),Km(t,i,o,x))t.updateValue(o,h),o++,a++;else if(s.has(x))i.set(E,t.detach(o)),a--;else{let N=t.create(o,e[o]);t.attach(o,N),o++,a++}}for(;o<=l;)WT(t,i,n,o,e[o]),o++}else if(e!=null){G(r);let l=e[Symbol.iterator]();G(null);let d=l.next();for(;!d.done&&o<=a;){let h=t.at(o),f=d.value,g=Am(o,h,o,f,n);if(g!==0)g<0&&t.updateValue(o,f),o++,d=l.next();else{i??=new Vd,s??=qT(t,o,a,n);let y=n(o,f);if(Km(t,i,o,y))t.updateValue(o,f),o++,a++,d=l.next();else if(!s.has(y))t.attach(o,t.create(o,f)),o++,a++,d=l.next();else{let v=n(o,h);i.set(v,t.detach(o)),a--}}}for(;!d.done;)WT(t,i,n,t.length,d.value),d=l.next()}for(;o<=a;)t.destroy(t.detach(a--));i?.forEach(l=>{t.destroy(l)})}function Km(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function WT(t,e,n,r,i){if(Km(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function qT(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Vd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};var Ym=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-$e}};var Qm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Sy(t,e,n,r,i,s,o,a,c,l,d,h,f){Sc("NgControlFlow");let g=Ae(),y=Hn(),v=c!==void 0,E=Ae(),S=a?o.bind(E[Qt][Je]):o,x=new Qm(v,S);E[Et+t]=x,zT(g,y,t+1,e,n,r,i,Io(y.consts,s),256),v&&zT(g,y,t+2,c,l,d,h,Io(y.consts,f),512)}var Xm=class extends Gm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-$e}at(e){return this.getLView(e)[Je].$implicit}attach(e,n){let r=n[vo];this.needsIndexUpdate||=e!==this.length,yy(this.lContainer,n,e,kd(this.templateTNode,r)),EF(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,bF(this.lContainer,e),IF(this.lContainer,e)}create(e,n){let r=Fm(this.lContainer,this.templateTNode.tView.ssrId);return gy(this.hostLView,this.templateTNode,new Ym(this.lContainer,n,e),{dehydratedView:r})}destroy(e){qd(e[q],e)}updateValue(e,n){this.getLView(e)[Je].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Je].$index=e}getLView(e){return wF(this.lContainer,e)}};function Ay(t){let e=G(null),n=yc();try{let r=Ae(),i=r[q],s=r[n],o=n+1,a=GT(r,o);if(s.liveCollection===void 0){let l=KT(i,o);s.liveCollection=new Xm(a,r,l)}else s.liveCollection.reset();let c=s.liveCollection;if(_F(c,t,s.trackByFn,e),c.updateIndexes(),s.hasEmptyBlock){let l=fd(),d=c.length===0;if(Dc(r,l,d)){let h=n+2,f=GT(r,h);if(d){let g=KT(i,h),y=IL(f,g,r),v=gy(r,g,void 0,{dehydratedView:y});yy(f,v,0,kd(g,y))}else i.firstUpdatePass&&vL(f),hL(f,0)}}}finally{G(e)}}function GT(t,e){return t[e]}function EF(t,e){if(t.length<=$e)return;let n=$e+e,r=t[n],i=r?r[Yi]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let s=r[vr];_1(s,i),rs.delete(r[Er]),i.detachedLeaveAnimationFns=void 0}}function bF(t,e){if(t.length<=$e)return;let n=$e+e,r=t[n],i=r?r[Yi]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function IF(t,e){return wc(t,e)}function wF(t,e){return dL(t,e)}function KT(t,e){return pc(t,e)}function kc(t,e,n){let r=Ae(),i=fd();if(Dc(r,i,e)){let s=Hn(),o=gT();j1(o,r,t,e,r[at],n)}return kc}function YT(t,e,n,r,i){fy(e,t,n,i?"class":"style",r)}function ae(t,e,n,r){let i=Ae(),s=i[q],o=t+Et,a=s.firstCreatePass?tC(o,i,2,e,W1,JD(),n,r):s.data[o];if(G1(a,i,t,e,DF),ud(a)){let c=i[q];j0(c,i,a),D0(c,a,i)}return r!=null&&B0(i,a),ae}function re(){let t=Hn(),e=Cn(),n=K1(e);return t.firstCreatePass&&nC(t,n),tT(n)&&nT(),ZD(),n.classesWithoutHost!=null&&xO(n)&&YT(t,n,Ae(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&RO(n)&&YT(t,n,Ae(),n.stylesWithoutHost,!1),re}function ci(t,e,n,r){return ae(t,e,n,r),re(),ci}var DF=(t,e,n,r,i)=>(_d(!0),T0(e[at],r,mT()));function Xd(){return Ae()}var vc=void 0;function TF(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var CF=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",vc,vc,vc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",TF],xm={};function Zt(t){let e=SF(t),n=QT(e);if(n)return n;let r=e.split("-")[0];if(n=QT(r),n)return n;if(r==="en")return CF;throw new $(701,!1)}function QT(t){return t in xm||(xm[t]=zi.ng&&zi.ng.common&&zi.ng.common.locales&&zi.ng.common.locales[t]),xm[t]}var Ke=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Ke||{});function SF(t){return t.toLowerCase().replace(/_/g,"-")}var Pc="en-US";var AF=Pc;function fC(t){typeof t=="string"&&(AF=t.toLowerCase().replace(/_/g,"-"))}function ds(t,e,n){let r=Ae(),i=Hn(),s=Cn();return xF(i,r,r[at],s,t,e,n),ds}function xF(t,e,n,r,i,s,o){let a=!0,c=null;if((r.type&3||o)&&(c??=Cm(r,e,s),LL(r,t,e,o,n,i,s,c)&&(a=!1)),a){let l=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let h=0;h<d.length;h+=2){let f=d[h],g=d[h+1];c??=Cm(r,e,s),BT(r,e,f,g,i,c)}if(l&&l.length)for(let h of l)c??=Cm(r,e,s),BT(r,e,h,i,i,c)}}function xy(t=1){return pT(t)}function Zd(t,e,n){return oF(t,e,n),Zd}function Ry(t){let e=Ae(),n=Hn(),r=pm();gd(r+1);let i=by(n,r);if(t.dirty&&WD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=lF(e,r);t.reset(s,zO),t.notifyOnChanges()}return!0}return!1}function My(){return iF(Ae(),pm())}function Po(t){let e=sT();return rm(e,Et+t)}function ge(t,e=""){let n=Ae(),r=Hn(),i=t+Et,s=r.firstCreatePass?_y(r,i,1,e,null):r.data[i],o=RF(r,n,s,e);n[i]=o,vd()&&dy(r,n,o,s),wo(s,!1)}var RF=(t,e,n,r)=>(_d(!0),e1(e[at],r));function MF(t,e,n,r=""){return Dc(t,fd(),n)?e+xD(n)+r:cs}function Oc(t){return wr("",t),Oc}function wr(t,e,n){let r=Ae(),i=MF(r,t,e,n);return i!==cs&&NF(r,yc(),i),wr}function NF(t,e,n){let r=zD(e,t);t1(t[at],r,n)}function kF(t,e){let n=t[e];return n===cs?void 0:n}function PF(t,e,n,r,i,s,o){let a=e+n;return OL(t,a,i,s)?PL(t,a+2,o?r.call(o,i,s):r(i,s)):kF(t,a+2)}function Ny(t,e){let n=Hn(),r,i=t+Et;n.firstCreatePass?(r=OF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Qr(r.type,!0)),o,a=jt(Ir);try{let c=xd(!1),l=s();return xd(c),im(n,Ae(),i,l),l}finally{jt(a)}}function OF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function ky(t,e,n,r){let i=t+Et,s=Ae(),o=rm(s,i);return LF(s,i)?PF(s,oT(),e,o.transform,n,r,o):o.transform(n,r)}function LF(t,e){return t[q].data[e].pure}var jd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Py=(()=>{class t{compileModuleSync(n){return new Fd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=zg(n),s=x0(i.declarations).reduce((o,a)=>{let c=Jr(a);return c&&o.push(new Ro(c)),o},[]);return new jd(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var pC=(()=>{class t{applicationErrorHandler=L(un);appRef=L(us);taskService=L(zn);ngZone=L(we);zonelessEnabled=L(Do);tracing=L(Cc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(oc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(Ed,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?_T:_m;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(oc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gC(){return[{provide:Zr,useExisting:pC},{provide:we,useClass:ac},{provide:Do,useValue:!0}]}function FF(){return typeof $localize<"u"&&$localize.locale||Pc}var Lc=new z("",{factory:()=>L(Lc,{optional:!0,skipSelf:!0})||FF()});var vC=Symbol("InputSignalNode#UNSET"),eV=pe(B({},xu),{transformFn:void 0,applyValueToInputSignal(t,e){Xa(t,e)}});function _C(t,e){let n=Object.create(eV);n.value=t,n.transformFn=e?.transform;function r(){if(Cu(n),n.value===vC){let i=null;throw new $(-950,i)}return n.value}return r[sn]=n,r}function mC(t,e){return _C(t,e)}function tV(t){return _C(vC,t)}var EC=(mC.required=tV,mC);var nV=(()=>{class t{zone=L(we);changeDetectionScheduler=L(Zr);applicationRef=L(us);applicationErrorHandler=L(un);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rV=new z("",{factory:()=>!1});function iV({ngZoneFactory:t,scheduleInRootZone:e}){return t??=()=>new we(pe(B({},IC()),{scheduleInRootZone:e})),[{provide:Do,useValue:!1},{provide:we,useFactory:t},{provide:ei,multi:!0,useFactory:()=>{let n=L(nV,{optional:!0});return()=>n.initialize()}},{provide:ei,multi:!0,useFactory:()=>{let n=L(sV);return()=>{n.initialize()}}},{provide:Ed,useValue:e??vm}]}function bC(t){let e=t?.scheduleInRootZone,n=iV({ngZoneFactory:()=>{let r=IC(t);return r.scheduleInRootZone=e,r.shouldCoalesceEventChangeDetection&&Sc("NgZone_CoalesceEvent"),new we(r)},scheduleInRootZone:e});return yr([{provide:rV,useValue:!0},n])}function IC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var sV=(()=>{class t{subscription=new qe;initialized=!1;zone=L(we);pendingTasks=L(zn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Oy=new z(""),oV=new z("");function Fc(t){return!t.moduleRef}function aV(t){let e=Fc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{Fc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(un),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Fc(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Oy);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Oy);o.add(s),t.moduleRef.onDestroy(()=>{Ec(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return lV(r,n,()=>{let s=e.get(zn),o=s.add(),a=e.get(Cy);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Lc,Pc);if(fC(c||Pc),!e.get(oV,!0))return Fc(t)?e.get(us):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Fc(t)){let d=e.get(us);return t.rootComponent!==void 0&&d.bootstrap(t.rootComponent),d}else return cV?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{s.remove(o)})})})}var cV;function lV(t,e,n){try{let r=n();return ko(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Jd=null;function uV(t=[],e){return xt.create({name:e,providers:[{provide:uc,useValue:"platform"},{provide:Oy,useValue:new Set([()=>Jd=null])},...t]})}function dV(t=[]){if(Jd)return Jd;let e=uV(t);return Jd=e,dC(),hV(e),e}function hV(t){let e=t.get(Hd,null);Ze(t,()=>{e?.forEach(n=>n())})}function Ly(){return!1}var fV=1e4;var Xne=fV-1e3;var Fy=(()=>{class t{static __NG_ELEMENT_ID__=pV}return t})();function pV(t){return gV(Cn(),Ae(),(t&16)===16)}function gV(t,e,n){if(ri(t)&&!n){let r=ln(t.index,e);return new oi(r,r)}else if(t.type&175){let r=e[Qt];return new oi(r,e)}return null}function wC(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;De(me.BootstrapApplicationStart);try{let s=i?.injector??dV(r),o=[gC(),bT,...n||[]],a=new Tc({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return aV({r3Injector:a.injector,platformInjector:s,rootComponent:e})}catch(s){return Promise.reject(s)}finally{De(me.BootstrapApplicationEnd)}}var DC=null;function Tr(){return DC}function Vy(t){DC??=t}var Vc=class{},eh=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>L(TC),providedIn:"platform"})}return t})();var TC=(()=>{class t extends eh{_location;_history;_doc=L(ht);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tr().getBaseHref(this._doc)}onPopState(n){let r=Tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function AC(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function CC(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function li(t){return t&&t[0]!=="?"?`?${t}`:t}var th=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>L(yV),providedIn:"root"})}return t})(),mV=new z(""),yV=(()=>{class t extends th{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return AC(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+li(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+li(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+li(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Z(eh),Z(mV,8))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Oo=(()=>{class t{_subject=new yt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=EV(CC(SC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+li(r))}normalize(n){return t.stripTrailingSlash(_V(this._basePath,SC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+li(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+li(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=li;static joinWithSlash=AC;static stripTrailingSlash=CC;static \u0275fac=function(r){return new(r||t)(Z(th))};static \u0275prov=W({token:t,factory:()=>vV(),providedIn:"root"})}return t})();function vV(){return new Oo(Z(th))}function _V(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function SC(t){return t.replace(/\/index.html$/,"")}function EV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Rt=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(Rt||{}),Te=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Te||{}),Wt=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Wt||{}),Sr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function MC(t){return Zt(t)[Ke.LocaleId]}function NC(t,e,n){let r=Zt(t),i=[r[Ke.DayPeriodsFormat],r[Ke.DayPeriodsStandalone]],s=hn(i,e);return hn(s,n)}function kC(t,e,n){let r=Zt(t),i=[r[Ke.DaysFormat],r[Ke.DaysStandalone]],s=hn(i,e);return hn(s,n)}function PC(t,e,n){let r=Zt(t),i=[r[Ke.MonthsFormat],r[Ke.MonthsStandalone]],s=hn(i,e);return hn(s,n)}function OC(t,e){let r=Zt(t)[Ke.Eras];return hn(r,e)}function jc(t,e){let n=Zt(t);return hn(n[Ke.DateFormat],e)}function Bc(t,e){let n=Zt(t);return hn(n[Ke.TimeFormat],e)}function Uc(t,e){let r=Zt(t)[Ke.DateTimeFormat];return hn(r,e)}function $c(t,e){let n=Zt(t),r=n[Ke.NumberSymbols][e];if(typeof r>"u"){if(e===Sr.CurrencyDecimal)return n[Ke.NumberSymbols][Sr.Decimal];if(e===Sr.CurrencyGroup)return n[Ke.NumberSymbols][Sr.Group]}return r}function LC(t){if(!t[Ke.ExtraData])throw new $(2303,!1)}function FC(t){let e=Zt(t);return LC(e),(e[Ke.ExtraData][2]||[]).map(r=>typeof r=="string"?jy(r):[jy(r[0]),jy(r[1])])}function VC(t,e,n){let r=Zt(t);LC(r);let i=[r[Ke.ExtraData][0],r[Ke.ExtraData][1]],s=hn(i,e)||[];return hn(s,n)||[]}function hn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new $(2304,!1)}function jy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var bV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,nh={},IV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function jC(t,e,n,r){let i=MV(t);e=Cr(n,e)||e;let o=[],a;for(;e;)if(a=IV.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=UC(r,c),i=RV(i,r));let l="";return o.forEach(d=>{let h=AV(d);l+=h?h(i,n,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function ah(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Cr(t,e){let n=MC(t);if(nh[n]??={},nh[n][e])return nh[n][e];let r="";switch(e){case"shortDate":r=jc(t,Wt.Short);break;case"mediumDate":r=jc(t,Wt.Medium);break;case"longDate":r=jc(t,Wt.Long);break;case"fullDate":r=jc(t,Wt.Full);break;case"shortTime":r=Bc(t,Wt.Short);break;case"mediumTime":r=Bc(t,Wt.Medium);break;case"longTime":r=Bc(t,Wt.Long);break;case"fullTime":r=Bc(t,Wt.Full);break;case"short":let i=Cr(t,"shortTime"),s=Cr(t,"shortDate");r=rh(Uc(t,Wt.Short),[i,s]);break;case"medium":let o=Cr(t,"mediumTime"),a=Cr(t,"mediumDate");r=rh(Uc(t,Wt.Medium),[o,a]);break;case"long":let c=Cr(t,"longTime"),l=Cr(t,"longDate");r=rh(Uc(t,Wt.Long),[c,l]);break;case"full":let d=Cr(t,"fullTime"),h=Cr(t,"fullDate");r=rh(Uc(t,Wt.Full),[d,h]);break}return r&&(nh[n][e]=r),r}function rh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Rn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function wV(t,e){return Rn(t,3).substring(0,e)}function et(t,e,n=0,r=!1,i=!1){return function(s,o){let a=DV(t,s);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return wV(a,e);let c=$c(o,Sr.MinusSign);return Rn(a,e,c,r,i)}}function DV(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new $(2301,!1)}}function Me(t,e,n=Rt.Format,r=!1){return function(i,s){return TV(i,s,t,e,n,r)}}function TV(t,e,n,r,i,s){switch(n){case 2:return PC(e,i,r)[t.getMonth()];case 1:return kC(e,i,r)[t.getDay()];case 0:let o=t.getHours(),a=t.getMinutes();if(s){let l=FC(e),d=VC(e,i,r),h=l.findIndex(f=>{if(Array.isArray(f)){let[g,y]=f,v=o>=g.hours&&a>=g.minutes,E=o<y.hours||o===y.hours&&a<y.minutes;if(g.hours<y.hours){if(v&&E)return!0}else if(v||E)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(h!==-1)return d[h]}return NC(e,i,r)[o<12?0:1];case 3:return OC(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new $(2302,!1)}}function ih(t){return function(e,n,r){let i=-1*r,s=$c(n,Sr.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Rn(o,2,s)+Rn(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+Rn(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+Rn(o,2,s)+":"+Rn(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+Rn(o,2,s)+":"+Rn(Math.abs(i%60),2,s);default:throw new $(2310,!1)}}}var CV=0,oh=4;function SV(t){let e=ah(t,CV,1).getDay();return ah(t,0,1+(e<=oh?oh:oh+7)-e)}function BC(t){let e=t.getDay(),n=e===0?-3:oh-e;return ah(t.getFullYear(),t.getMonth(),t.getDate()+n)}function By(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=BC(n),o=SV(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Rn(i,t,$c(r,Sr.MinusSign))}}function sh(t,e=!1){return function(n,r){let s=BC(n).getFullYear();return Rn(s,t,$c(r,Sr.MinusSign),e)}}var Uy={};function AV(t){if(Uy[t])return Uy[t];let e;switch(t){case"G":case"GG":case"GGG":e=Me(3,Te.Abbreviated);break;case"GGGG":e=Me(3,Te.Wide);break;case"GGGGG":e=Me(3,Te.Narrow);break;case"y":e=et(0,1,0,!1,!0);break;case"yy":e=et(0,2,0,!0,!0);break;case"yyy":e=et(0,3,0,!1,!0);break;case"yyyy":e=et(0,4,0,!1,!0);break;case"Y":e=sh(1);break;case"YY":e=sh(2,!0);break;case"YYY":e=sh(3);break;case"YYYY":e=sh(4);break;case"M":case"L":e=et(1,1,1);break;case"MM":case"LL":e=et(1,2,1);break;case"MMM":e=Me(2,Te.Abbreviated);break;case"MMMM":e=Me(2,Te.Wide);break;case"MMMMM":e=Me(2,Te.Narrow);break;case"LLL":e=Me(2,Te.Abbreviated,Rt.Standalone);break;case"LLLL":e=Me(2,Te.Wide,Rt.Standalone);break;case"LLLLL":e=Me(2,Te.Narrow,Rt.Standalone);break;case"w":e=By(1);break;case"ww":e=By(2);break;case"W":e=By(1,!0);break;case"d":e=et(2,1);break;case"dd":e=et(2,2);break;case"c":case"cc":e=et(7,1);break;case"ccc":e=Me(1,Te.Abbreviated,Rt.Standalone);break;case"cccc":e=Me(1,Te.Wide,Rt.Standalone);break;case"ccccc":e=Me(1,Te.Narrow,Rt.Standalone);break;case"cccccc":e=Me(1,Te.Short,Rt.Standalone);break;case"E":case"EE":case"EEE":e=Me(1,Te.Abbreviated);break;case"EEEE":e=Me(1,Te.Wide);break;case"EEEEE":e=Me(1,Te.Narrow);break;case"EEEEEE":e=Me(1,Te.Short);break;case"a":case"aa":case"aaa":e=Me(0,Te.Abbreviated);break;case"aaaa":e=Me(0,Te.Wide);break;case"aaaaa":e=Me(0,Te.Narrow);break;case"b":case"bb":case"bbb":e=Me(0,Te.Abbreviated,Rt.Standalone,!0);break;case"bbbb":e=Me(0,Te.Wide,Rt.Standalone,!0);break;case"bbbbb":e=Me(0,Te.Narrow,Rt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Me(0,Te.Abbreviated,Rt.Format,!0);break;case"BBBB":e=Me(0,Te.Wide,Rt.Format,!0);break;case"BBBBB":e=Me(0,Te.Narrow,Rt.Format,!0);break;case"h":e=et(3,1,-12);break;case"hh":e=et(3,2,-12);break;case"H":e=et(3,1);break;case"HH":e=et(3,2);break;case"m":e=et(4,1);break;case"mm":e=et(4,2);break;case"s":e=et(5,1);break;case"ss":e=et(5,2);break;case"S":e=et(6,1);break;case"SS":e=et(6,2);break;case"SSS":e=et(6,3);break;case"Z":case"ZZ":case"ZZZ":e=ih(0);break;case"ZZZZZ":e=ih(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ih(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=ih(2);break;default:return null}return Uy[t]=e,e}function UC(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function xV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function RV(t,e,n){let i=t.getTimezoneOffset(),s=UC(e,i);return xV(t,-1*(s-i))}function MV(t){if(xC(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return ah(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(bV))return NV(r)}let e=new Date(t);if(!xC(e))throw new $(2311,!1);return e}function NV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,l),e}function xC(t){return t instanceof Date&&!isNaN(t.valueOf())}var $y=/\s+/,RC=[],Hy=(()=>{class t{_ngEl;_renderer;initialClasses=RC;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split($y):RC}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split($y):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split($y).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Ir(os),Ir(Ey))};static \u0275dir=Nc({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();function kV(t,e){return new $(2100,!1)}var PV="mediumDate",$C=new z(""),HC=new z(""),zy=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??PV,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return jC(n,o,s||this.locale,a)}catch(o){throw kV(t,o.message)}}static \u0275fac=function(r){return new(r||t)(Ir(Lc,16),Ir($C,24),Ir(HC,24))};static \u0275pipe=Iy({name:"date",type:t,pure:!0})}return t})();var ch=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Mc({type:t});static \u0275inj=yo({})}return t})();function Wy(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Hc=class{};var zC="browser";var zc=class{_doc;constructor(e){this._doc=e}manager},lh=(()=>{class t extends zc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||t)(Z(ht))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),hh=new z(""),Yy=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this});let i=n.filter(o=>!(o instanceof lh));this._plugins=i.slice().reverse();let s=n.find(o=>o instanceof lh);s&&this._plugins.push(s)}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Z(hh),Z(we))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),qy="ng-app-id";function WC(t){for(let e of t)e.remove()}function qC(t,e){let n=e.createElement("style");return n.textContent=t,n}function FV(t,e,n,r){let i=t.head?.querySelectorAll(`style[${qy}="${e}"],link[${qy}="${e}"]`);if(i)for(let s of i)s.removeAttribute(qy),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function Ky(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Qy=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,FV(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,qC);r?.forEach(i=>this.addUsage(i,this.external,Ky))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(WC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])WC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,qC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Ky(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Z(ht),Z($d),Z(zd,8),Z(as))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),Gy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xy=/%COMP%/g;var KC="%COMP%",VV=`_nghost-${KC}`,jV=`_ngcontent-${KC}`,BV=!0,UV=new z("",{factory:()=>BV});function $V(t){return jV.replace(Xy,t)}function HV(t){return VV.replace(Xy,t)}function YC(t,e){return e.map(n=>n.replace(Xy,t))}var Zy=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,s,o,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new Wc(n,o,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof dh?i.applyToHost(n):i instanceof qc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.tracingService;switch(r.encapsulation){case xn.Emulated:s=new dh(c,l,r,this.appId,d,o,a,h);break;case xn.ShadowDom:return new uh(c,n,r,o,a,this.nonce,h,l);case xn.ExperimentalIsolatedShadowDom:return new uh(c,n,r,o,a,this.nonce,h);default:s=new qc(c,l,r,d,o,a,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Z(Yy),Z(Qy),Z($d),Z(UV),Z(ht),Z(we),Z(zd),Z(Cc,8))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),Wc=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Gy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(GC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(GC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Gy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Gy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ai.DashCase|ai.Important)?e.style.setProperty(n,r,i&ai.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ai.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Tr().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,n,s)),this.eventManager.addEventListener(e,n,s,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function GC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var uh=class extends Wc{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,s,o,a,c){super(e,i,s,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=YC(r.id,l);for(let h of l){let f=document.createElement("style");o&&f.setAttribute("nonce",o),f.textContent=h,this.shadowRoot.appendChild(f)}let d=r.getExternalStyles?.();if(d)for(let h of d){let f=Ky(h,i);o&&f.setAttribute("nonce",o),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},qc=class extends Wc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?YC(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&rs.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},dh=class extends qc{contentAttr;hostAttr;constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=$V(l),this.hostAttr=HV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var fh=class t extends Vc{supportsDOMEvents=!0;static makeCurrent(){Vy(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=zV();return n==null?null:WV(n)}resetBaseElement(){Gc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wy(document.cookie,e)}},Gc=null;function zV(){return Gc=Gc||document.head.querySelector("base"),Gc?Gc.getAttribute("href"):null}function WV(t){return new URL(t,document.baseURI).pathname}var qV=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),QC=["alt","control","meta","shift"],GV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},XC=(()=>{class t extends zc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tr().onAndCancel(n,o.domEventName,a,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),QC.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=GV[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),QC.forEach(o=>{if(o!==i){let a=KV[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Z(ht))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();async function Jy(t,e,n){let r=B({rootComponent:t},YV(e,n));return wC(r)}function YV(t,e){return{platformRef:e?.platformRef,appProviders:[...e2,...t?.providers??[]],platformProviders:JV}}function QV(){fh.makeCurrent()}function XV(){return new mr}function ZV(){return ty(document),document}var JV=[{provide:as,useValue:zC},{provide:Hd,useValue:QV,multi:!0},{provide:ht,useFactory:ZV}];var e2=[{provide:uc,useValue:"root"},{provide:mr,useFactory:XV},{provide:hh,useClass:lh,multi:!0},{provide:hh,useClass:XC,multi:!0},Zy,Qy,Yy,{provide:is,useExisting:Zy},{provide:Hc,useClass:qV},[]];var ZC=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Z(ht))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var X="primary",il=Symbol("RouteTitle"),iv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Bo(t){return new iv(t)}function ev(t,e,n){for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(i[0]===":")n[i.substring(1)]=s;else if(i!==s.path)return!1}return!0}function n2(t,e,n){let r=n.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let c={},l=t.slice(0,r.length);return ev(r,l,c)?{consumed:l,posParams:c}:null}if(i!==r.lastIndexOf("**"))return null;let s=r.slice(0,i),o=r.slice(i+1);if(s.length+o.length>t.length||n.pathMatch==="full"&&e.hasChildren()&&n.path!=="**")return null;let a={};return!ev(s,t.slice(0,s.length),a)||!ev(o,t.slice(t.length-o.length),a)?null:{consumed:t,posParams:a}}function _h(t){return new Promise((e,n)=>{t.pipe(fr()).subscribe({next:r=>e(r),error:r=>n(r)})})}function r2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!qn(t[n],e[n]))return!1;return!0}function qn(t,e){let n=t?sv(t):void 0,r=e?sv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!cS(t[i],e[i]))return!1;return!0}function sv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function cS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function i2(t){return t.length>0?t[t.length-1]:null}function ms(t){return Ku(t)?t:ko(t)?dt(Promise.resolve(t)):le(t)}function lS(t){return Ku(t)?_h(t):Promise.resolve(t)}var s2={exact:dS,subset:hS},uS={exact:o2,subset:a2,ignored:()=>!0};function JC(t,e,n){return s2[n.paths](t.root,e.root,n.matrixParams)&&uS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function o2(t,e){return qn(t,e)}function dS(t,e,n){if(!fs(t.segments,e.segments)||!mh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!dS(t.children[r],e.children[r],n))return!1;return!0}function a2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>cS(t[n],e[n]))}function hS(t,e,n){return fS(t,e,e.segments,n)}function fS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!fs(i,n)||e.hasChildren()||!mh(i,n,r))}else if(t.segments.length===n.length){if(!fs(t.segments,n)||!mh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!hS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!fs(t.segments,i)||!mh(t.segments,i,r)||!t.children[X]?!1:fS(t.children[X],e,s,r)}}function mh(t,e,n){return e.every((r,i)=>uS[n](t[i].parameters,r.parameters))}var Gn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Bo(this.queryParams),this._queryParamMap}toString(){return u2.serialize(this)}},Ee=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yh(this)}},hs=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Bo(this.parameters),this._parameterMap}toString(){return gS(this)}};function c2(t,e){return fs(t,e)&&t.every((n,r)=>qn(n.parameters,e[r].parameters))}function fs(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function l2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===X&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==X&&(n=n.concat(e(i,r)))}),n}var xh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>new ps,providedIn:"root"})}return t})(),ps=class{parse(e){let n=new av(e);return new Gn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Kc(e.root,!0)}`,r=f2(e.queryParams),i=typeof e.fragment=="string"?`#${d2(e.fragment)}`:"";return`${n}${r}${i}`}},u2=new ps;function yh(t){return t.segments.map(e=>gS(e)).join("/")}function Kc(t,e){if(!t.hasChildren())return yh(t);if(e){let n=t.children[X]?Kc(t.children[X],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==X&&r.push(`${i}:${Kc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=l2(t,(r,i)=>i===X?[Kc(t.children[X],!1)]:[`${i}:${Kc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[X]!=null?`${yh(t)}/${n[0]}`:`${yh(t)}/(${n.join("//")})`}}function pS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ph(t){return pS(t).replace(/%3B/gi,";")}function d2(t){return encodeURI(t)}function ov(t){return pS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vh(t){return decodeURIComponent(t)}function eS(t){return vh(t.replace(/\+/g,"%20"))}function gS(t){return`${ov(t.path)}${h2(t.parameters)}`}function h2(t){return Object.entries(t).map(([e,n])=>`;${ov(e)}=${ov(n)}`).join("")}function f2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ph(n)}=${ph(i)}`).join("&"):`${ph(n)}=${ph(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var p2=/^[^\/()?;#]+/;function tv(t){let e=t.match(p2);return e?e[0]:""}var g2=/^[^\/()?;=#]+/;function m2(t){let e=t.match(g2);return e?e[0]:""}var y2=/^[^=?&#]+/;function v2(t){let e=t.match(y2);return e?e[0]:""}var _2=/^[^&#]+/;function E2(t){let e=t.match(_2);return e?e[0]:""}var av=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(e=0){if(e>50)throw new $(4010,!1);if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0,e));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1,e)),(n.length>0||Object.keys(r).length>0)&&(i[X]=new Ee(n,r)),i}parseSegment(){let e=tv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new hs(vh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=m2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=tv(this.remaining);i&&(r=i,this.capture(r))}e[vh(n)]=vh(r)}parseQueryParam(e){let n=v2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=E2(this.remaining);o&&(r=o,this.capture(r))}let i=eS(n),s=eS(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e,n){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=tv(this.remaining),s=this.remaining[i.length];if(s!=="/"&&s!==")"&&s!==";")throw new $(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=X);let a=this.parseChildren(n+1);r[o??X]=Object.keys(a).length===1&&a[X]?a[X]:new Ee([],a),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function mS(t){return t.segments.length>0?new Ee([],{[X]:t}):t}function yS(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=yS(i);if(r===X&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ee(t.segments,e);return b2(n)}function b2(t){if(t.numberOfChildren===1&&t.children[X]){let e=t.children[X];return new Ee(t.segments.concat(e.segments),e.children)}return t}function Uo(t){return t instanceof Gn}function I2(t,e,n=null,r=null,i=new ps){let s=vS(t);return _S(s,e,n,r,i)}function vS(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new Ee(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=mS(r);return e??i}function _S(t,e,n,r,i){let s=t;for(;s.parent;)s=s.parent;if(e.length===0)return nv(s,s,s,n,r,i);let o=w2(e);if(o.toRoot())return nv(s,s,new Ee([],{}),n,r,i);let a=D2(o,s,t),c=a.processChildren?Qc(a.segmentGroup,a.index,o.commands):bS(a.segmentGroup,a.index,o.commands);return nv(s,a.segmentGroup,c,n,r,i)}function Eh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Jc(t){return typeof t=="object"&&t!=null&&t.outlets}function tS(t,e,n){t||="\u0275";let r=new Gn;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function nv(t,e,n,r,i,s){let o={};for(let[l,d]of Object.entries(r??{}))o[l]=Array.isArray(d)?d.map(h=>tS(l,h,s)):tS(l,d,s);let a;t===e?a=n:a=ES(t,e,n);let c=mS(yS(a));return new Gn(c,o,i)}function ES(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=ES(s,e,n)}),new Ee(t.segments,r)}var bh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Eh(r[0]))throw new $(4003,!1);let i=r.find(Jc);if(i&&i!==i2(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function w2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new bh(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new bh(n,e,r)}var Fo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function D2(t,e,n){if(t.isAbsolute)return new Fo(e,!0,0);if(!n)return new Fo(e,!1,NaN);if(n.parent===null)return new Fo(n,!0,0);let r=Eh(t.commands[0])?0:1,i=n.segments.length-1+r;return T2(n,i,t.numberOfDoubleDots)}function T2(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Fo(r,!1,i-s)}function C2(t){return Jc(t[0])?t[0].outlets:{[X]:t}}function bS(t,e,n){if(t??=new Ee([],{}),t.segments.length===0&&t.hasChildren())return Qc(t,e,n);let r=S2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ee(t.segments.slice(0,r.pathIndex),{});return s.children[X]=new Ee(t.segments.slice(r.pathIndex),t.children),Qc(s,0,i)}else return r.match&&i.length===0?new Ee(t.segments,{}):r.match&&!t.hasChildren()?cv(t,e,n):r.match?Qc(t,0,i):cv(t,e,n)}function Qc(t,e,n){if(n.length===0)return new Ee(t.segments,{});{let r=C2(n),i={};if(Object.keys(r).some(s=>s!==X)&&t.children[X]&&t.numberOfChildren===1&&t.children[X].segments.length===0){let s=Qc(t.children[X],e,n);return new Ee(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=bS(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ee(t.segments,i)}}function S2(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Jc(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!rS(c,l,o))return s;r+=2}else{if(!rS(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function cv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Jc(s)){let c=A2(s.outlets);return new Ee(r,c)}if(i===0&&Eh(n[0])){let c=t.segments[e];r.push(new hs(c.path,nS(n[0]))),i++;continue}let o=Jc(s)?s.outlets[X]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Eh(a)?(r.push(new hs(o,nS(a))),i+=2):(r.push(new hs(o,{})),i++)}return new Ee(r,{})}function A2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=cv(new Ee([],{}),0,r))}),e}function nS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function rS(t,e,n){return t==n.path&&qn(e,n.parameters)}var Xc="imperative",bt=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(bt||{}),fn=class{id;url;constructor(e,n){this.id=e,this.url=n}},$o=class extends fn{type=bt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ui=class extends fn{urlAfterRedirects;type=bt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Ut||{}),Ih=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Ih||{}),Nn=class extends fn{reason;code;type=bt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function IS(t){return t instanceof Nn&&(t.code===Ut.Redirect||t.code===Ut.SupersededByNewNavigation)}var di=class extends fn{reason;code;type=bt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ho=class extends fn{error;target;type=bt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},el=class extends fn{urlAfterRedirects;state;type=bt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lv=class extends fn{urlAfterRedirects;state;type=bt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uv=class extends fn{urlAfterRedirects;state;shouldActivate;type=bt.GuardsCheckEnd;constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dv=class extends fn{urlAfterRedirects;state;type=bt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hv=class extends fn{urlAfterRedirects;state;type=bt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fv=class{route;type=bt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pv=class{route;type=bt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gv=class{snapshot;type=bt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mv=class{snapshot;type=bt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yv=class{snapshot;type=bt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vv=class{snapshot;type=bt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var zo=class{},Wo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function x2(t){return!(t instanceof zo)&&!(t instanceof Wo)}var _v=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new sl(this.rootInjector)}},sl=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new _v(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Z(Ge))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ev(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ev(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=bv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bv(e,this._root).map(n=>n.value)}};function Ev(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ev(t,n);if(r)return r}return null}function bv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=bv(t,n);if(r.length)return r.unshift(e),r}return[]}var Jt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Lo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Dh=class extends wh{snapshot;constructor(e,n){super(e),this.snapshot=n,Rv(this,e)}toString(){return this.snapshot.toString()}};function wS(t,e){let n=R2(t,e),r=new vt([new hs("",{})]),i=new vt({}),s=new vt({}),o=new vt({}),a=new vt(""),c=new gs(r,i,o,a,s,X,t,n.root);return c.snapshot=n.root,new Dh(new Jt(c,[]),n)}function R2(t,e){let n={},r={},i={},o=new Vo([],n,i,"",r,X,t,null,{},e);return new Ch("",new Jt(o,[]))}var gs=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ue(l=>l[il]))??le(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ue(e=>Bo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ue(e=>Bo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Th(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),t.params),data:B(B({},e.data),t.data),resolve:B(B(B(B({},t.data),e.data),i?.data),t._resolvedData)}:r={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},i&&TS(i)&&(r.resolve[il]=i.title),r}var Vo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[il]}constructor(e,n,r,i,s,o,a,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l,this._environmentInjector=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ch=class extends wh{url;constructor(e,n){super(n),this.url=e,Rv(this,n)}toString(){return DS(this._root)}};function Rv(t,e){e.value._routerState=t,e.children.forEach(n=>Rv(t,n))}function DS(t){let e=t.children.length>0?` { ${t.children.map(DS).join(", ")} } `:"";return`${t.value}${e}`}function rv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,qn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),qn(e.params,n.params)||t.paramsSubject.next(n.params),r2(e.url,n.url)||t.urlSubject.next(n.url),qn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Iv(t,e){let n=qn(t.params,e.params)&&c2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Iv(t.parent,e.parent))}function TS(t){return typeof t.title=="string"||t.title===null}var M2=new z(""),CS=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=X;activateEvents=new Bt;deactivateEvents=new Bt;attachEvents=new Bt;detachEvents=new Bt;routerOutletData=EC();parentContexts=L(sl);location=L(ls);changeDetector=L(Fy);inputBinder=L(Rh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new wv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Nc({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Bd]})}return t})(),wv=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===gs?this.route:e===sl?this.childContexts:e===M2?this.outletData:this.parent.get(e,n)}},Rh=new z("");var SS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Rc({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ci(0,"router-outlet")},dependencies:[CS],encapsulation:2})}return t})();function Mv(t){let e=t.children&&t.children.map(Mv),n=e?pe(B({},t),{children:e}):B({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=SS),n}function N2(t,e,n){let r=tl(t,e._root,n?n._root:void 0);return new Dh(r,e)}function tl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=k2(t,e,n);return new Jt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>tl(t,a)),o}}let r=P2(e.value),i=e.children.map(s=>tl(t,s));return new Jt(r,i)}}function k2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return tl(t,r,i);return tl(t,r)})}function P2(t){return new gs(new vt(t.url),new vt(t.params),new vt(t.queryParams),new vt(t.fragment),new vt(t.data),t.outlet,t.component,t)}var nl=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},AS="ngNavigationCancelingError";function Sh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Uo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=xS(!1,Ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function xS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[AS]=!0,n.cancellationCode=e,n}function O2(t){return RS(t)&&Uo(t.url)}function RS(t){return!!t&&t[AS]}var Dv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),rv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Lo(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Lo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Lo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Lo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new vv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new mv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(rv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),rv(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Ah=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},jo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function L2(t,e,n){let r=t._root,i=e?e._root:null;return Yc(r,i,n,[r.value])}function F2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Go(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Vg(t)?t:e.get(t):r}function Yc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Lo(e);return t.children.forEach(o=>{V2(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Zc(a,n.getContext(o),i)),i}function V2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=j2(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ah(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Yc(t,e,a?a.children:null,r,i):Yc(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jo(a.outlet.component,o))}else o&&Zc(e,a,i),i.canActivateChecks.push(new Ah(r)),s.component?Yc(t,null,a?a.children:null,r,i):Yc(t,null,n,r,i);return i}function j2(t,e,n){if(typeof n=="function")return Ze(e._environmentInjector,()=>n(t,e));switch(n){case"pathParamsChange":return!fs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fs(t.url,e.url)||!qn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Iv(t,e)||!qn(t.queryParams,e.queryParams);default:return!Iv(t,e)}}function Zc(t,e,n){let r=Lo(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Zc(o,e.children.getContext(s),n):Zc(o,null,n):Zc(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new jo(e.outlet.component,i)):n.canDeactivateChecks.push(new jo(null,i)):n.canDeactivateChecks.push(new jo(null,i))}function ol(t){return typeof t=="function"}function B2(t){return typeof t=="boolean"}function U2(t){return t&&ol(t.canLoad)}function $2(t){return t&&ol(t.canActivate)}function H2(t){return t&&ol(t.canActivateChild)}function z2(t){return t&&ol(t.canDeactivate)}function W2(t){return t&&ol(t.canMatch)}function MS(t){return t instanceof Bi||t?.name==="EmptyError"}var gh=Symbol("INITIAL_VALUE");function qo(){return pr(t=>mg(t.map(e=>e.pipe(hr(1),vg(gh)))).pipe(Ue(e=>{for(let n of e)if(n!==!0){if(n===gh)return gh;if(n===!1||q2(n))return n}return!0}),dr(e=>e!==gh),hr(1)))}function q2(t){return Uo(t)||t instanceof nl}function NS(t){return t.aborted?le(void 0).pipe(hr(1)):new oe(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function kS(t){return nc(NS(t))}function G2(t){return Vt(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return s.length===0&&i.length===0?le(pe(B({},e),{guardsResult:!0})):K2(s,n,r).pipe(Vt(o=>o&&B2(o)?Y2(n,i,t):le(o)),Ue(o=>pe(B({},e),{guardsResult:o})))})}function K2(t,e,n){return dt(t).pipe(Vt(r=>ej(r.component,r.route,n,e)),fr(r=>r!==!0,!0))}function Y2(t,e,n){return dt(e).pipe(Yu(r=>ho(X2(r.route.parent,n),Q2(r.route,n),J2(t,r.path),Z2(t,r.route))),fr(r=>r!==!0,!0))}function Q2(t,e){return t!==null&&e&&e(new yv(t)),le(!0)}function X2(t,e){return t!==null&&e&&e(new gv(t)),le(!0)}function Z2(t,e){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return le(!0);let r=n.map(i=>ec(()=>{let s=e._environmentInjector,o=Go(i,s),a=$2(o)?o.canActivate(e,t):Ze(s,()=>o(e,t));return ms(a).pipe(fr())}));return le(r).pipe(qo())}function J2(t,e){let n=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>F2(s)).filter(s=>s!==null).map(s=>ec(()=>{let o=s.guards.map(a=>{let c=s.node._environmentInjector,l=Go(a,c),d=H2(l)?l.canActivateChild(n,t):Ze(c,()=>l(n,t));return ms(d).pipe(fr())});return le(o).pipe(qo())}));return le(i).pipe(qo())}function ej(t,e,n,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return le(!0);let s=i.map(o=>{let a=e._environmentInjector,c=Go(o,a),l=z2(c)?c.canDeactivate(t,e,n,r):Ze(a,()=>c(t,e,n,r));return ms(l).pipe(fr())});return le(s).pipe(qo())}function tj(t,e,n,r,i){let s=e.canLoad;if(s===void 0||s.length===0)return le(!0);let o=s.map(a=>{let c=Go(a,t),l=U2(c)?c.canLoad(e,n):Ze(t,()=>c(e,n)),d=ms(l);return i?d.pipe(kS(i)):d});return le(o).pipe(qo(),PS(r))}function PS(t){return cg(Vn(e=>{if(typeof e!="boolean")throw Sh(t,e)}),Ue(e=>e===!0))}function nj(t,e,n,r,i){let s=e.canMatch;if(!s||s.length===0)return le(!0);let o=s.map(a=>{let c=Go(a,t),l=W2(c)?c.canMatch(e,n):Ze(t,()=>c(e,n));return ms(l).pipe(kS(i))});return le(o).pipe(qo(),PS(r))}var Ar=class t extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,t.prototype)}},rl=class t extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,t.prototype)}};function rj(t){throw new $(4e3,!1)}function ij(t){throw xS(!1,Ut.GuardRejected)}var Tv=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[X])throw rj(`${e.redirectTo}`);i=i.children[X]}}async applyRedirectCommands(e,n,r,i,s){let o=await sj(n,i,s);if(o instanceof Gn)throw new rl(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new rl(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Gn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Ee(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function sj(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:l,data:d,title:h,paramMap:f,queryParamMap:g}=e;return _h(ms(Ze(n,()=>r({params:l,data:d,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:h,paramMap:f,queryParamMap:g}))))}function oj(t,e){return t.providers&&!t._injector&&(t._injector=xc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Mn(t){return t.outlet||X}function aj(t,e){let n=t.filter(r=>Mn(r)===e);return n.push(...t.filter(r=>Mn(r)!==e)),n}var Cv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cj(t,e,n,r,i,s){let o=OS(t,e,n);return o.matched?(r=oj(e,r),nj(r,e,n,i,s).pipe(Ue(a=>a===!0?o:B({},Cv)))):le(o)}function OS(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?B({},Cv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||n2)(n,t,e);if(!i)return B({},Cv);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?B(B({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function iS(t,e,n,r){return n.length>0&&dj(t,n,r)?{segmentGroup:new Ee(e,uj(r,new Ee(n,t.children))),slicedSegments:[]}:n.length===0&&hj(t,n,r)?{segmentGroup:new Ee(t.segments,lj(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ee(t.segments,t.children),slicedSegments:n}}function lj(t,e,n,r){let i={};for(let s of n)if(Mh(t,e,s)&&!r[Mn(s)]){let o=new Ee([],{});i[Mn(s)]=o}return B(B({},r),i)}function uj(t,e){let n={};n[X]=e;for(let r of t)if(r.path===""&&Mn(r)!==X){let i=new Ee([],{});n[Mn(r)]=i}return n}function dj(t,e,n){return n.some(r=>Mh(t,e,r)&&Mn(r)!==X)}function hj(t,e,n){return n.some(r=>Mh(t,e,r))}function Mh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function fj(t,e,n){return e.length===0&&!t.children[n]}var Sv=class{};async function pj(t,e,n,r,i,s,o="emptyOnly",a){return new Av(t,e,n,r,i,o,s,a).recognize()}var gj=31,Av=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,s,o,a,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new Tv(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}async recognize(){let e=iS(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Jt(r,n),s=new Ch("",i),o=I2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}async match(e){let n=new Vo([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,e,X,n),rootSnapshot:n}}catch(r){if(r instanceof rl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ar?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,s);let o=await this.processSegment(e,n,r,r.segments,i,!0,s);return o instanceof Jt?[o]:[]}async processChildren(e,n,r,i){let s=[];for(let c of Object.keys(r.children))c==="primary"?s.unshift(c):s.push(c);let o=[];for(let c of s){let l=r.children[c],d=aj(n,c),h=await this.processSegmentGroup(e,d,l,c,i);o.push(...h)}let a=LS(o);return mj(a),a}async processSegment(e,n,r,i,s,o,a){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o,a)}catch(l){if(l instanceof Ar||MS(l))continue;throw l}if(fj(r,i,s))return new Sv;throw new Ar(r)}async processSegmentAgainstRoute(e,n,r,i,s,o,a,c){if(Mn(r)!==o&&(o===X||!Mh(i,s,r)))throw new Ar(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,s,o,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c);throw new Ar(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:h,remainingSegments:f}=OS(n,i,s);if(!c)throw new Ar(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>gj&&(this.allowRedirects=!1));let g=new Vo(s,l,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,sS(i),Mn(i),i.component??i._loadedComponent??null,i,oS(i),e),y=Th(g,a,this.paramsInheritanceStrategy);if(g.params=Object.freeze(y.params),g.data=Object.freeze(y.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let v=await this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,g,e),E=await this.applyRedirects.lineralizeSegments(i,v);return this.processSegment(e,r,n,E.concat(f),o,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,s,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await _h(cj(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new Ar(n);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=a,g=new Vo(h,d,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,sS(r),Mn(r),r.component??r._loadedComponent??null,r,oS(r),e),y=Th(g,o,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let{segmentGroup:v,slicedSegments:E}=iS(n,h,f,c);if(E.length===0&&v.hasChildren()){let N=await this.processChildren(l,c,v,g);return new Jt(g,N)}if(c.length===0&&E.length===0)return new Jt(g,[]);let S=Mn(r)===s,x=await this.processSegment(l,c,v,E,S?X:s,!0,g);return new Jt(g,x instanceof Jt?[x]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0){let s=n._loadedNgModuleFactory;return s&&!n._loadedInjector&&(n._loadedInjector=s.create(e).injector),{routes:n._loadedRoutes,injector:n._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await _h(tj(e,n,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=s.routes,n._loadedInjector=s.injector,n._loadedNgModuleFactory=s.factory,s}throw ij(n)}return{routes:[],injector:e}}};function mj(t){t.sort((e,n)=>e.value.outlet===X?-1:n.value.outlet===X?1:e.value.outlet.localeCompare(n.value.outlet))}function yj(t){let e=t.value.routeConfig;return e&&e.path===""}function LS(t){let e=[],n=new Set;for(let r of t){if(!yj(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=LS(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!n.has(r))}function sS(t){return t.data||{}}function oS(t){return t.resolve||{}}function vj(t,e,n,r,i,s,o){return Vt(async a=>{let{state:c,tree:l}=await pj(t,e,n,r,a.extractedUrl,i,s,o);return pe(B({},a),{targetSnapshot:c,urlAfterRedirects:l})})}function _j(t){return Vt(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return le(e);let i=new Set(r.map(a=>a.route)),s=new Set;for(let a of i)if(!s.has(a))for(let c of FS(a))s.add(c);let o=0;return dt(s).pipe(Yu(a=>i.has(a)?Ej(a,n,t):(a.data=Th(a,a.parent,t).resolve,le(void 0))),Vn(()=>o++),Qu(1),Vt(a=>o===s.size?le(e):_t))})}function FS(t){let e=t.children.map(n=>FS(n)).flat();return[t,...e]}function Ej(t,e,n){let r=t.routeConfig,i=t._resolve;return r?.title!==void 0&&!TS(r)&&(i[il]=r.title),ec(()=>(t.data=Th(t,t.parent,n).resolve,bj(i,t,e).pipe(Ue(s=>(t._resolvedData=s,t.data=B(B({},t.data),s),null)))))}function bj(t,e,n){let r=sv(t);if(r.length===0)return le({});let i={};return dt(r).pipe(Vt(s=>Ij(t[s],e,n).pipe(fr(),Vn(o=>{if(o instanceof nl)throw Sh(new ps,o);i[s]=o}))),Qu(1),Ue(()=>i),tc(s=>MS(s)?_t:gg(s)))}function Ij(t,e,n){let r=e._environmentInjector,i=Go(t,r),s=i.resolve?i.resolve(e,n):Ze(r,()=>i(e,n));return ms(s)}function aS(t){return pr(e=>{let n=t(e);return n?dt(n).pipe(Ue(()=>e)):le(e)})}var VS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===X);return r}getResolvedTitleForRoute(n){return n.data[il]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>L(wj),providedIn:"root"})}return t})(),wj=(()=>{class t extends VS{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Z(ZC))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nh=new z("",{factory:()=>({})}),kh=new z(""),jS=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=L(Py);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await lS(Ze(n,()=>r.loadComponent())),o=await US(BS(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o,o}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await Dj(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,r._loadedNgModuleFactory=s.factory,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function Dj(t,e,n,r){let i=await lS(Ze(n,()=>t.loadChildren())),s=await US(BS(i)),o;s instanceof Yd||Array.isArray(s)?o=s:o=await e.compileModuleAsync(s),r&&r(t);let a,c,l=!1,d;return Array.isArray(o)?(c=o,l=!0):(a=o.create(n).injector,d=o,c=a.get(kh,[],{optional:!0,self:!0}).flat()),{routes:c.map(Mv),injector:a,factory:d}}function Tj(t){return t&&typeof t=="object"&&"default"in t}function BS(t){return Tj(t)?t.default:t}async function US(t){return t}var Nv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>L(Cj),providedIn:"root"})}return t})(),Cj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$S=new z("");var Sj=()=>{},HS=new z(""),zS=(()=>{class t{currentNavigation=ts(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=ts(null);events=new yt;transitionAbortWithErrorSubject=new yt;configLoader=L(jS);environmentInjector=L(Ge);destroyRef=L(si);urlSerializer=L(xh);rootContexts=L(sl);location=L(Oo);inputBindingEnabled=L(Rh,{optional:!0})!==null;titleStrategy=L(VS);options=L(Nh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=L(Nv);createViewTransition=L($S,{optional:!0});navigationErrorHandler=L(HS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>le(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new fv(i)),r=i=>this.events.next(new pv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Sn(()=>{this.transitions?.next(pe(B({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new vt(null),this.transitions.pipe(dr(r=>r!==null),pr(r=>{let i=!1,s=new AbortController,o=()=>!i&&this.currentTransition?.id===r.id;return le(r).pipe(pr(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ut.SupersededByNewNavigation),_t;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:c?pe(B({},c),{previousNavigation:null}):null,abort:()=>s.abort()});let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&d!=="reload")return this.events.next(new di(a.id,this.urlSerializer.serialize(a.rawUrl),"",Ih.IgnoredSameUrlNavigation)),a.resolve(!1),_t;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return le(a).pipe(pr(h=>(this.events.next(new $o(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?_t:Promise.resolve(h))),vj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),Vn(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(g=>(g.finalUrl=h.urlAfterRedirects,g));let f=new el(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:y,extras:v}=a,E=new $o(h,this.urlSerializer.serialize(f),g,y);this.events.next(E);let S=wS(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=pe(B({},a),{targetSnapshot:S,urlAfterRedirects:f,extras:pe(B({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(x=>(x.finalUrl=f,x)),le(r)}else return this.events.next(new di(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Ih.IgnoredByUrlHandlingStrategy)),a.resolve(!1),_t}),Ue(a=>{let c=new lv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(c),this.currentTransition=r=pe(B({},a),{guards:L2(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),G2(a=>this.events.next(a)),pr(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Sh(this.urlSerializer,a.guardsResult);let c=new uv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(c),!o())return _t;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",Ut.GuardRejected),_t;if(a.guards.canActivateChecks.length===0)return le(a);let l=new dv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(l),!o())return _t;let d=!1;return le(a).pipe(_j(this.paramsInheritanceStrategy),Vn({next:()=>{d=!0;let h=new hv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(h)},complete:()=>{d||this.cancelNavigationTransition(a,"",Ut.NoDataFromResolver)}}))}),aS(a=>{let c=d=>{let h=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let f=d._environmentInjector;h.push(this.configLoader.loadComponent(f,d.routeConfig).then(g=>{d.component=g}))}for(let f of d.children)h.push(...c(f));return h},l=c(a.targetSnapshot.root);return l.length===0?le(a):dt(Promise.all(l).then(()=>a))}),aS(()=>this.afterPreactivation()),pr(()=>{let{currentSnapshot:a,targetSnapshot:c}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return l?dt(l).pipe(Ue(()=>r)):le(r)}),hr(1),Ue(a=>{let c=N2(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=pe(B({},a),{targetRouterState:c}),this.currentNavigation.update(l=>(l.targetRouterState=c,l)),this.events.next(new zo),o()&&(new Dv(n.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),o()&&(i=!0,this.currentNavigation.update(l=>(l.abort=Sj,l)),this.lastSuccessfulNavigation.set(Sn(this.currentNavigation)),this.events.next(new ui(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),nc(NS(s.signal).pipe(dr(()=>!i&&!r.targetRouterState),Vn(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",Ut.Aborted)}))),Vn({complete:()=>{i=!0}}),nc(this.transitionAbortWithErrorSubject.pipe(Vn(a=>{throw a}))),yg(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),tc(a=>{if(i=!0,this.destroyed)return r.resolve(!1),_t;if(RS(a))this.events.next(new Nn(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),O2(a)?this.events.next(new Wo(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Ho(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=Ze(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(l instanceof nl){let{message:d,cancellationCode:h}=Sh(this.urlSerializer,l);this.events.next(new Nn(r.id,this.urlSerializer.serialize(r.extractedUrl),d,h)),this.events.next(new Wo(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(c),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return _t}))}))}cancelNavigationTransition(n,r,i){let s=new Nn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Sn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Aj(t){return t!==Xc}var WS=new z("");var xj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>L(Rj),providedIn:"root"})}return t})(),xv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}shouldDestroyInjector(e){return!0}},Rj=(()=>{class t extends xv{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ud(t)))(i||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kv=(()=>{class t{urlSerializer=L(xh);options=L(Nh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=L(Oo);urlHandlingStrategy=L(Nv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Gn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let s=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,o=i??s;return o instanceof Gn?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=wS(null,L(Ge));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>L(Mj),providedIn:"root"})}return t})(),Mj=(()=>{class t extends kv{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof $o?this.updateStateMemento():n instanceof di?this.commitTransition(r):n instanceof el?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof zo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Nn&&!IS(n)?this.restoreHistory(r):n instanceof Ho?this.restoreHistory(r,!0):n instanceof ui&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(n)||s){let a=this.browserPageId,c=B(B({},o),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=B(B({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===n.finalUrl&&s===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ud(t)))(i||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qS(t,e){t.events.pipe(dr(n=>n instanceof ui||n instanceof Nn||n instanceof Ho||n instanceof di),Ue(n=>n instanceof ui||n instanceof di?0:(n instanceof Nn?n.code===Ut.Redirect||n.code===Ut.SupersededByNewNavigation:!1)?2:1),dr(n=>n!==2),hr(1)).subscribe(()=>{e()})}var GS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Pv=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=L(wy);stateManager=L(kv);options=L(Nh,{optional:!0})||{};pendingTasks=L(zn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=L(zS);urlSerializer=L(xh);location=L(Oo);urlHandlingStrategy=L(Nv);injector=L(Ge);_events=new yt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=L(xj);injectorCleanup=L(WS,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=L(kh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!L(Rh,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new qe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=Sn(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Nn&&r.code!==Ut.Redirect&&r.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ui)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof Wo){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=B({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Aj(i.source)},o);this.scheduleNavigation(a,Xc,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}x2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=B({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s).catch(c=>{this.disposed||this.injector.get(un)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Sn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Mv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=i?i.snapshot:this.routerState.snapshot.root;h=vS(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return _S(h,n,d,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Uo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Xc,null,r)}navigate(n,r={skipLocationChange:!1}){return Nj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(mo(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=B({},GS):r===!1?i=B({},KS):i=r,Uo(n))return JC(this.currentUrlTree,n,i);let s=this.parseUrl(n);return JC(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((h,f)=>{a=h,c=f});let d=this.pendingTasks.add();return qS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(Promise.reject.bind(Promise))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Nj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}var kj=new z("");function Ov(t,...e){return yr([{provide:kh,multi:!0,useValue:t},[],{provide:gs,useFactory:Pj},{provide:Qd,multi:!0,useFactory:Oj},e.map(n=>n.\u0275providers)])}function Pj(){return L(Pv).routerState.root}function Oj(){let t=L(xt);return e=>{let n=t.get(us);if(e!==n.components[0])return;let r=t.get(Pv),i=t.get(Lj);t.get(Fj)===1&&r.initialNavigation(),t.get(Vj,null,{optional:!0})?.setUpPreloading(),t.get(kj,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Lj=new z("",{factory:()=>new yt}),Fj=new z("",{factory:()=>1});var Vj=new z("");var YS=[];var QS=()=>{};var JS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Bj=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ph={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|l>>6,g=l&63;c||(g=64,o||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new Fv;let f=s<<2|a>>4;if(r.push(f),l!==64){let g=a<<4&240|l>>2;if(r.push(g),h!==64){let y=l<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Fv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Uj=function(t){let e=JS(t);return Ph.encodeByteArray(e,!0)},cl=function(t){return Uj(t).replace(/\./g,"")},Oh=function(t){try{return Ph.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $j=()=>jv().__FIREBASE_DEFAULTS__,Hj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Oh(t[1]);return e&&JSON.parse(e)},Lh=()=>{try{return QS()||$j()||Hj()||zj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eA=t=>{var e,n;return(n=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tA=t=>{let e=eA(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Bv=()=>{var t;return(t=Lh())===null||t===void 0?void 0:t.config},nA=t=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${t}`]};var ys=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function vs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(t){return(await fetch(t,{credentials:"include"})).ok}function rA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cl(JSON.stringify(n)),cl(JSON.stringify(o)),""].join(".")}var al={};function Wj(){let t={prod:[],emulator:[]};for(let e of Object.keys(al))al[e]?t.emulator.push(e):t.prod.push(e);return t}function qj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var XS=!1;function $v(t,e){if(typeof window>"u"||typeof document>"u"||!vs(window.location.host)||al[t]===e||al[t]||XS)return;al[t]=e;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",s=Wj().prod.length>0;function o(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{XS=!0,o()},f}function d(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){let f=qj(r),g=n("text"),y=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),S=n("preprendIcon"),x=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let N=f.element;a(N),d(E,v);let P=l();c(x,S),N.append(x,y,E,P),document.body.appendChild(N)}s?(y.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Gj(){var t;let e=(t=Lh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cA(){return!Gj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ll(){try{return typeof indexedDB=="object"}catch{return!1}}function lA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Kj="FirebaseError",pn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Kj,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}},kn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Yj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new pn(i,a,r)}};function Yj(t,e){return t.replace(Qj,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Qj=/\{\$([^}]+)}/g;function _s(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(ZS(s)&&ZS(o)){if(!_s(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function ZS(t){return t!==null&&typeof t=="object"}function Hv(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uA(t,e){let n=new Vv(t,e);return n.subscribe.bind(n)}var Vv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lv),i.error===void 0&&(i.error=Lv),i.complete===void 0&&(i.complete=Lv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Xj(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lv(){}var ioe=14400*1e3;function gn(t){return t&&t._delegate?t._delegate:t}var $t=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Es="[DEFAULT]";var zv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ys;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jj(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zj(t){return t===Es?void 0:t}function Jj(t){return t.instantiationMode==="EAGER"}var Fh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new zv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var eB=[],ie=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ie||{}),tB={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},nB=ie.INFO,rB={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},iB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=rB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Kn=class{constructor(e){this.name=e,this._logLevel=nB,this._logHandler=iB,this._userLogHandler=null,eB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}};var sB=(t,e)=>e.some(n=>t instanceof n),dA,hA;function oB(){return dA||(dA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aB(){return hA||(hA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var fA=new WeakMap,qv=new WeakMap,pA=new WeakMap,Wv=new WeakMap,Kv=new WeakMap;function cB(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fA.set(n,t)}).catch(()=>{}),Kv.set(e,t),e}function lB(t){if(qv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qv.set(t,e)}var Gv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gA(t){Gv=t(Gv)}function uB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Vh(this),e,...n);return pA.set(r,e.sort?e.sort():[e]),Yn(r)}:aB().includes(t)?function(...e){return t.apply(Vh(this),e),Yn(fA.get(this))}:function(...e){return Yn(t.apply(Vh(this),e))}}function dB(t){return typeof t=="function"?uB(t):(t instanceof IDBTransaction&&lB(t),sB(t,oB())?new Proxy(t,Gv):t)}function Yn(t){if(t instanceof IDBRequest)return cB(t);if(Wv.has(t))return Wv.get(t);let e=dB(t);return e!==t&&(Wv.set(t,e),Kv.set(e,t)),e}var Vh=t=>Kv.get(t);function yA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Yn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Yn(o.result),c.oldVersion,c.newVersion,Yn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var hB=["get","getKey","getAll","getAllKeys","count"],fB=["put","add","delete","clear"],Yv=new Map;function mA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yv.get(e))return Yv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=fB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hB.includes(n)))return;let s=async function(o,...a){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&c.done]))[0]};return Yv.set(e,s),s}gA(t=>pe(B({},t),{get:(e,n,r)=>mA(e,n)||t.get(e,n,r),has:(e,n)=>!!mA(e,n)||t.has(e,n)}));var Xv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function pB(t){let e=t.getComponent();return e?.type==="VERSION"}var Zv="@firebase/app",vA="0.13.2";var xr=new Kn("@firebase/app"),gB="@firebase/app-compat",mB="@firebase/analytics-compat",yB="@firebase/analytics",vB="@firebase/app-check-compat",_B="@firebase/app-check",EB="@firebase/auth",bB="@firebase/auth-compat",IB="@firebase/database",wB="@firebase/data-connect",DB="@firebase/database-compat",TB="@firebase/functions",CB="@firebase/functions-compat",SB="@firebase/installations",AB="@firebase/installations-compat",xB="@firebase/messaging",RB="@firebase/messaging-compat",MB="@firebase/performance",NB="@firebase/performance-compat",kB="@firebase/remote-config",PB="@firebase/remote-config-compat",OB="@firebase/storage",LB="@firebase/storage-compat",FB="@firebase/firestore",VB="@firebase/ai",jB="@firebase/firestore-compat",BB="firebase",UB="11.10.0";var Jv="[DEFAULT]",$B={[Zv]:"fire-core",[gB]:"fire-core-compat",[yB]:"fire-analytics",[mB]:"fire-analytics-compat",[_B]:"fire-app-check",[vB]:"fire-app-check-compat",[EB]:"fire-auth",[bB]:"fire-auth-compat",[IB]:"fire-rtdb",[wB]:"fire-data-connect",[DB]:"fire-rtdb-compat",[TB]:"fire-fn",[CB]:"fire-fn-compat",[SB]:"fire-iid",[AB]:"fire-iid-compat",[xB]:"fire-fcm",[RB]:"fire-fcm-compat",[MB]:"fire-perf",[NB]:"fire-perf-compat",[kB]:"fire-rc",[PB]:"fire-rc-compat",[OB]:"fire-gcs",[LB]:"fire-gcs-compat",[FB]:"fire-fst",[jB]:"fire-fst-compat",[VB]:"fire-vertex","fire-js":"fire-js",[BB]:"fire-js-all"};var ul=new Map,HB=new Map,e_=new Map;function _A(t,e){try{t.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pn(t){let e=t.name;if(e_.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;e_.set(e,t);for(let n of ul.values())_A(n,t);for(let n of HB.values())_A(n,t);return!0}function jh(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rr(t){return t==null?!1:t.settings!==void 0}var zB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new kn("app","Firebase",zB);var t_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}};var Ko=UB;function i_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Jv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw hi.create("bad-app-name",{appName:String(i)});if(n||(n=Bv()),!n)throw hi.create("no-options");let s=ul.get(i);if(s){if(_s(n,s.options)&&_s(r,s.config))return s;throw hi.create("duplicate-app",{appName:i})}let o=new Fh(i);for(let c of e_.values())o.addComponent(c);let a=new t_(n,r,o);return ul.set(i,a),a}function Yo(t=Jv){let e=ul.get(t);if(!e&&t===Jv&&Bv())return i_();if(!e)throw hi.create("no-app",{appName:t});return e}function Bh(){return Array.from(ul.values())}function Ye(t,e,n){var r;let i=(r=$B[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(a.join(" "));return}Pn(new $t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var WB="firebase-heartbeat-database",qB=1,dl="firebase-heartbeat-store",Qv=null;function wA(){return Qv||(Qv=yA(WB,qB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dl)}catch(n){console.warn(n)}}}}).catch(t=>{throw hi.create("idb-open",{originalErrorMessage:t.message})})),Qv}async function GB(t){try{let n=(await wA()).transaction(dl),r=await n.objectStore(dl).get(DA(t));return await n.done,r}catch(e){if(e instanceof pn)xr.warn(e.message);else{let n=hi.create("idb-get",{originalErrorMessage:e?.message});xr.warn(n.message)}}}async function EA(t,e){try{let r=(await wA()).transaction(dl,"readwrite");await r.objectStore(dl).put(e,DA(t)),await r.done}catch(n){if(n instanceof pn)xr.warn(n.message);else{let r=hi.create("idb-set",{originalErrorMessage:n?.message});xr.warn(r.message)}}}function DA(t){return`${t.name}!${t.options.appId}`}var KB=1024,YB=30,n_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new r_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>YB){let o=XB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=bA(),{heartbeatsToSend:r,unsentEntries:i}=QB(this._heartbeatsCache.heartbeats),s=cl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return xr.warn(n),""}}};function bA(){return new Date().toISOString().substring(0,10)}function QB(t,e=KB){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),IA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var r_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ll()?lA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await GB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return EA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return EA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function IA(t){return cl(JSON.stringify({version:2,heartbeats:t})).length}function XB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function ZB(t){Pn(new $t("platform-logger",e=>new Xv(e),"PRIVATE")),Pn(new $t("heartbeat",e=>new n_(e),"PRIVATE")),Ye(Zv,vA,t),Ye(Zv,vA,"esm2017"),Ye("fire-js","")}ZB("");var JB="firebase",eU="11.10.0";Ye(JB,eU,"app");function TA(t){t===void 0&&(t=L(xt));let e=t.get(To);return n=>new oe(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=n.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var Is=new go("ANGULARFIRE2_VERSION");function $h(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Xo=(t,e)=>{let n=e?[e]:Bh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Qo=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Qo||{}),CA=Ly()&&typeof Zone<"u"?Qo.WARN:Qo.SILENT;var Uh=class{zone;delegate;constructor(e,n=fg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,n,r)}},ws=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=L(we);this.outsideAngular=n.runOutsideAngular(()=>new Uh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Uh(typeof Zone>"u"?void 0:Zone.current,hg))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SA=!1;function tU(t,e){!SA&&(CA>Qo.SILENT||Ly())&&(SA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),CA>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function nU(t){let e=L(we,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function bs(t){let e=L(we,{optional:!0});return e?e.run(()=>t()):t()}var rU=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Ze(n,()=>bs(()=>t.apply(void 0,r)))),fi=(t,e,n)=>(n||=e?Qo.WARN:Qo.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=L(ws),o=L(To),a=L(Ge)}catch{return tU(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=bs(()=>o.add())),i[l]=rU(i[l],r,a));let c=nU(()=>t.apply(this,i));return e?c instanceof oe?c.pipe(Kr(s.outsideAngular),Gr(s.insideAngular),TA(a)):c instanceof Promise?bs(()=>{let l=o.add();return new Promise((d,h)=>{c.then(f=>Ze(a,()=>bs(()=>d(f))),f=>Ze(a,()=>bs(()=>h(f)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:bs(()=>c):c instanceof oe?c.pipe(Kr(s.outsideAngular),Gr(s.insideAngular)):bs(()=>c)});var Ds=class{constructor(e){return e}},hl=class{constructor(){return Bh()}};function iU(t){return t&&t.length===1?t[0]:new Ds(Yo())}var s_=new z("angularfire2._apps"),sU={provide:Ds,useFactory:iU,deps:[[new br,s_]]},oU={provide:hl,deps:[[new br,s_]]};function aU(t){return(e,n)=>{let r=n.get(as);Ye("angularfire",Is.full,"core"),Ye("angularfire",Is.full,"app"),Ye("angular",Og.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Ds(i)}}function AA(t,...e){return yr([sU,oU,{provide:s_,useFactory:aU(t),multi:!0,deps:[we,xt,ws,...e]}])}var xA=fi(i_,!0);var cU=new Map,lU={activated:!1,tokenObservers:[]},uU={initialized:!1,enabled:!1};function On(t){return cU.get(t)||Object.assign({},lU)}function kA(){return uU}var dU="https://content-firebaseappcheck.googleapis.com/v1";var hU="exchangeDebugToken",RA={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},iae=1440*60*1e3;var c_=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new ys,this.pending.promise.catch(n=>{}),await fU(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new ys,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function fU(t){return new Promise(e=>{setTimeout(e,t)})}var pU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},pi=new kn("appCheck","AppCheck",pU);function PA(t){if(!On(t).activated)throw pi.create("use-before-activation",{appName:t.name})}async function OA({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let h=await i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}let s={method:"POST",body:JSON.stringify(e),headers:r},o;try{o=await fetch(t,s)}catch(h){throw pi.create("fetch-network-error",{originalErrorMessage:h?.message})}if(o.status!==200)throw pi.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(h){throw pi.create("fetch-parse-error",{originalErrorMessage:h?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw pi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(c[1])*1e3,d=Date.now();return{token:a.token,expireTimeMillis:d+l,issuedAtTimeMillis:d}}function LA(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${dU}/projects/${n}/apps/${r}:${hU}?key=${i}`,body:{debug_token:e}}}var gU="firebase-app-check-database",mU=1,l_="firebase-app-check-store";var Hh=null;function yU(){return Hh||(Hh=new Promise((t,e)=>{try{let n=indexedDB.open(gU,mU);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(pi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;r.oldVersion===0&&i.createObjectStore(l_,{keyPath:"compositeKey"})}}catch(n){e(pi.create("storage-open",{originalErrorMessage:n?.message}))}}),Hh)}function vU(t,e){return _U(EU(t),e)}async function _U(t,e){let r=(await yU()).transaction(l_,"readwrite"),s=r.objectStore(l_).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(pi.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})}function EU(t){return`${t.options.appId}-${t.name}`}var fl=new Kn("@firebase/app-check");function o_(t,e){return ll()?vU(t,e).catch(n=>{fl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function FA(){return kA().enabled}async function VA(){let t=kA();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var bU={error:"UNKNOWN_ERROR"};function IU(t){return Ph.encodeString(JSON.stringify(t),!1)}async function u_(t,e=!1,n=!1){let r=t.app;PA(r);let i=On(r),s=i.token,o;if(s&&!pl(s)&&(i.token=void 0,s=void 0),!s){let l=await i.cachedTokenPromise;l&&(pl(l)?s=l:await o_(r,void 0))}if(!e&&s&&pl(s))return{token:s.token};let a=!1;if(FA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=OA(LA(r,await VA()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await o_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?fl.warn(l.message):n&&fl.error(l),a_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await On(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?fl.warn(l.message):n&&fl.error(l),o=l}let c;return s?o?pl(s)?c={token:s.token,internalError:o}:c=a_(o):(c={token:s.token},i.token=s,await o_(r,s)):c=a_(o),a&&CU(r,c),c}async function wU(t){let e=t.app;PA(e);let{provider:n}=On(e);if(FA()){let r=await VA(),{token:i}=await OA(LA(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function DU(t,e,n,r){let{app:i}=t,s=On(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&pl(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),MA(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>MA(t))}function jA(t,e){let n=On(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function MA(t){let{app:e}=t,n=On(e),r=n.tokenRefresher;r||(r=TU(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function TU(t){let{app:e}=t;return new c_(async()=>{let n=On(e),r;if(n.token?r=await u_(t,!0):r=await u_(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=On(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},RA.RETRIAL_MIN_WAIT,RA.RETRIAL_MAX_WAIT)}function CU(t,e){let n=On(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function pl(t){return t.expireTimeMillis-Date.now()>0}function a_(t){return{token:IU(bU),error:t}}var d_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=On(this.app);for(let n of e)jA(this.app,n.next);return Promise.resolve()}};function SU(t,e){return new d_(t,e)}function AU(t){return{getToken:e=>u_(t,e),getLimitedUseToken:()=>wU(t),addTokenListener:e=>DU(t,"INTERNAL",e),removeTokenListener:e=>jA(t.app,e)}}var xU="@firebase/app-check",RU="0.10.1";var MU="app-check",NA="app-check-internal";function NU(){Pn(new $t(MU,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return SU(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(NA).initialize()})),Pn(new $t(NA,t=>{let e=t.getProvider("app-check").getImmediate();return AU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ye(xU,RU)}NU();var kU="app-check";var zh=class{constructor(){return Xo(kU)}};var PU=["localhost","0.0.0.0","127.0.0.1"],mae=typeof window<"u"&&PU.includes(window.location.hostname);function GA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var KA=GA,YA=new kn("auth","Firebase",GA());var Kh=new Kn("@firebase/auth");function OU(t,...e){Kh.logLevel<=ie.WARN&&Kh.warn(`Auth (${Ko}): ${t}`,...e)}function qh(t,...e){Kh.logLevel<=ie.ERROR&&Kh.error(`Auth (${Ko}): ${t}`,...e)}function BA(t,...e){throw w_(t,...e)}function I_(t,...e){return w_(t,...e)}function QA(t,e,n){let r=Object.assign(Object.assign({},KA()),{[e]:n});return new kn("auth","Firebase",r).create(e,{appName:t.name})}function Gh(t){return QA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YA.create(t,...e)}function ye(t,e,...n){if(!t)throw w_(e,...n)}function gl(t){let e="INTERNAL ASSERTION FAILED: "+t;throw qh(e),new Error(e)}function Yh(t,e){t||gl(e)}function LU(){return UA()==="http:"||UA()==="https:"}function UA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function FU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LU()||oA()||"connection"in navigator)?navigator.onLine:!0}function VU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ss=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yh(n>e,"Short delay should be less than long delay!"),this.isMobile=iA()||aA()}get(){return FU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function jU(t,e){Yh(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Qh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var BU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var UU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$U=new Ss(3e4,6e4);function XA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function tf(t,e,n,r,i={}){return ZA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});let a=Hv(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:c},s);return sA()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&vs(t.emulatorConfig.host)&&(l.credentials="include"),Qh.fetch()(await JA(t,t.config.apiHost,n,a),l)})}async function ZA(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},BU),e);try{let i=new p_(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw Wh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Wh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Wh(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw QA(t,d,l);BA(t,d)}}catch(i){if(i instanceof pn)throw i;BA(t,"network-request-failed",{message:String(i)})}}async function JA(t,e,n,r){let i=`${e}${n}?${r}`,s=t,o=s.config.emulator?jU(t.config,i):`${t.config.apiScheme}://${i}`;return UU.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}var p_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(I_(this.auth,"network-request-failed")),$U.get())})}};function Wh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=I_(t,e,r);return i.customData._tokenResponse=n,i}async function HU(t,e){return tf(t,"POST","/v1/accounts:delete",e)}async function Xh(t,e){return tf(t,"POST","/v1/accounts:lookup",e)}function ml(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D_(t,e=!1){let n=gn(t),r=await n.getIdToken(e),i=ex(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ml(h_(i.auth_time)),issuedAtTime:ml(h_(i.iat)),expirationTime:ml(h_(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function h_(t){return Number(t)*1e3}function ex(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Oh(n);return i?JSON.parse(i):(qh("Failed to decode base64 JWT payload"),null)}catch(i){return qh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $A(t){let e=ex(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function g_(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pn&&zU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var m_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var vl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Zh(t){var e;let n=t.auth,r=await t.getIdToken(),i=await g_(t,Xh(n,{idToken:r}));ye(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tx(s.providerUserInfo):[],a=WU(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,d=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vl(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function T_(t){let e=gn(t);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tx(t){return t.map(e=>{var{providerId:n}=e,r=pg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function qU(t,e){let n=await ZA(t,{},async()=>{let r=Hv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await JA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return t.emulatorConfig&&vs(t.emulatorConfig.host)&&(c.credentials="include"),Qh.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GU(t,e){return tf(t,"POST","/v2/accounts:revokeToken",XA(t,e))}var yl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$A(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");let n=$A(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:s}=await qU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ye(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return gl("not implemented")}};function gi(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ts=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new m_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vl(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){let n=await g_(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return D_(this,e)}reload(){return T_(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rr(this.auth.app))return Promise.reject(Gh(this.auth));let e=await this.getIdToken();return await g_(this,HU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(l=n.createdAt)!==null&&l!==void 0?l:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:P,isAnonymous:k,providerData:O,stsTokenManager:w}=n;ye(N&&w,e,"internal-error");let b=yl.fromJSON(this.name,w);ye(typeof N=="string",e,"internal-error"),gi(h,e.name),gi(f,e.name),ye(typeof P=="boolean",e,"internal-error"),ye(typeof k=="boolean",e,"internal-error"),gi(g,e.name),gi(y,e.name),gi(v,e.name),gi(E,e.name),gi(S,e.name),gi(x,e.name);let I=new t({uid:N,auth:e,email:f,emailVerified:P,displayName:h,isAnonymous:k,photoURL:y,phoneNumber:g,tenantId:v,stsTokenManager:b,createdAt:S,lastLoginAt:x});return O&&Array.isArray(O)&&(I.providerData=O.map(T=>Object.assign({},T))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,n,r=!1){let i=new yl;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zh(s),s}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];ye(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?tx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new yl;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new vl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c}};var HA=new Map;function Cs(t){Yh(t instanceof Function,"Expected a class definition");let e=HA.get(t);return e?(Yh(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HA.set(t,e),e)}var KU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),y_=KU;function f_(t,e,n){return`firebase:${t}:${e}:${n}`}var Jh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=f_(this.userKey,i.apiKey,s),this.fullPersistenceKey=f_("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Xh(this.auth,{idToken:e}).catch(()=>{});return n?Ts._fromGetAccountInfoResponse(this.auth,n,e):null}return Ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Cs(y_),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),s=i[0]||Cs(y_),o=f_(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let d=await l._get(o);if(d){let h;if(typeof d=="string"){let f=await Xh(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Ts._fromGetAccountInfoResponse(e,f,d)}else h=Ts._fromJSON(e,d);l!==s&&(a=h),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new t(s,e,r))}};function zA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e$(e))return"Blackberry";if(t$(e))return"Webos";if(QU(e))return"Safari";if((e.includes("chrome/")||XU(e))&&!e.includes("edge/"))return"Chrome";if(JU(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function YU(t=en()){return/firefox\//i.test(t)}function QU(t=en()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XU(t=en()){return/crios\//i.test(t)}function ZU(t=en()){return/iemobile/i.test(t)}function JU(t=en()){return/android/i.test(t)}function e$(t=en()){return/blackberry/i.test(t)}function t$(t=en()){return/webos/i.test(t)}function nx(t,e=[]){let n;switch(t){case"Browser":n=zA(en());break;case"Worker":n=`${zA(en())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${r}`}var v_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function n$(t,e={}){return tf(t,"GET","/v2/passwordPolicy",XA(t,e))}var r$=6,__=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:r$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var E_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ef(this),this.idTokenSubscription=new ef(this),this.beforeStateQueue=new v_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Jh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Xh(this,{idToken:e}),r=await Ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rr(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rr(this.app))return Promise.reject(Gh(this));let n=e?gn(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rr(this.app)?Promise.reject(Gh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rr(this.app)?Promise.reject(Gh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await n$(this),n=new __(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Cs(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Jh.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&OU(`Error while retrieving App Check token: ${n.error}`),n?.token}};function i$(t){return gn(t)}var ef=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=uA(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var s$={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o$(t){s$=t}function a$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function c$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Cs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var Aae=a$("rcb"),xae=new Ss(3e4,6e4);var Rae=new Ss(2e3,1e4);var Mae=600*1e3;var Nae=new Ss(3e4,6e4);var kae=new Ss(5e3,15e3);var Pae=encodeURIComponent("fac");var WA="@firebase/auth",qA="1.10.8";var b_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function l$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u$(t){Pn(new $t("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nx(t)},l=new E_(r,i,s,c);return c$(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pn(new $t("auth-internal",e=>{let n=i$(e.getProvider("auth").getImmediate());return(r=>new b_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(WA,qA,l$(t)),Ye(WA,qA,"esm2017")}var d$=300,Oae=nA("authIdTokenMaxAge")||d$;function h$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}o$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=I_("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",h$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u$("Browser");var uH="auth";var nf=class{constructor(){return Xo(uH)}};var rx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ix={};var rf,sx;(function(){var t;function e(w,b){function I(){}I.prototype=b.prototype,w.D=b.prototype,w.prototype=new I,w.prototype.constructor=w,w.C=function(T,C,A){for(var D=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)D[Fe-2]=arguments[Fe];return b.prototype[C].apply(T,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,b,I){I||(I=0);var T=Array(16);if(typeof b=="string")for(var C=0;16>C;++C)T[C]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(C=0;16>C;++C)T[C]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=w.g[0],I=w.g[1],C=w.g[2];var A=w.g[3],D=b+(A^I&(C^A))+T[0]+3614090360&4294967295;b=I+(D<<7&4294967295|D>>>25),D=A+(C^b&(I^C))+T[1]+3905402710&4294967295,A=b+(D<<12&4294967295|D>>>20),D=C+(I^A&(b^I))+T[2]+606105819&4294967295,C=A+(D<<17&4294967295|D>>>15),D=I+(b^C&(A^b))+T[3]+3250441966&4294967295,I=C+(D<<22&4294967295|D>>>10),D=b+(A^I&(C^A))+T[4]+4118548399&4294967295,b=I+(D<<7&4294967295|D>>>25),D=A+(C^b&(I^C))+T[5]+1200080426&4294967295,A=b+(D<<12&4294967295|D>>>20),D=C+(I^A&(b^I))+T[6]+2821735955&4294967295,C=A+(D<<17&4294967295|D>>>15),D=I+(b^C&(A^b))+T[7]+4249261313&4294967295,I=C+(D<<22&4294967295|D>>>10),D=b+(A^I&(C^A))+T[8]+1770035416&4294967295,b=I+(D<<7&4294967295|D>>>25),D=A+(C^b&(I^C))+T[9]+2336552879&4294967295,A=b+(D<<12&4294967295|D>>>20),D=C+(I^A&(b^I))+T[10]+4294925233&4294967295,C=A+(D<<17&4294967295|D>>>15),D=I+(b^C&(A^b))+T[11]+2304563134&4294967295,I=C+(D<<22&4294967295|D>>>10),D=b+(A^I&(C^A))+T[12]+1804603682&4294967295,b=I+(D<<7&4294967295|D>>>25),D=A+(C^b&(I^C))+T[13]+4254626195&4294967295,A=b+(D<<12&4294967295|D>>>20),D=C+(I^A&(b^I))+T[14]+2792965006&4294967295,C=A+(D<<17&4294967295|D>>>15),D=I+(b^C&(A^b))+T[15]+1236535329&4294967295,I=C+(D<<22&4294967295|D>>>10),D=b+(C^A&(I^C))+T[1]+4129170786&4294967295,b=I+(D<<5&4294967295|D>>>27),D=A+(I^C&(b^I))+T[6]+3225465664&4294967295,A=b+(D<<9&4294967295|D>>>23),D=C+(b^I&(A^b))+T[11]+643717713&4294967295,C=A+(D<<14&4294967295|D>>>18),D=I+(A^b&(C^A))+T[0]+3921069994&4294967295,I=C+(D<<20&4294967295|D>>>12),D=b+(C^A&(I^C))+T[5]+3593408605&4294967295,b=I+(D<<5&4294967295|D>>>27),D=A+(I^C&(b^I))+T[10]+38016083&4294967295,A=b+(D<<9&4294967295|D>>>23),D=C+(b^I&(A^b))+T[15]+3634488961&4294967295,C=A+(D<<14&4294967295|D>>>18),D=I+(A^b&(C^A))+T[4]+3889429448&4294967295,I=C+(D<<20&4294967295|D>>>12),D=b+(C^A&(I^C))+T[9]+568446438&4294967295,b=I+(D<<5&4294967295|D>>>27),D=A+(I^C&(b^I))+T[14]+3275163606&4294967295,A=b+(D<<9&4294967295|D>>>23),D=C+(b^I&(A^b))+T[3]+4107603335&4294967295,C=A+(D<<14&4294967295|D>>>18),D=I+(A^b&(C^A))+T[8]+1163531501&4294967295,I=C+(D<<20&4294967295|D>>>12),D=b+(C^A&(I^C))+T[13]+2850285829&4294967295,b=I+(D<<5&4294967295|D>>>27),D=A+(I^C&(b^I))+T[2]+4243563512&4294967295,A=b+(D<<9&4294967295|D>>>23),D=C+(b^I&(A^b))+T[7]+1735328473&4294967295,C=A+(D<<14&4294967295|D>>>18),D=I+(A^b&(C^A))+T[12]+2368359562&4294967295,I=C+(D<<20&4294967295|D>>>12),D=b+(I^C^A)+T[5]+4294588738&4294967295,b=I+(D<<4&4294967295|D>>>28),D=A+(b^I^C)+T[8]+2272392833&4294967295,A=b+(D<<11&4294967295|D>>>21),D=C+(A^b^I)+T[11]+1839030562&4294967295,C=A+(D<<16&4294967295|D>>>16),D=I+(C^A^b)+T[14]+4259657740&4294967295,I=C+(D<<23&4294967295|D>>>9),D=b+(I^C^A)+T[1]+2763975236&4294967295,b=I+(D<<4&4294967295|D>>>28),D=A+(b^I^C)+T[4]+1272893353&4294967295,A=b+(D<<11&4294967295|D>>>21),D=C+(A^b^I)+T[7]+4139469664&4294967295,C=A+(D<<16&4294967295|D>>>16),D=I+(C^A^b)+T[10]+3200236656&4294967295,I=C+(D<<23&4294967295|D>>>9),D=b+(I^C^A)+T[13]+681279174&4294967295,b=I+(D<<4&4294967295|D>>>28),D=A+(b^I^C)+T[0]+3936430074&4294967295,A=b+(D<<11&4294967295|D>>>21),D=C+(A^b^I)+T[3]+3572445317&4294967295,C=A+(D<<16&4294967295|D>>>16),D=I+(C^A^b)+T[6]+76029189&4294967295,I=C+(D<<23&4294967295|D>>>9),D=b+(I^C^A)+T[9]+3654602809&4294967295,b=I+(D<<4&4294967295|D>>>28),D=A+(b^I^C)+T[12]+3873151461&4294967295,A=b+(D<<11&4294967295|D>>>21),D=C+(A^b^I)+T[15]+530742520&4294967295,C=A+(D<<16&4294967295|D>>>16),D=I+(C^A^b)+T[2]+3299628645&4294967295,I=C+(D<<23&4294967295|D>>>9),D=b+(C^(I|~A))+T[0]+4096336452&4294967295,b=I+(D<<6&4294967295|D>>>26),D=A+(I^(b|~C))+T[7]+1126891415&4294967295,A=b+(D<<10&4294967295|D>>>22),D=C+(b^(A|~I))+T[14]+2878612391&4294967295,C=A+(D<<15&4294967295|D>>>17),D=I+(A^(C|~b))+T[5]+4237533241&4294967295,I=C+(D<<21&4294967295|D>>>11),D=b+(C^(I|~A))+T[12]+1700485571&4294967295,b=I+(D<<6&4294967295|D>>>26),D=A+(I^(b|~C))+T[3]+2399980690&4294967295,A=b+(D<<10&4294967295|D>>>22),D=C+(b^(A|~I))+T[10]+4293915773&4294967295,C=A+(D<<15&4294967295|D>>>17),D=I+(A^(C|~b))+T[1]+2240044497&4294967295,I=C+(D<<21&4294967295|D>>>11),D=b+(C^(I|~A))+T[8]+1873313359&4294967295,b=I+(D<<6&4294967295|D>>>26),D=A+(I^(b|~C))+T[15]+4264355552&4294967295,A=b+(D<<10&4294967295|D>>>22),D=C+(b^(A|~I))+T[6]+2734768916&4294967295,C=A+(D<<15&4294967295|D>>>17),D=I+(A^(C|~b))+T[13]+1309151649&4294967295,I=C+(D<<21&4294967295|D>>>11),D=b+(C^(I|~A))+T[4]+4149444226&4294967295,b=I+(D<<6&4294967295|D>>>26),D=A+(I^(b|~C))+T[11]+3174756917&4294967295,A=b+(D<<10&4294967295|D>>>22),D=C+(b^(A|~I))+T[2]+718787259&4294967295,C=A+(D<<15&4294967295|D>>>17),D=I+(A^(C|~b))+T[9]+3951481745&4294967295,w.g[0]=w.g[0]+b&4294967295,w.g[1]=w.g[1]+(C+(D<<21&4294967295|D>>>11))&4294967295,w.g[2]=w.g[2]+C&4294967295,w.g[3]=w.g[3]+A&4294967295}r.prototype.u=function(w,b){b===void 0&&(b=w.length);for(var I=b-this.blockSize,T=this.B,C=this.h,A=0;A<b;){if(C==0)for(;A<=I;)i(this,w,A),A+=this.blockSize;if(typeof w=="string"){for(;A<b;)if(T[C++]=w.charCodeAt(A++),C==this.blockSize){i(this,T),C=0;break}}else for(;A<b;)if(T[C++]=w[A++],C==this.blockSize){i(this,T),C=0;break}}this.h=C,this.o+=b},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var b=1;b<w.length-8;++b)w[b]=0;var I=8*this.o;for(b=w.length-8;b<w.length;++b)w[b]=I&255,I/=256;for(this.u(w),w=Array(16),b=I=0;4>b;++b)for(var T=0;32>T;T+=8)w[I++]=this.g[b]>>>T&255;return w};function s(w,b){var I=a;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=b(w)}function o(w,b){this.h=b;for(var I=[],T=!0,C=w.length-1;0<=C;C--){var A=w[C]|0;T&&A==b||(I[C]=A,T=!1)}this.g=I}var a={};function c(w){return-128<=w&&128>w?s(w,function(b){return new o([b|0],0>b?-1:0)}):new o([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return h;if(0>w)return E(l(-w));for(var b=[],I=1,T=0;w>=I;T++)b[T]=w/I|0,I*=4294967296;return new o(b,0)}function d(w,b){if(w.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(w.charAt(0)=="-")return E(d(w.substring(1),b));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(b,8)),T=h,C=0;C<w.length;C+=8){var A=Math.min(8,w.length-C),D=parseInt(w.substring(C,C+A),b);8>A?(A=l(Math.pow(b,A)),T=T.j(A).add(l(D))):(T=T.j(I),T=T.add(l(D)))}return T}var h=c(0),f=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();for(var w=0,b=1,I=0;I<this.g.length;I++){var T=this.i(I);w+=(0<=T?T:4294967296+T)*b,b*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(y(this))return"0";if(v(this))return"-"+E(this).toString(w);for(var b=l(Math.pow(w,6)),I=this,T="";;){var C=P(I,b).g;I=S(I,C.j(b));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(w);if(I=C,y(I))return A+T;for(;6>A.length;)A="0"+A;T=A+T}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function y(w){if(w.h!=0)return!1;for(var b=0;b<w.g.length;b++)if(w.g[b]!=0)return!1;return!0}function v(w){return w.h==-1}t.l=function(w){return w=S(this,w),v(w)?-1:y(w)?0:1};function E(w){for(var b=w.g.length,I=[],T=0;T<b;T++)I[T]=~w.g[T];return new o(I,~w.h).add(f)}t.abs=function(){return v(this)?E(this):this},t.add=function(w){for(var b=Math.max(this.g.length,w.g.length),I=[],T=0,C=0;C<=b;C++){var A=T+(this.i(C)&65535)+(w.i(C)&65535),D=(A>>>16)+(this.i(C)>>>16)+(w.i(C)>>>16);T=D>>>16,A&=65535,D&=65535,I[C]=D<<16|A}return new o(I,I[I.length-1]&-2147483648?-1:0)};function S(w,b){return w.add(E(b))}t.j=function(w){if(y(this)||y(w))return h;if(v(this))return v(w)?E(this).j(E(w)):E(E(this).j(w));if(v(w))return E(this.j(E(w)));if(0>this.l(g)&&0>w.l(g))return l(this.m()*w.m());for(var b=this.g.length+w.g.length,I=[],T=0;T<2*b;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(var C=0;C<w.g.length;C++){var A=this.i(T)>>>16,D=this.i(T)&65535,Fe=w.i(C)>>>16,ce=w.i(C)&65535;I[2*T+2*C]+=D*ce,x(I,2*T+2*C),I[2*T+2*C+1]+=A*ce,x(I,2*T+2*C+1),I[2*T+2*C+1]+=D*Fe,x(I,2*T+2*C+1),I[2*T+2*C+2]+=A*Fe,x(I,2*T+2*C+2)}for(T=0;T<b;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=b;T<2*b;T++)I[T]=0;return new o(I,0)};function x(w,b){for(;(w[b]&65535)!=w[b];)w[b+1]+=w[b]>>>16,w[b]&=65535,b++}function N(w,b){this.g=w,this.h=b}function P(w,b){if(y(b))throw Error("division by zero");if(y(w))return new N(h,h);if(v(w))return b=P(E(w),b),new N(E(b.g),E(b.h));if(v(b))return b=P(w,E(b)),new N(E(b.g),b.h);if(30<w.g.length){if(v(w)||v(b))throw Error("slowDivide_ only works with positive integers.");for(var I=f,T=b;0>=T.l(w);)I=k(I),T=k(T);var C=O(I,1),A=O(T,1);for(T=O(T,2),I=O(I,2);!y(T);){var D=A.add(T);0>=D.l(w)&&(C=C.add(I),A=D),T=O(T,1),I=O(I,1)}return b=S(w,C.j(b)),new N(C,b)}for(C=h;0<=w.l(b);){for(I=Math.max(1,Math.floor(w.m()/b.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),A=l(I),D=A.j(b);v(D)||0<D.l(w);)I-=T,A=l(I),D=A.j(b);y(A)&&(A=f),C=C.add(A),w=S(w,D)}return new N(C,w)}t.A=function(w){return P(this,w).h},t.and=function(w){for(var b=Math.max(this.g.length,w.g.length),I=[],T=0;T<b;T++)I[T]=this.i(T)&w.i(T);return new o(I,this.h&w.h)},t.or=function(w){for(var b=Math.max(this.g.length,w.g.length),I=[],T=0;T<b;T++)I[T]=this.i(T)|w.i(T);return new o(I,this.h|w.h)},t.xor=function(w){for(var b=Math.max(this.g.length,w.g.length),I=[],T=0;T<b;T++)I[T]=this.i(T)^w.i(T);return new o(I,this.h^w.h)};function k(w){for(var b=w.g.length+1,I=[],T=0;T<b;T++)I[T]=w.i(T)<<1|w.i(T-1)>>>31;return new o(I,w.h)}function O(w,b){var I=b>>5;b%=32;for(var T=w.g.length-I,C=[],A=0;A<T;A++)C[A]=0<b?w.i(A+I)>>>b|w.i(A+I+1)<<32-b:w.i(A+I);return new o(C,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sx=ix.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,rf=ix.Integer=o}).apply(typeof rx<"u"?rx:typeof self<"u"?self:typeof window<"u"?window:{});var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mr={};var C_,dH,Zo,S_,_l,of,A_,x_,R_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sf=="object"&&sf];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var m=r;u=u.split(".");for(var _=0;_<u.length-1;_++){var R=u[_];if(!(R in m))break e;m=m[R]}u=u[u.length-1],_=m[u],p=p(_),p!=_&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var m=0,_=!1,R={next:function(){if(!_&&m<u.length){var M=m++;return{value:p(M,u[M]),done:!1}}return _=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,m){return m})}});var o=o||{},a=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function l(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,m){return u.call.apply(u.bind,arguments)}function h(u,p,m){if(!u)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,_),u.apply(p,R)}}return function(){return u.apply(p,arguments)}}function f(u,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),u.apply(this,_)}}function y(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(_,R,M){for(var j=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)j[Se-2]=arguments[Se];return p.prototype[R].apply(_,j)}}function v(u){let p=u.length;if(0<p){let m=Array(p);for(let _=0;_<p;_++)m[_]=u[_];return m}return[]}function E(u,p){for(let m=1;m<arguments.length;m++){let _=arguments[m];if(c(_)){let R=u.length||0,M=_.length||0;u.length=R+M;for(let j=0;j<M;j++)u[R+j]=_[j]}else u.push(_)}}class S{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(u){return/^[\s\xa0]*$/.test(u)}function N(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var k=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function O(u,p,m){for(let _ in u)p.call(m,u[_],_,u)}function w(u,p){for(let m in u)p.call(void 0,u[m],m,u)}function b(u){let p={};for(let m in u)p[m]=u[m];return p}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,p){let m,_;for(let R=1;R<arguments.length;R++){_=arguments[R];for(m in _)u[m]=_[m];for(let M=0;M<I.length;M++)m=I[M],Object.prototype.hasOwnProperty.call(_,m)&&(u[m]=_[m])}}function C(u){var p=1;u=u.split(":");let m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function A(u){a.setTimeout(()=>{throw u},0)}function D(){var u=Xe;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Fe{constructor(){this.h=this.g=null}add(p,m){let _=ce.get();_.set(p,m),this.h?this.h.next=_:this.g=_,this.h=_}}var ce=new S(()=>new Re,u=>u.reset());class Re{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,gt=!1,Xe=new Fe,or=()=>{let u=a.Promise.resolve(void 0);Ce=()=>{u.then(Xs)}};var Xs=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(m){A(m)}var p=ce;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}gt=!1};function Ot(){this.s=this.s,this.C=this.C}Ot.prototype.s=!1,Ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function je(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var ar=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u})();function _n(u,p){if(je.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,_=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(k){e:{try{P(p.nodeName);var R=!0;break e}catch{}R=!1}R||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:cr[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&_n.aa.h.call(this)}}y(_n,je);var cr={2:"touch",3:"pen",4:"mouse"};_n.prototype.h=function(){_n.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Oa="closure_listenable_"+(1e6*Math.random()|0),Ck=0;function Sk(u,p,m,_,R){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!_,this.ha=R,this.key=++Ck,this.da=this.fa=!1}function ou(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function au(u){this.src=u,this.g={},this.h=0}au.prototype.add=function(u,p,m,_,R){var M=u.toString();u=this.g[M],u||(u=this.g[M]=[],this.h++);var j=Tp(u,p,_,R);return-1<j?(p=u[j],m||(p.fa=!1)):(p=new Sk(p,this.src,M,!!_,R),p.fa=m,u.push(p)),p};function Dp(u,p){var m=p.type;if(m in u.g){var _=u.g[m],R=Array.prototype.indexOf.call(_,p,void 0),M;(M=0<=R)&&Array.prototype.splice.call(_,R,1),M&&(ou(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Tp(u,p,m,_){for(var R=0;R<u.length;++R){var M=u[R];if(!M.da&&M.listener==p&&M.capture==!!m&&M.ha==_)return R}return-1}var Cp="closure_lm_"+(1e6*Math.random()|0),Sp={};function PI(u,p,m,_,R){if(_&&_.once)return LI(u,p,m,_,R);if(Array.isArray(p)){for(var M=0;M<p.length;M++)PI(u,p[M],m,_,R);return null}return m=Mp(m),u&&u[Oa]?u.K(p,m,l(_)?!!_.capture:!!_,R):OI(u,p,m,!1,_,R)}function OI(u,p,m,_,R,M){if(!p)throw Error("Invalid event type");var j=l(R)?!!R.capture:!!R,Se=xp(u);if(Se||(u[Cp]=Se=new au(u)),m=Se.add(p,m,_,j,M),m.proxy)return m;if(_=Ak(),m.proxy=_,_.src=u,_.listener=m,u.addEventListener)ar||(R=j),R===void 0&&(R=!1),u.addEventListener(p.toString(),_,R);else if(u.attachEvent)u.attachEvent(VI(p.toString()),_);else if(u.addListener&&u.removeListener)u.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Ak(){function u(m){return p.call(u.src,u.listener,m)}let p=xk;return u}function LI(u,p,m,_,R){if(Array.isArray(p)){for(var M=0;M<p.length;M++)LI(u,p[M],m,_,R);return null}return m=Mp(m),u&&u[Oa]?u.L(p,m,l(_)?!!_.capture:!!_,R):OI(u,p,m,!0,_,R)}function FI(u,p,m,_,R){if(Array.isArray(p))for(var M=0;M<p.length;M++)FI(u,p[M],m,_,R);else _=l(_)?!!_.capture:!!_,m=Mp(m),u&&u[Oa]?(u=u.i,p=String(p).toString(),p in u.g&&(M=u.g[p],m=Tp(M,m,_,R),-1<m&&(ou(M[m]),Array.prototype.splice.call(M,m,1),M.length==0&&(delete u.g[p],u.h--)))):u&&(u=xp(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Tp(p,m,_,R)),(m=-1<u?p[u]:null)&&Ap(m))}function Ap(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Oa])Dp(p.i,u);else{var m=u.type,_=u.proxy;p.removeEventListener?p.removeEventListener(m,_,u.capture):p.detachEvent?p.detachEvent(VI(m),_):p.addListener&&p.removeListener&&p.removeListener(_),(m=xp(p))?(Dp(m,u),m.h==0&&(m.src=null,p[Cp]=null)):ou(u)}}}function VI(u){return u in Sp?Sp[u]:Sp[u]="on"+u}function xk(u,p){if(u.da)u=!0;else{p=new _n(p,this);var m=u.listener,_=u.ha||u.src;u.fa&&Ap(u),u=m.call(_,p)}return u}function xp(u){return u=u[Cp],u instanceof au?u:null}var Rp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mp(u){return typeof u=="function"?u:(u[Rp]||(u[Rp]=function(p){return u.handleEvent(p)}),u[Rp])}function Tt(){Ot.call(this),this.i=new au(this),this.M=this,this.F=null}y(Tt,Ot),Tt.prototype[Oa]=!0,Tt.prototype.removeEventListener=function(u,p,m,_){FI(this,u,p,m,_)};function Lt(u,p){var m,_=u.F;if(_)for(m=[];_;_=_.F)m.push(_);if(u=u.M,_=p.type||p,typeof p=="string")p=new je(p,u);else if(p instanceof je)p.target=p.target||u;else{var R=p;p=new je(_,u),T(p,R)}if(R=!0,m)for(var M=m.length-1;0<=M;M--){var j=p.g=m[M];R=cu(j,_,!0,p)&&R}if(j=p.g=u,R=cu(j,_,!0,p)&&R,R=cu(j,_,!1,p)&&R,m)for(M=0;M<m.length;M++)j=p.g=m[M],R=cu(j,_,!1,p)&&R}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],_=0;_<m.length;_++)ou(m[_]);delete u.g[p],u.h--}}this.F=null},Tt.prototype.K=function(u,p,m,_){return this.i.add(String(u),p,!1,m,_)},Tt.prototype.L=function(u,p,m,_){return this.i.add(String(u),p,!0,m,_)};function cu(u,p,m,_){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var R=!0,M=0;M<p.length;++M){var j=p[M];if(j&&!j.da&&j.capture==m){var Se=j.listener,mt=j.ha||j.src;j.fa&&Dp(u.i,j),R=Se.call(mt,_)!==!1&&R}}return R&&!_.defaultPrevented}function jI(u,p,m){if(typeof u=="function")m&&(u=f(u,m));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function BI(u){u.g=jI(()=>{u.g=null,u.i&&(u.i=!1,BI(u))},u.l);let p=u.h;u.h=null,u.m.apply(null,p)}class Rk extends Ot{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:BI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(u){Ot.call(this),this.h=u,this.g={}}y(La,Ot);var UI=[];function $I(u){O(u.g,function(p,m){this.g.hasOwnProperty(m)&&Ap(p)},u),u.g={}}La.prototype.N=function(){La.aa.N.call(this),$I(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Np=a.JSON.stringify,Mk=a.JSON.parse,Nk=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function kp(){}kp.prototype.h=null;function HI(u){return u.h||(u.h=u.i())}function zI(){}var Fa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pp(){je.call(this,"d")}y(Pp,je);function Op(){je.call(this,"c")}y(Op,je);var Ni={},WI=null;function lu(){return WI=WI||new Tt}Ni.La="serverreachability";function qI(u){je.call(this,Ni.La,u)}y(qI,je);function Va(u){let p=lu();Lt(p,new qI(p))}Ni.STAT_EVENT="statevent";function GI(u,p){je.call(this,Ni.STAT_EVENT,u),this.stat=p}y(GI,je);function Ft(u){let p=lu();Lt(p,new GI(p,u))}Ni.Ma="timingevent";function KI(u,p){je.call(this,Ni.Ma,u),this.size=p}y(KI,je);function ja(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Ba(){this.g=!0}Ba.prototype.xa=function(){this.g=!1};function kk(u,p,m,_,R,M){u.info(function(){if(u.g)if(M)for(var j="",Se=M.split("&"),mt=0;mt<Se.length;mt++){var fe=Se[mt].split("=");if(1<fe.length){var Ct=fe[0];fe=fe[1];var St=Ct.split("_");j=2<=St.length&&St[1]=="type"?j+(Ct+"="+fe+"&"):j+(Ct+"=redacted&")}}else j=null;else j=M;return"XMLHTTP REQ ("+_+") [attempt "+R+"]: "+p+`
`+m+`
`+j})}function Pk(u,p,m,_,R,M,j){u.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+R+"]: "+p+`
`+m+`
`+M+" "+j})}function Zs(u,p,m,_){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Lk(u,m)+(_?" "+_:"")})}function Ok(u,p){u.info(function(){return"TIMEOUT: "+p})}Ba.prototype.info=function(){};function Lk(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var _=m[u];if(!(2>_.length)){var R=_[1];if(Array.isArray(R)&&!(1>R.length)){var M=R[0];if(M!="noop"&&M!="stop"&&M!="close")for(var j=1;j<R.length;j++)R[j]=""}}}}return Np(m)}catch{return p}}var uu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},YI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lp;function du(){}y(du,kp),du.prototype.g=function(){return new XMLHttpRequest},du.prototype.i=function(){return{}},Lp=new du;function Hr(u,p,m,_){this.j=u,this.i=p,this.l=m,this.R=_||1,this.U=new La(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new QI}function QI(){this.i=null,this.g="",this.h=!1}var XI={},Fp={};function Vp(u,p,m){u.L=1,u.v=gu(lr(p)),u.m=m,u.P=!0,ZI(u,null)}function ZI(u,p){u.F=Date.now(),hu(u),u.A=lr(u.v);var m=u.A,_=u.R;Array.isArray(_)||(_=[String(_)]),hw(m.i,"t",_),u.C=0,m=u.j.J,u.h=new QI,u.g=Rw(u.j,m?p:null,!u.m),0<u.O&&(u.M=new Rk(f(u.Y,u,u.g),u.O)),p=u.U,m=u.g,_=u.ca;var R="readystatechange";Array.isArray(R)||(R&&(UI[0]=R.toString()),R=UI);for(var M=0;M<R.length;M++){var j=PI(m,R[M],_||p.handleEvent,!1,p.h||p);if(!j)break;p.g[j.key]=j}p=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Va(),kk(u.i,u.u,u.A,u.l,u.R,u.m)}Hr.prototype.ca=function(u){u=u.target;let p=this.M;p&&ur(u)==3?p.j():this.Y(u)},Hr.prototype.Y=function(u){try{if(u==this.g)e:{let St=ur(this.g);var p=this.g.Ba();let to=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||_w(this.g)))){this.J||St!=4||p==7||(p==8||0>=to?Va(3):Va(2)),jp(this);var m=this.g.Z();this.X=m;t:if(JI(this)){var _=_w(this.g);u="";var R=_.length,M=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),Ua(this);var j="";break t}this.h.i=new a.TextDecoder}for(p=0;p<R;p++)this.h.h=!0,u+=this.h.i.decode(_[p],{stream:!(M&&p==R-1)});_.length=0,this.h.g+=u,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=m==200,Pk(this.i,this.u,this.A,this.l,this.R,St,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,mt=this.g;if((Se=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Se)){var fe=Se;break t}}fe=null}if(m=fe)Zs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bp(this,m);else{this.o=!1,this.s=3,Ft(12),ki(this),Ua(this);break e}}if(this.P){m=!0;let En;for(;!this.J&&this.C<j.length;)if(En=Fk(this,j),En==Fp){St==4&&(this.s=4,Ft(14),m=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(En==XI){this.s=4,Ft(15),Zs(this.i,this.l,j,"[Invalid Chunk]"),m=!1;break}else Zs(this.i,this.l,En,null),Bp(this,En);if(JI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||j.length!=0||this.h.h||(this.s=1,Ft(16),m=!1),this.o=this.o&&m,!m)Zs(this.i,this.l,j,"[Invalid Chunked Response]"),ki(this),Ua(this);else if(0<j.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),qp(Ct),Ct.M=!0,Ft(11))}}else Zs(this.i,this.l,j,null),Bp(this,j);St==4&&ki(this),this.o&&!this.J&&(St==4?Cw(this.j,this):(this.o=!1,hu(this)))}else eP(this.g),m==400&&0<j.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),ki(this),Ua(this)}}}catch{}};function JI(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Fk(u,p){var m=u.C,_=p.indexOf(`
`,m);return _==-1?Fp:(m=Number(p.substring(m,_)),isNaN(m)?XI:(_+=1,_+m>p.length?Fp:(p=p.slice(_,_+m),u.C=_+m,p)))}Hr.prototype.cancel=function(){this.J=!0,ki(this)};function hu(u){u.S=Date.now()+u.I,ew(u,u.I)}function ew(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ja(f(u.ba,u),p)}function jp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Hr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Ok(this.i,this.A),this.L!=2&&(Va(),Ft(17)),ki(this),this.s=2,Ua(this)):ew(this,this.S-u)};function Ua(u){u.j.G==0||u.J||Cw(u.j,u)}function ki(u){jp(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,$I(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Bp(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||Up(m.h,u))){if(!u.K&&Up(m.h,u)&&m.G==3){try{var _=m.Da.g.parse(p)}catch{_=null}if(Array.isArray(_)&&_.length==3){var R=_;if(R[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Eu(m),vu(m);else break e;Wp(m),Ft(18)}}else m.za=R[1],0<m.za-m.T&&37500>R[2]&&m.F&&m.v==0&&!m.C&&(m.C=ja(f(m.Za,m),6e3));if(1>=rw(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Oi(m,11)}else if((u.K||m.g==u)&&Eu(m),!x(p))for(R=m.Da.g.parse(p),p=0;p<R.length;p++){let fe=R[p];if(m.T=fe[0],fe=fe[1],m.G==2)if(fe[0]=="c"){m.K=fe[1],m.ia=fe[2];let Ct=fe[3];Ct!=null&&(m.la=Ct,m.j.info("VER="+m.la));let St=fe[4];St!=null&&(m.Aa=St,m.j.info("SVER="+m.Aa));let to=fe[5];to!=null&&typeof to=="number"&&0<to&&(_=1.5*to,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;let En=u.g;if(En){let Iu=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Iu){var M=_.h;M.g||Iu.indexOf("spdy")==-1&&Iu.indexOf("quic")==-1&&Iu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&($p(M,M.h),M.h=null))}if(_.D){let Gp=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Gp&&(_.ya=Gp,Oe(_.I,_.D,Gp))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var j=u;if(_.qa=xw(_,_.J?_.ia:null,_.W),j.K){iw(_.h,j);var Se=j,mt=_.L;mt&&(Se.I=mt),Se.B&&(jp(Se),hu(Se)),_.g=j}else Dw(_);0<m.i.length&&_u(m)}else fe[0]!="stop"&&fe[0]!="close"||Oi(m,7);else m.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Oi(m,7):zp(m):fe[0]!="noop"&&m.l&&m.l.ta(fe),m.v=0)}}Va(4)}catch{}}var Vk=class{constructor(u,p){this.g=u,this.map=p}};function tw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function rw(u){return u.h?1:u.g?u.g.size:0}function Up(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function $p(u,p){u.g?u.g.add(p):u.h=p}function iw(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}tw.prototype.cancel=function(){if(this.i=sw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function sw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(let m of u.g.values())p=p.concat(m.D);return p}return v(u.i)}function jk(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],m=u.length,_=0;_<m;_++)p.push(u[_]);return p}p=[],m=0;for(_ in u)p[m++]=u[_];return p}function Bk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(let _ in u)p[m++]=_;return p}}}function ow(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=Bk(u),_=jk(u),R=_.length,M=0;M<R;M++)p.call(void 0,_[M],m&&m[M],u)}var aw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uk(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var _=u[m].indexOf("="),R=null;if(0<=_){var M=u[m].substring(0,_);R=u[m].substring(_+1)}else M=u[m];p(M,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Pi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Pi){this.h=u.h,fu(this,u.j),this.o=u.o,this.g=u.g,pu(this,u.s),this.l=u.l;var p=u.i,m=new za;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),cw(this,m),this.m=u.m}else u&&(p=String(u).match(aw))?(this.h=!1,fu(this,p[1]||"",!0),this.o=$a(p[2]||""),this.g=$a(p[3]||"",!0),pu(this,p[4]),this.l=$a(p[5]||"",!0),cw(this,p[6]||"",!0),this.m=$a(p[7]||"")):(this.h=!1,this.i=new za(null,this.h))}Pi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Ha(p,lw,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Ha(p,lw,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Ha(m,m.charAt(0)=="/"?zk:Hk,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Ha(m,qk)),u.join("")};function lr(u){return new Pi(u)}function fu(u,p,m){u.j=m?$a(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function pu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function cw(u,p,m){p instanceof za?(u.i=p,Gk(u.i,u.h)):(m||(p=Ha(p,Wk)),u.i=new za(p,u.h))}function Oe(u,p,m){u.i.set(p,m)}function gu(u){return Oe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function $a(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ha(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,$k),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $k(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var lw=/[#\/\?@]/g,Hk=/[#\?:]/g,zk=/[#\?]/g,Wk=/[#\?@]/g,qk=/#/g;function za(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function zr(u){u.g||(u.g=new Map,u.h=0,u.i&&Uk(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=za.prototype,t.add=function(u,p){zr(this),this.i=null,u=Js(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function uw(u,p){zr(u),p=Js(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function dw(u,p){return zr(u),p=Js(u,p),u.g.has(p)}t.forEach=function(u,p){zr(this),this.g.forEach(function(m,_){m.forEach(function(R){u.call(p,R,_,this)},this)},this)},t.na=function(){zr(this);let u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let _=0;_<p.length;_++){let R=u[_];for(let M=0;M<R.length;M++)m.push(p[_])}return m},t.V=function(u){zr(this);let p=[];if(typeof u=="string")dw(this,u)&&(p=p.concat(this.g.get(Js(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return zr(this),this.i=null,u=Js(this,u),dw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function hw(u,p,m){uw(u,p),0<m.length&&(u.i=null,u.g.set(Js(u,p),v(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var _=p[m];let M=encodeURIComponent(String(_)),j=this.V(_);for(_=0;_<j.length;_++){var R=M;j[_]!==""&&(R+="="+encodeURIComponent(String(j[_]))),u.push(R)}}return this.i=u.join("&")};function Js(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Gk(u,p){p&&!u.j&&(zr(u),u.i=null,u.g.forEach(function(m,_){var R=_.toLowerCase();_!=R&&(uw(this,_),hw(this,R,m))},u)),u.j=p}function Kk(u,p){let m=new Ba;if(a.Image){let _=new Image;_.onload=g(Wr,m,"TestLoadImage: loaded",!0,p,_),_.onerror=g(Wr,m,"TestLoadImage: error",!1,p,_),_.onabort=g(Wr,m,"TestLoadImage: abort",!1,p,_),_.ontimeout=g(Wr,m,"TestLoadImage: timeout",!1,p,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=u}else p(!1)}function Yk(u,p){let m=new Ba,_=new AbortController,R=setTimeout(()=>{_.abort(),Wr(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:_.signal}).then(M=>{clearTimeout(R),M.ok?Wr(m,"TestPingServer: ok",!0,p):Wr(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(R),Wr(m,"TestPingServer: error",!1,p)})}function Wr(u,p,m,_,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),_(m)}catch{}}function Qk(){this.g=new Nk}function Xk(u,p,m){let _=m||"";try{ow(u,function(R,M){let j=R;l(R)&&(j=Np(R)),p.push(_+M+"="+encodeURIComponent(j))})}catch(R){throw p.push(_+"type="+encodeURIComponent("_badmap")),R}}function Wa(u){this.l=u.Ub||null,this.j=u.eb||!1}y(Wa,kp),Wa.prototype.g=function(){return new mu(this.l,this.j)},Wa.prototype.i=(function(u){return function(){return u}})({});function mu(u,p){Tt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(mu,Tt),t=mu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Ga(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ga(this)),this.g&&(this.readyState=3,Ga(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function fw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?qa(this):Ga(this),this.readyState==3&&fw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,qa(this))},t.Qa=function(u){this.g&&(this.response=u,qa(this))},t.ga=function(){this.g&&qa(this)};function qa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ga(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function Ga(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function pw(u){let p="";return O(u,function(m,_){p+=_,p+=":",p+=m,p+=`\r
`}),p}function Hp(u,p,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=pw(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Oe(u,p,m))}function Be(u){Tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Be,Tt);var Zk=/^https?$/i,Jk=["POST","PUT"];t=Be.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lp.g(),this.v=this.o?HI(this.o):HI(Lp),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(M){gw(this,M);return}if(u=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var R in _)m.set(R,_[R]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let M of _.keys())m.set(M,_.get(M));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),R=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Jk,p,void 0))||_||R||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,j]of m)this.g.setRequestHeader(M,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vw(this),this.u=!0,this.g.send(u),this.u=!1}catch(M){gw(this,M)}};function gw(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,mw(u),yu(u)}function mw(u){u.A||(u.A=!0,Lt(u,"complete"),Lt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Lt(this,"complete"),Lt(this,"abort"),yu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yu(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yw(this):this.bb())},t.bb=function(){yw(this)};function yw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ur(u)!=4||u.Z()!=2)){if(u.u&&ur(u)==4)jI(u.Ea,0,u);else if(Lt(u,"readystatechange"),ur(u)==4){u.h=!1;try{let j=u.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var _;if(_=j===0){var R=String(u.D).match(aw)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),_=!Zk.test(R?R.toLowerCase():"")}m=_}if(m)Lt(u,"complete"),Lt(u,"success");else{u.m=6;try{var M=2<ur(u)?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.Z()+"]",mw(u)}}finally{yu(u)}}}}function yu(u,p){if(u.g){vw(u);let m=u.g,_=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Lt(u,"ready");try{m.onreadystatechange=_}catch{}}}function vw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ur(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Mk(p)}};function _w(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function eP(u){let p={};u=(u.g&&2<=ur(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<u.length;_++){if(x(u[_]))continue;var m=C(u[_]);let R=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let M=p[R]||[];p[R]=M,M.push(m)}w(p,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function Ew(u){this.Aa=0,this.i=[],this.j=new Ba,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,u),this.cb=Ka("retryDelaySeedMs",1e4,u),this.Wa=Ka("forwardChannelMaxRetries",2,u),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new tw(u&&u.concurrentRequestLimit),this.Da=new Qk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ew.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,_){Ft(0),this.W=u,this.H=p||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=xw(this,null,this.W),_u(this)};function zp(u){if(bw(u),u.G==3){var p=u.U++,m=lr(u.I);if(Oe(m,"SID",u.K),Oe(m,"RID",p),Oe(m,"TYPE","terminate"),Ya(u,m),p=new Hr(u,u.j,p),p.L=2,p.v=gu(lr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=Rw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),hu(p)}Aw(u)}function vu(u){u.g&&(qp(u),u.g.cancel(),u.g=null)}function bw(u){vu(u),u.u&&(a.clearTimeout(u.u),u.u=null),Eu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function _u(u){if(!nw(u.h)&&!u.s){u.s=!0;var p=u.Ga;Ce||or(),gt||(Ce(),gt=!0),Xe.add(p,u),u.B=0}}function tP(u,p){return rw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ja(f(u.Ga,u,p),Sw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let R=new Hr(this,this.j,u),M=this.o;if(this.S&&(M?(M=b(M),T(M,this.S)):M=this.S),this.m!==null||this.O||(R.H=M,M=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(p+=_,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=ww(this,R,p),m=lr(this.I),Oe(m,"RID",u),Oe(m,"CVER",22),this.D&&Oe(m,"X-HTTP-Session-Id",this.D),Ya(this,m),M&&(this.O?p="headers="+encodeURIComponent(String(pw(M)))+"&"+p:this.m&&Hp(m,this.m,M)),$p(this.h,R),this.Ua&&Oe(m,"TYPE","init"),this.P?(Oe(m,"$req",p),Oe(m,"SID","null"),R.T=!0,Vp(R,m,null)):Vp(R,m,p),this.G=2}}else this.G==3&&(u?Iw(this,u):this.i.length==0||nw(this.h)||Iw(this))};function Iw(u,p){var m;p?m=p.l:m=u.U++;let _=lr(u.I);Oe(_,"SID",u.K),Oe(_,"RID",m),Oe(_,"AID",u.T),Ya(u,_),u.m&&u.o&&Hp(_,u.m,u.o),m=new Hr(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=ww(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),$p(u.h,m),Vp(m,_,p)}function Ya(u,p){u.H&&O(u.H,function(m,_){Oe(p,_,m)}),u.l&&ow({},function(m,_){Oe(p,_,m)})}function ww(u,p,m){m=Math.min(u.i.length,m);var _=u.l?f(u.l.Na,u.l,u):null;e:{var R=u.i;let M=-1;for(;;){let j=["count="+m];M==-1?0<m?(M=R[0].g,j.push("ofs="+M)):M=0:j.push("ofs="+M);let Se=!0;for(let mt=0;mt<m;mt++){let fe=R[mt].g,Ct=R[mt].map;if(fe-=M,0>fe)M=Math.max(0,R[mt].g-100),Se=!1;else try{Xk(Ct,j,"req"+fe+"_")}catch{_&&_(Ct)}}if(Se){_=j.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,_}function Dw(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Ce||or(),gt||(Ce(),gt=!0),Xe.add(p,u),u.v=0}}function Wp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ja(f(u.Fa,u),Sw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Tw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ja(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),vu(this),Tw(this))};function qp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Tw(u){u.g=new Hr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=lr(u.qa);Oe(p,"RID","rpc"),Oe(p,"SID",u.K),Oe(p,"AID",u.T),Oe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Oe(p,"TO",u.ja),Oe(p,"TYPE","xmlhttp"),Ya(u,p),u.m&&u.o&&Hp(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=gu(lr(p)),m.m=null,m.P=!0,ZI(m,u)}t.Za=function(){this.C!=null&&(this.C=null,vu(this),Wp(this),Ft(19))};function Eu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Cw(u,p){var m=null;if(u.g==p){Eu(u),qp(u),u.g=null;var _=2}else if(Up(u.h,p))m=p.D,iw(u.h,p),_=1;else return;if(u.G!=0){if(p.o)if(_==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var R=u.B;_=lu(),Lt(_,new KI(_,m)),_u(u)}else Dw(u);else if(R=p.s,R==3||R==0&&0<p.X||!(_==1&&tP(u,p)||_==2&&Wp(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),R){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function Sw(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function Oi(u,p){if(u.j.info("Error code "+p),p==2){var m=f(u.fb,u),_=u.Xa;let R=!_;_=new Pi(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||fu(_,"https"),gu(_),R?Kk(_.toString(),m):Yk(_.toString(),m)}else Ft(2);u.G=0,u.l&&u.l.sa(p),Aw(u),bw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function Aw(u){if(u.G=0,u.ka=[],u.l){let p=sw(u.h);(p.length!=0||u.i.length!=0)&&(E(u.ka,p),E(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function xw(u,p,m){var _=m instanceof Pi?lr(m):new Pi(m);if(_.g!="")p&&(_.g=p+"."+_.g),pu(_,_.s);else{var R=a.location;_=R.protocol,p=p?p+"."+R.hostname:R.hostname,R=+R.port;var M=new Pi(null);_&&fu(M,_),p&&(M.g=p),R&&pu(M,R),m&&(M.l=m),_=M}return m=u.D,p=u.ya,m&&p&&Oe(_,m,p),Oe(_,"VER",u.la),Ya(u,_),_}function Rw(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Be(new Wa({eb:m})):new Be(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mw(){}t=Mw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bu(){}bu.prototype.g=function(u,p){return new Yt(u,p)};function Yt(u,p){Tt.call(this),this.g=new Ew(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!x(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new eo(this)}y(Yt,Tt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){zp(this.g)},Yt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Np(u),u=m);p.i.push(new Vk(p.Ya++,u)),p.G==3&&_u(p)},Yt.prototype.N=function(){this.g.l=null,delete this.j,zp(this.g),delete this.g,Yt.aa.N.call(this)};function Nw(u){Pp.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(let m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}y(Nw,Pp);function kw(){Op.call(this),this.status=1}y(kw,Op);function eo(u){this.g=u}y(eo,Mw),eo.prototype.ua=function(){Lt(this.g,"a")},eo.prototype.ta=function(u){Lt(this.g,new Nw(u))},eo.prototype.sa=function(u){Lt(this.g,new kw)},eo.prototype.ra=function(){Lt(this.g,"b")},bu.prototype.createWebChannel=bu.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,R_=Mr.createWebChannelTransport=function(){return new bu},x_=Mr.getStatEventTarget=function(){return lu()},A_=Mr.Event=Ni,of=Mr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uu.NO_ERROR=0,uu.TIMEOUT=8,uu.HTTP_ERROR=6,_l=Mr.ErrorCode=uu,YI.COMPLETE="complete",S_=Mr.EventType=YI,zI.EventType=Fa,Fa.OPEN="a",Fa.CLOSE="b",Fa.ERROR="c",Fa.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Zo=Mr.WebChannel=zI,dH=Mr.FetchXmlHttpFactory=Wa,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,C_=Mr.XhrIo=Be}).apply(typeof sf<"u"?sf:typeof self<"u"?self:typeof window<"u"?window:{});var ox="@firebase/firestore",ax="4.8.0";var ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");var _a="11.10.0";var Ps=new Kn("@firebase/firestore");function Jo(){return Ps.logLevel}function U(t,...e){if(Ps.logLevel<=ie.DEBUG){let n=e.map(rb);Ps.debug(`Firestore (${_a}): ${t}`,...n)}}function Os(t,...e){if(Ps.logLevel<=ie.ERROR){let n=e.map(rb);Ps.error(`Firestore (${_a}): ${t}`,...n)}}function oa(t,...e){if(Ps.logLevel<=ie.WARN){let n=e.map(rb);Ps.warn(`Firestore (${_a}): ${t}`,...n)}}function rb(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function J(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,$x(t,r,n)}function $x(t,e,n){let r=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Os(r),new Error(r)}function ze(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||$x(e,i,r)}function Ne(t,e){return t}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ff=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},P_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}},O_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},L_=class{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new ff(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new ft(e)}},F_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},V_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new F_(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},pf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},j_=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);let r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function hH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function fH(){return new TextEncoder}var Cl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=hH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}};function de(t,e){return t<e?-1:t>e?1:0}function B_(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return de(r,i);{let s=fH(),o=pH(s.encode(cx(t,n)),s.encode(cx(e,n)));return o!==0?o:de(r,i)}}n+=r>65535?2:1}return de(t.length,e.length)}function cx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function pH(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return de(t[n],e[n]);return de(t.length,e.length)}function aa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var lx="__name__",gf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&J(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=t.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return de(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):B_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rf.fromString(e.substring(4,e.length-2))}},Qe=class t extends gf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},gH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tn=class t extends gf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return gH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lx}static keyField(){return new t([lx])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ee=class t{constructor(e){this.path=e}static fromPath(e){return new t(Qe.fromString(e))}static fromName(e){return new t(Qe.fromString(e).popFirst(5))}static empty(){return new t(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Qe(e.slice()))}};function Hx(t,e,n){if(!n)throw new H(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mH(t,e,n,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ux(t){if(!ee.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dx(t){if(ee.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ib(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J(12329,{type:typeof t})}function Wx(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ib(t);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function it(t,e){let n={typeString:t};return e&&(n.value=e),n}function Pl(t,e){if(!zx(t))throw new H(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new H(F.INVALID_ARGUMENT,n);return!0}var hx=-62135596800,fx=1e6,ct=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fx);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hx)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fx}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pl(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-hx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:it("string",ct._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};var He=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new ct(0,0))}static max(){return new t(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Sl=-1,U_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};U_.UNKNOWN_ID=-1;function yH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Ls(i,ee.empty(),e)}function vH(t){return new Ls(t.readTime,t.key,Sl)}var Ls=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(He.min(),ee.empty(),Sl)}static max(){return new t(He.max(),ee.empty(),Sl)}};function _H(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}var EH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function sb(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==EH)throw t;U("LocalStore","Unexpectedly lost primary lease")}var V=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(d=>{o[l]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function bH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ol(t){return t.name==="IndexedDbTransactionError"}var qx=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),ob=-1;function ab(t){return t==null}function Al(t){return t===0&&1/t==-1/0}function IH(t){return typeof t=="number"&&Number.isInteger(t)&&!Al(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Gx="";function wH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=px(e)),e=DH(t.get(n),e);return px(e)}function DH(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case Gx:n+="";break;default:n+=s}}return n}function px(t){return t+Gx+""}var TH="remoteDocuments",Kx="owner";var Yx="mutationQueues";var Qx="mutations";var Xx="documentMutations",CH="remoteDocumentsV14";var Zx="remoteDocumentGlobal";var Jx="targets";var eR="targetDocuments";var tR="targetGlobal",nR="collectionParents";var rR="clientMetadata";var iR="bundles";var sR="namedQueries";var SH="indexConfiguration";var AH="indexState";var xH="indexEntries";var oR="documentOverlays";var RH="globals";var MH=[Yx,Qx,Xx,TH,Jx,Kx,tR,eR,rR,Zx,nR,iR,sR],Vce=[...MH,oR],NH=[Yx,Qx,Xx,CH,Jx,Kx,tR,eR,rR,Zx,nR,iR,sR,oR],kH=NH,PH=[...kH,SH,AH,xH];var jce=[...PH,RH];function gx(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ea(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var rn=class t{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ta(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ta(this.root,e,this.comparator,!1)}getReverseIterator(){return new ta(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ta(this.root,e,this.comparator,!0)}},ta=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}};Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var kt=class t{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mf(this.data.getIterator())}getIteratorFrom(e){return new mf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},mf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Xn=class t{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new t([])}unionWith(e){let n=new kt(tn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var H_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var kr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new H_("Invalid base64 string: "+s):s}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};kr.EMPTY_BYTE_STRING=new kr("");var OH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(ze(!!t,39018),typeof t=="string"){let e=0,n=OH.exec(t);if(ze(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?kr.fromBase64String(t):kr.fromUint8Array(t)}var cR="server_timestamp",lR="__type__",uR="__previous_value__",dR="__local_write_time__";function cb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lR])===null||n===void 0?void 0:n.stringValue)===cR}function lb(t){let e=t.mapValue.fields[uR];return cb(e)?lb(e):e}function yf(t){let e=yi(t.mapValue.fields[dR].timestampValue);return new ct(e.seconds,e.nanos)}var z_=class{constructor(e,n,r,i,s,o,a,c,l,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=d}},vf="(default)",W_=class t{constructor(e,n){this.projectId=e,this.database=n||vf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===vf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ub="__type__",hR="__max__",af={mapValue:{fields:{__type__:{stringValue:hR}}}},db="__vector__",xl="value";function Vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cb(t)?4:pR(t)?9007199254740991:fR(t)?10:11:J(28295,{value:t})}function Jn(t,e){if(t===e)return!0;let n=Vs(t);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yf(t).isEqual(yf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=yi(i.timestampValue),a=yi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Fs(i.bytesValue).isEqual(Fs(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return rt(i.geoPointValue.latitude)===rt(s.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return rt(i.integerValue)===rt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=rt(i.doubleValue),a=rt(s.doubleValue);return o===a?Al(o)===Al(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return aa(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return(function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(gx(o)!==gx(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Jn(o[c],a[c])))return!1;return!0})(t,e);default:return J(52216,{left:t})}}function Rl(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function ca(t,e){if(t===e)return 0;let n=Vs(t),r=Vs(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return(function(s,o){let a=rt(s.integerValue||s.doubleValue),c=rt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return mx(t.timestampValue,e.timestampValue);case 4:return mx(yf(t),yf(e));case 5:return B_(t.stringValue,e.stringValue);case 6:return(function(s,o){let a=Fs(s),c=Fs(o);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=de(a[l],c[l]);if(d!==0)return d}return de(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){let a=de(rt(s.latitude),rt(o.latitude));return a!==0?a:de(rt(s.longitude),rt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return yx(t.arrayValue,e.arrayValue);case 10:return(function(s,o){var a,c,l,d;let h=s.fields||{},f=o.fields||{},g=(a=h[xl])===null||a===void 0?void 0:a.arrayValue,y=(c=f[xl])===null||c===void 0?void 0:c.arrayValue,v=de(((l=g?.values)===null||l===void 0?void 0:l.length)||0,((d=y?.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:yx(g,y)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===af.mapValue&&o===af.mapValue)return 0;if(s===af.mapValue)return 1;if(o===af.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){let f=B_(c[h],d[h]);if(f!==0)return f;let g=ca(a[c[h]],l[d[h]]);if(g!==0)return g}return de(c.length,d.length)})(t.mapValue,e.mapValue);default:throw J(23264,{le:n})}}function mx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);let n=yi(t),r=yi(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function yx(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=ca(n[i],r[i]);if(s)return s}return de(n.length,r.length)}function la(t){return q_(t)}function q_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=yi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Fs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=q_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${q_(n.fields[o])}`;return i+"}"})(t.mapValue):J(61005,{value:t})}function uf(t){switch(Vs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=lb(t);return e?16+uf(e):16;case 5:return 2*t.stringValue.length;case 6:return Fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,s)=>i+uf(s),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ea(r.fields,(s,o)=>{i+=s.length+uf(o)}),i})(t.mapValue);default:throw J(13486,{value:t})}}function G_(t){return!!t&&"integerValue"in t}function hb(t){return!!t&&"arrayValue"in t}function df(t){return!!t&&"mapValue"in t}function fR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ub])===null||n===void 0?void 0:n.stringValue)===db}function bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ea(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bl(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hR}var Uce={mapValue:{fields:{[ub]:{stringValue:db},[xl]:{arrayValue:{}}}}};var Qn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(n)}setAll(e){let n=tn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=bl(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];df(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ea(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(bl(this.value))}};function gR(t){let e=[];return Ea(t.fields,(n,r)=>{let i=new tn([n]);if(df(r)){let s=gR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Xn(e)}var ua=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,He.min(),He.min(),He.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,He.min(),He.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,He.min(),He.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var da=class{constructor(e,n){this.position=e,this.inclusive=n}};function vx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=ca(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _x(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}var ha=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function LH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var _f=class{},pt=class t extends _f{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Y_(e,n,r):n==="array-contains"?new Z_(e,r):n==="in"?new J_(e,r):n==="not-in"?new eE(e,r):n==="array-contains-any"?new tE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q_(e,r):new X_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ca(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},vi=class t extends _f{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return mR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function mR(t){return t.op==="and"}function yR(t){return FH(t)&&mR(t)}function FH(t){for(let e of t.filters)if(e instanceof vi)return!1;return!0}function K_(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+la(t.value);if(yR(t))return t.filters.map(e=>K_(e)).join(",");{let e=t.filters.map(n=>K_(n)).join(",");return`${t.op}(${e})`}}function vR(t,e){return t instanceof pt?(function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)})(t,e):t instanceof vi?(function(r,i){return i instanceof vi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&vR(o,i.filters[a]),!0):!1})(t,e):void J(19439)}function _R(t){return t instanceof pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`})(t):t instanceof vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(_R).join(" ,")+"}"})(t):"Filter"}var Y_=class extends pt{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){let n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}},Q_=class extends pt{constructor(e,n){super(e,"in",n),this.keys=ER("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},X_=class extends pt{constructor(e,n){super(e,"not-in",n),this.keys=ER("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ER(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}var Z_=class extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return hb(n)&&Rl(n.arrayValue,this.value)}},J_=class extends pt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}},eE=class extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Rl(this.value.arrayValue,n)}},tE=class extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!hb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}};var nE=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}};function Ex(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nE(t,e,n,r,i,s,o)}function fb(t){let e=Ne(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>K_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(s){return s.field.canonicalString()+s.dir})(r)).join(","),ab(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.Pe=n}return e.Pe}function pb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_x(t.startAt,e.startAt)&&_x(t.endAt,e.endAt)}var fa=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function VH(t,e,n,r,i,s,o,a){return new fa(t,e,n,r,i,s,o,a)}function jH(t){return new fa(t)}function bx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BH(t){return t.collectionGroup!==null}function Il(t){let e=Ne(t);if(e.Te===null){e.Te=[];let n=new Set;for(let s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(tn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new ha(s,r))}),n.has(tn.keyField().canonicalString())||e.Te.push(new ha(tn.keyField(),r))}return e.Te}function xs(t){let e=Ne(t);return e.Ie||(e.Ie=UH(e,Il(t))),e.Ie}function UH(t,e){if(t.limitType==="F")return Ex(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ha(i.field,s)});let n=t.endAt?new da(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new da(t.startAt.position,t.startAt.inclusive):null;return Ex(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rE(t,e,n){return new fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bR(t,e){return pb(xs(t),xs(e))&&t.limitType===e.limitType}function IR(t){return`${fb(xs(t))}|lt:${t.limitType}`}function El(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_R(i)).join(", ")}]`),ab(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>la(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>la(i)).join(",")),`Target(${r})`})(xs(t))}; limitType=${t.limitType})`}function gb(t,e){return e.isFoundDocument()&&(function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(let s of Il(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,c){let l=vx(o,a,c);return o.inclusive?l<=0:l<0})(r.startAt,Il(r),i)||r.endAt&&!(function(o,a,c){let l=vx(o,a,c);return o.inclusive?l>=0:l>0})(r.endAt,Il(r),i))})(t,e)}function $H(t){return(e,n)=>{let r=!1;for(let i of Il(t)){let s=HH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HH(t,e,n){let r=t.field.isKeyField()?ee.comparator(e.key,n.key):(function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?ca(c,l):J(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J(19790,{direction:t.dir})}}var Pr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return aR(this.inner)}size(){return this.innerSize}};var zH=new rn(ee.comparator);function Ef(){return zH}var wR=new rn(ee.comparator);function cf(...t){let e=wR;for(let n of t)e=e.insert(n.key,n);return e}function DR(t){let e=wR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function As(){return wl()}function TR(){return wl()}function wl(){return new Pr(t=>t.toString(),(t,e)=>t.isEqual(e))}var WH=new rn(ee.comparator),qH=new kt(ee.comparator);function Nt(...t){let e=qH;for(let n of t)e=e.add(n);return e}var GH=new kt(de);function KH(){return GH}function mb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Al(e)?"-0":e}}function CR(t){return{integerValue:""+t}}function YH(t,e){return IH(e)?CR(e):mb(t,e)}var pa=class{constructor(){this._=void 0}};function QH(t,e,n){return t instanceof ga?(function(i,s){let o={fields:{[lR]:{stringValue:cR},[dR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cb(s)&&(s=lb(s)),s&&(o.fields[uR]=s),{mapValue:o}})(n,e):t instanceof js?AR(t,e):t instanceof Bs?xR(t,e):(function(i,s){let o=SR(i,s),a=Ix(o)+Ix(i.Ee);return G_(o)&&G_(i.Ee)?CR(a):mb(i.serializer,a)})(t,e)}function XH(t,e,n){return t instanceof js?AR(t,e):t instanceof Bs?xR(t,e):n}function SR(t,e){return t instanceof ma?(function(r){return G_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}var ga=class extends pa{},js=class extends pa{constructor(e){super(),this.elements=e}};function AR(t,e){let n=RR(e);for(let r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Bs=class extends pa{constructor(e){super(),this.elements=e}};function xR(t,e){let n=RR(e);for(let r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}var ma=class extends pa{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function Ix(t){return rt(t.integerValue||t.doubleValue)}function RR(t){return hb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ZH(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof js&&i instanceof js||r instanceof Bs&&i instanceof Bs?aa(r.elements,i.elements,Jn):r instanceof ma&&i instanceof ma?Jn(r.Ee,i.Ee):r instanceof ga&&i instanceof ga})(t.transform,e.transform)}var iE=class{constructor(e,n){this.version=e,this.transformResults=n}},Rs=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function hf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ya=class{};function MR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bf(t.key,Rs.none()):new Us(t.key,t.data,Rs.none());{let n=t.data,r=Qn.empty(),i=new kt(tn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Or(t.key,r,new Xn(i.toArray()),Rs.none())}}function JH(t,e,n){t instanceof Us?(function(i,s,o){let a=i.value.clone(),c=Dx(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Or?(function(i,s,o){if(!hf(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=Dx(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(NR(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Dl(t,e,n,r){return t instanceof Us?(function(s,o,a,c){if(!hf(s.precondition,o))return a;let l=s.value.clone(),d=Tx(s.fieldTransforms,c,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof Or?(function(s,o,a,c){if(!hf(s.precondition,o))return a;let l=Tx(s.fieldTransforms,c,o),d=o.data;return d.setAll(NR(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))})(t,e,n,r):(function(s,o,a){return hf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function ez(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=SR(r.transform,i||null);s!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,s))}return n||null}function wx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&aa(r,i,(s,o)=>ZH(s,o))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Us=class extends ya{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Or=class extends ya{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function NR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Dx(t,e,n){let r=new Map;ze(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,XH(o,a,n[i]))}return r}function Tx(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,QH(s,o,e))}return r}var bf=class extends ya{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},sE=class extends ya{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var oE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&JH(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dl(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=TR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=MR(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Nt())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(n,r)=>wx(n,r))&&aa(this.baseMutations,e.baseMutations,(n,r)=>wx(n,r))}},aE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return WH})(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var cE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var tt,ue;function tz(t){switch(t){case F.OK:return J(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return J(15467,{code:t})}}function nz(t){if(t===void 0)return Os("GRPC error has no .code"),F.UNKNOWN;switch(t){case tt.OK:return F.OK;case tt.CANCELLED:return F.CANCELLED;case tt.UNKNOWN:return F.UNKNOWN;case tt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case tt.INTERNAL:return F.INTERNAL;case tt.UNAVAILABLE:return F.UNAVAILABLE;case tt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case tt.NOT_FOUND:return F.NOT_FOUND;case tt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case tt.ABORTED:return F.ABORTED;case tt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case tt.DATA_LOSS:return F.DATA_LOSS;default:return J(39323,{code:t})}}(ue=tt||(tt={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";var $ce=new rf([4294967295,4294967295],0);var lE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function uE(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iz(t,e){return uE(t,e.toTimestamp())}function ra(t){return ze(!!t,49232),He.fromTimestamp((function(n){let r=yi(n);return new ct(r.seconds,r.nanos)})(t))}function kR(t,e){return dE(t,e).canonicalString()}function dE(t,e){let n=(function(i){return new Qe(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function sz(t){let e=Qe.fromString(t);return ze(fz(e),10190,{key:e.toString()}),e}function hE(t,e){return kR(t.databaseId,e.path)}function oz(t){let e=sz(t);return e.length===4?Qe.emptyPath():cz(e)}function az(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cz(t){return ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Cx(t,e,n){return{name:hE(t,e),fields:n.value.mapValue.fields}}function lz(t,e){let n;if(e instanceof Us)n={update:Cx(t,e.key,e.value)};else if(e instanceof bf)n={delete:hE(t,e.key)};else if(e instanceof Or)n={update:Cx(t,e.key,e.data),updateMask:hz(e.fieldMask)};else{if(!(e instanceof sE))return J(16599,{Rt:e.type});n={verify:hE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(s,o){let a=o.transform;if(a instanceof ga)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof js)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ma)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw J(20930,{transform:o.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:iz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J(27497)})(t,e.precondition)),n}function uz(t,e){return t&&t.length>0?(ze(e!==void 0,14353),t.map(n=>(function(i,s){let o=i.updateTime?ra(i.updateTime):ra(s);return o.isEqual(He.min())&&(o=ra(s)),new iE(o,i.transformResults||[])})(n,e))):[]}function dz(t){let e=oz(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ze(r===1,65062);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=(function(h){let f=PR(h);return f instanceof vi&&yR(f)?f.getFilters():[f]})(n.where));let o=[];n.orderBy&&(o=(function(h){return h.map(f=>(function(y){return new ha(ea(y.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(f))})(n.orderBy));let a=null;n.limit&&(a=(function(h){let f;return f=typeof h=="object"?h.value:h,ab(f)?null:f})(n.limit));let c=null;n.startAt&&(c=(function(h){let f=!!h.before,g=h.values||[];return new da(g,f)})(n.startAt));let l=null;return n.endAt&&(l=(function(h){let f=!h.before,g=h.values||[];return new da(g,f)})(n.endAt)),VH(e,i,o,s,a,"F",c,l)}function PR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ea(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ea(n.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ea(n.unaryFilter.field);return pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ea(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}})(t):t.fieldFilter!==void 0?(function(n){return pt.create(ea(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return vi.create(n.compositeFilter.filters.map(r=>PR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J(1026)}})(n.compositeFilter.op))})(t):J(30097,{filter:t})}function ea(t){return tn.fromServerFormat(t.fieldPath)}function hz(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var fE=class{constructor(e){this.gt=e}};function pz(t){let e=dz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rE(e,e.limit,"L"):e}var If=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(rt(e.integerValue));else if("doubleValue"in e){let r=rt(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Al(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=yi(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Fs(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?pR(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):fR(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):J(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let s=e.fields||{};this.Ct(n,53);let o=xl,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(rt(a)),this.xt(o,n),this.Dt(s[o],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),ee.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};If.Ut=new If;var pE=class{constructor(){this.Dn=new gE}addToCollectionParentIndex(e,n){return this.Dn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Ls.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}},gE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(Qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(Qe.comparator)).toArray()}};var Hce=new Uint8Array(0);var Sx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OR=41943040,mn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(OR,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);var Ml=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var Ax="LruGarbageCollector",gz=1048576;function xx([t,e],[n,r]){let i=de(t,n);return i===0?de(e,r):i}var mE=class{constructor(e){this.Tr=e,this.buffer=new kt(xx),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();xx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},yE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){U(Ax,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ol(n)?U(Ax,"Ignoring IndexedDB error during garbage collection: ",n):await sb(n)}await this.Rr(3e5)})}},vE=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(qx.ue);let r=new mE(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(Sx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sx):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,c,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),Jo()<=ie.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}};function mz(t,e){return new vE(t,e)}var _E=class{constructor(){this.changes=new Pr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ua.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var EE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var bE=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Dl(r.mutation,i,Xn.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Nt()){let i=As();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=cf();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=As();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Nt()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ef(),o=wl(),a=(function(){return wl()})();return n.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof Or)?s=s.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),Dl(d.mutation,l,d.mutation.getFieldMask(),ct.now())):o.set(l.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,d)=>o.set(l,d)),n.forEach((l,d)=>{var h;return a.set(l,new EE(d,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let r=wl(),i=new rn((o,a)=>o-a),s=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let d=r.get(c)||Xn.empty();d=a.applyToLocalView(l,d),r.set(c,d);let h=(i.get(a.batchId)||Nt()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,h=TR();d.forEach(f=>{if(!s.has(f)){let g=MR(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BH(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(As()),a=Sl,c=s;return o.next(l=>V.forEach(l,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Nt())).next(d=>({batchId:a,changes:DR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=cf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=cf();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,c=>{let l=(function(h,f){return new fa(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{let d=l.getKey();o.get(d)===null&&(o=o.insert(d,ua.newInvalidDocument(d)))});let a=cf();return o.forEach((c,l)=>{let d=s.get(c);d!==void 0&&Dl(d.mutation,l,Xn.empty(),ct.now()),gb(n,l)&&(a=a.insert(c,l))}),a})}};var IE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return V.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ra(i.createTime)}})(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:pz(i.bundledQuery),readTime:ra(i.readTime)}})(n)),V.resolve()}};var wE=class{constructor(){this.overlays=new rn(ee.comparator),this.kr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){let r=As();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){let i=As(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new rn((l,d)=>l-d),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=s.get(l.largestBatchId);d===null&&(d=As(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=As(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return V.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cE(n,r));let s=this.kr.get(n);s===void 0&&(s=Nt(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}};var DE=class{constructor(){this.sessionToken=kr.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}};var Nl=class{constructor(){this.qr=new kt(nt.Qr),this.$r=new kt(nt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new nt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new nt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new ee(new Qe([])),r=new nt(n,e),i=new nt(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new ee(new Qe([])),r=new nt(n,e),i=new nt(n,e+1),s=Nt();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new nt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},nt=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ee.comparator(e.key,n.key)||de(e.Hr,n.Hr)}static Ur(e,n){return de(e.Hr,n.Hr)||ee.comparator(e.key,n.key)}};var TE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new kt(nt.Qr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new oE(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.Yr=this.Yr.add(new nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?ob:this.er-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{let a=this.Zr(o.Hr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(de);return n.forEach(i=>{let s=new nt(i,0),o=new nt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),V.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;ee.isDocumentKey(s)||(s=s.child(""));let o=new nt(new ee(s),0),a=new kt(de);return this.Yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Hr)),!0)},o),V.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return V.forEach(n.mutations,i=>{let s=new nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new nt(n,0),i=this.Yr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var CE=class{constructor(e){this.ni=e,this.docs=(function(){return new rn(ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():ua.newInvalidDocument(n))}getEntries(e,n){let r=Ef();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ua.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ef(),o=n.path,a=new ee(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||_H(vH(d),r)<=0||(i.has(d.key)||gb(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J(9500)}ri(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SE(this)}getSize(e){return V.resolve(this.size)}},SE=class extends _E{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var AE=class{constructor(e){this.persistence=e,this.ii=new Pr(n=>fb(n),pb),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.si=0,this.oi=new Nl,this.targetCount=0,this._i=Ml.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),V.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.hr(n),V.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),V.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.oi.containsKey(n))}};var wf=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new qx(0),this.ci=!1,this.ci=!0,this.li=new DE,this.referenceDelegate=e(this),this.hi=new AE(this),this.indexManager=new pE,this.remoteDocumentCache=(function(i){return new CE(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new fE(n),this.Ti=new IE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new TE(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new xE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return V.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},xE=class extends $_{constructor(e){super(),this.currentSequenceNumber=e}},RE=class t{constructor(e){this.persistence=e,this.Ai=new Nl,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw J(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),V.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.mi,r=>{let i=ee.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,He.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return V.or([()=>V.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Df=class t{constructor(e,n){this.persistence=e,this.gi=new Pr(r=>wH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=mz(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return V.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?V.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,He.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),V.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uf(e.data.value)),n}Sr(e,n,r){return V.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var ME=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Nt(),i=Nt();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var NE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var kE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return cA()?8:bH(en())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new NE;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Jo()<=ie.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",El(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),V.resolve()):(Jo()<=ie.DEBUG&&U("QueryEngine","Query:",El(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Jo()<=ie.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",El(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xs(n))):V.resolve())}ps(e,n){if(bx(n))return V.resolve(null);let r=xs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rE(n,null,"F"),r=xs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Nt(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.bs(n,a);return this.Ds(n,l,o,c.readTime)?this.ps(e,rE(n,null,"F")):this.vs(e,l,n,c)}))})))}ys(e,n,r,i){return bx(n)||i.isEqual(He.min())?V.resolve(null):this.gs.getDocuments(e,r).next(s=>{let o=this.bs(n,s);return this.Ds(n,o,r,i)?V.resolve(null):(Jo()<=ie.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),El(n)),this.vs(e,o,n,yH(i,Sl)).next(a=>a))})}bs(e,n){let r=new kt($H(e));return n.forEach((i,s)=>{gb(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return Jo()<=ie.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",El(n)),this.gs.getDocumentsMatchingQuery(e,n,Ls.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var yz="LocalStore";var PE=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new rn(de),this.Ms=new Pr(s=>fb(s),pb),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function vz(t,e,n,r){return new PE(t,e,n,r)}async function LR(t,e){let n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Nt();for(let l of i){o.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of s){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(l=>({Bs:l,removedBatchIds:o,addedBatchIds:a}))})})}function _z(t,e){let n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,l,d){let h=l.batch,f=h.keys(),g=V.resolve();return f.forEach(y=>{g=g.next(()=>d.getEntry(c,y)).next(v=>{let E=l.docVersions.get(y);ze(E!==null,48541),v.version.compareTo(E)<0&&(h.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,h))})(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=Nt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ez(t){let e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function bz(t,e){let n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ob),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Tf=class{constructor(){this.activeTargetIds=KH()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var OE=class{constructor(){this.Fo=new Tf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Tf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var LE=class{xo(e){}shutdown(){}};var Rx="ConnectivityMonitor",Cf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){U(Rx,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){U(Rx,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var lf=null;function FE(){return lf===null?lf=(function(){return 268435456+Math.round(2147483648*Math.random())})():lf++,"0x"+lf.toString(16)}var M_="RestConnection",Iz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},VE=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===vf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){let o=FE(),a=this.Go(e,n.toUriEncodedString());U(M_,`Sending RPC '${e}' ${o}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,s);let{host:l}=new URL(a),d=vs(l);return this.jo(e,a,c,r,d).then(h=>(U(M_,`Received RPC '${e}' ${o}: `,h),h),h=>{throw oa(M_,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_a})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){let r=Iz[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var jE=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Mt="WebChannelConnection",BE=class extends VE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){let o=FE();return new Promise((a,c)=>{let l=new C_;l.setWithCredentials(!0),l.listenOnce(S_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _l.NO_ERROR:let h=l.getResponseJson();U(Mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case _l.TIMEOUT:U(Mt,`RPC '${e}' ${o} timed out`),c(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case _l.HTTP_ERROR:let f=l.getStatus();if(U(Mt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let v=(function(S){let x=S.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(x)>=0?x:F.UNKNOWN})(y.status);c(new H(v,y.message))}else c(new H(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new H(F.UNAVAILABLE,"Connection failed."));break;default:J(9055,{c_:e,streamId:o,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{U(Mt,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);U(Mt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",d,r,15)})}P_(e,n,r){let i=FE(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=R_(),a=x_(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let d=s.join("");U(Mt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let h=o.createWebChannel(d,c);this.T_(h);let f=!1,g=!1,y=new jE({Ho:E=>{g?U(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(U(Mt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),U(Mt,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},Yo:()=>h.close()}),v=(E,S,x)=>{E.listen(S,N=>{try{x(N)}catch(P){setTimeout(()=>{throw P},0)}})};return v(h,Zo.EventType.OPEN,()=>{g||(U(Mt,`RPC '${e}' stream ${i} transport opened.`),y.s_())}),v(h,Zo.EventType.CLOSE,()=>{g||(g=!0,U(Mt,`RPC '${e}' stream ${i} transport closed`),y.__(),this.I_(h))}),v(h,Zo.EventType.ERROR,E=>{g||(g=!0,oa(Mt,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),y.__(new H(F.UNAVAILABLE,"The operation could not be completed")))}),v(h,Zo.EventType.MESSAGE,E=>{var S;if(!g){let x=E.data[0];ze(!!x,16349);let N=x,P=N?.error||((S=N[0])===null||S===void 0?void 0:S.error);if(P){U(Mt,`RPC '${e}' stream ${i} received error:`,P);let k=P.status,O=(function(I){let T=tt[I];if(T!==void 0)return nz(T)})(k),w=P.message;O===void 0&&(O=F.INTERNAL,w="Unknown error status: "+k+" with message "+P.message),g=!0,y.__(new H(O,w)),h.close()}else U(Mt,`RPC '${e}' stream ${i} received:`,x),y.a_(x)}}),v(a,A_.STAT_EVENT,E=>{E.stat===of.PROXY?U(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===of.NOPROXY&&U(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.o_()},0),y}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function N_(){return typeof document<"u"?document:null}function Pf(t){return new lE(t,!0)}var Sf=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Mx="PersistentStream",UE=class{constructor(e,n,r,i,s,o,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Sf(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Os(n.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return U(Mx,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(U(Mx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var $E=class extends UE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=uz(e.writeResults,e.commitTime),r=ra(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=az(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>lz(this.serializer,r))};this.k_(n)}};var HE=class{},zE=class extends HE{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,dE(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(F.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,dE(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},WE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Os(n),this._a=!1):U("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ll="RemoteStore",qE=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Vl(this)&&(U(Ll,"Restarting streams for network reachability change."),await(async function(c){let l=Ne(c);l.Ia.add(4),await Fl(l),l.Aa.set("Unknown"),l.Ia.delete(4),await Of(l)})(this))})}),this.Aa=new WE(r,i)}};async function Of(t){if(Vl(t))for(let e of t.da)await e(!0)}async function Fl(t){for(let e of t.da)await e(!1)}function Vl(t){return Ne(t).Ia.size===0}async function FR(t,e,n){if(!Ol(e))throw e;t.Ia.add(1),await Fl(t),t.Aa.set("Offline"),n||(n=()=>Ez(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U(Ll,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Of(t)})}function VR(t,e){return e().catch(n=>FR(t,n,e))}async function Lf(t){let e=Ne(t),n=_i(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ob;for(;wz(e);)try{let i=await bz(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Dz(e,i)}catch(i){await FR(e,i)}jR(e)&&BR(e)}function wz(t){return Vl(t)&&t.Pa.length<10}function Dz(t,e){t.Pa.push(e);let n=_i(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function jR(t){return Vl(t)&&!_i(t).M_()&&t.Pa.length>0}function BR(t){_i(t).start()}async function Tz(t){_i(t).na()}async function Cz(t){let e=_i(t);for(let n of t.Pa)e.X_(n.mutations)}async function Sz(t,e,n){let r=t.Pa.shift(),i=aE.from(r,e,n);await VR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Lf(t)}async function Az(t,e){e&&_i(t).Z_&&await(async function(r,i){if((function(o){return tz(o)&&o!==F.ABORTED})(i.code)){let s=r.Pa.shift();_i(r).N_(),await VR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Lf(r)}})(t,e),jR(t)&&BR(t)}async function Nx(t,e){let n=Ne(t);n.asyncQueue.verifyOperationInProgress(),U(Ll,"RemoteStore received new credentials");let r=Vl(n);n.Ia.add(3),await Fl(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Of(n)}async function xz(t,e){let n=Ne(t);e?(n.Ia.delete(2),await Of(n)):e||(n.Ia.add(2),await Fl(n),n.Aa.set("Unknown"))}function _i(t){return t.ma||(t.ma=(function(n,r,i){let s=Ne(n);return s.ia(),new $E(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Tz.bind(null,t),n_:Az.bind(null,t),ea:Cz.bind(null,t),ta:Sz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Lf(t)):(await t.ma.stop(),t.Pa.length>0&&(U(Ll,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var GE=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function UR(t,e){if(Os("AsyncQueue",`${e}: ${t}`),Ol(t))return new H(F.UNAVAILABLE,`${e}: ${t}`);throw t}var KE=class{constructor(){this.queries=kx(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=Ne(n),s=i.queries;i.queries=kx(),s.forEach((o,a)=>{for(let c of a.wa)c.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}};function kx(){return new Pr(t=>IR(t),bR)}function Rz(t){t.Da.forEach(e=>{e.next()})}var Px,Ox;(Ox=Px||(Px={})).Fa="default",Ox.Cache="cache";var Mz="SyncEngine";var YE=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Pr(a=>IR(a),bR),this.Tu=new Map,this.Iu=new Set,this.du=new rn(ee.comparator),this.Eu=new Map,this.Au=new Nl,this.Ru={},this.Vu=new Map,this.mu=Ml.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function Nz(t,e,n){let r=Lz(t);try{let i=await(function(o,a){let c=Ne(o),l=ct.now(),d=a.reduce((g,y)=>g.add(y.key),Nt()),h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=Ef(),v=Nt();return c.Os.getEntries(g,d).next(E=>{y=E,y.forEach((S,x)=>{x.isValidDocument()||(v=v.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,y)).next(E=>{h=E;let S=[];for(let x of a){let N=ez(x,h.get(x.key).overlayedDocument);N!=null&&S.push(new Or(x.key,N,gR(N.value.mapValue),Rs.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,S,a)}).next(E=>{f=E;let S=E.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(g,E.batchId,S)})}).then(()=>({batchId:f.batchId,changes:DR(h)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,c){let l=o.Ru[o.currentUser.toKey()];l||(l=new rn(de)),l=l.insert(a,c),o.Ru[o.currentUser.toKey()]=l})(r,i.batchId,n),await Ff(r,i.changes),await Lf(r.remoteStore)}catch(i){let s=UR(i,"Failed to persist write");n.reject(s)}}function Lx(t,e,n){let r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((s,o)=>{let a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(o,a){let c=Ne(o);c.onlineState=a;let l=!1;c.queries.forEach((d,h)=>{for(let f of h.wa)f.va(a)&&(l=!0)}),l&&Rz(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kz(t,e){let n=Ne(t),r=e.batch.batchId;try{let i=await _z(n.localStore,e);HR(n,r,null),$R(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ff(n,i)}catch(i){await sb(i)}}async function Pz(t,e,n){let r=Ne(t);try{let i=await(function(o,a){let c=Ne(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(ze(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})})(r.localStore,e);HR(r,e,n),$R(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ff(r,i)}catch(i){await sb(i)}}function $R(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function HR(t,e,n){let r=Ne(t),i=r.Ru[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}async function Ff(t,e,n){let r=Ne(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{o.push(r.gu(c,e,n).then(l=>{var d;if((l||n)&&r.isPrimaryClient){let h=l?!l.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){i.push(l);let h=ME.Es(c.targetId,l);s.push(h)}}))}),await Promise.all(o),r.hu.J_(i),await(async function(c,l){let d=Ne(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(l,f=>V.forEach(f.Is,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>V.forEach(f.ds,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!Ol(h))throw h;U(yz,"Failed to update sequence numbers: "+h)}for(let h of l){let f=h.targetId;if(!h.fromCache){let g=d.Fs.get(f),y=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(y);d.Fs=d.Fs.insert(f,v)}}})(r.localStore,s))}async function Oz(t,e){let n=Ne(t);if(!n.currentUser.isEqual(e)){U(Mz,"User change. New user:",e.toKey());let r=await LR(n.localStore,e);n.currentUser=e,(function(s,o){s.Vu.forEach(a=>{a.forEach(c=>{c.reject(new H(F.CANCELLED,o))})}),s.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ff(n,r.Bs)}}function Lz(t){let e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pz.bind(null,e),e}var zR=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=Pf(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return vz(this.persistence,new kE,n.initialUser,this.serializer)}Du(n){return new wf(RE.Vi,this.serializer)}bu(n){return new OE}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),QE=class extends zR{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ze(this.persistence.referenceDelegate instanceof Df,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new yE(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new wf(r=>Df.Vi(r,n),this.serializer)}};var Fz=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Lx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Oz.bind(null,this.syncEngine),await xz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new KE})()}createDatastore(n){let r=Pf(n.databaseInfo.databaseId),i=(function(o){return new BE(o)})(n.databaseInfo);return(function(o,a,c,l){return new zE(o,a,c,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,s,o,a,c){return new qE(i,s,o,a,c)})(this.localStore,this.datastore,n.asyncQueue,r=>Lx(this.syncEngine,r,0),(function(){return Cf.C()?new Cf:new LE})())}createSyncEngine(n,r){return(function(s,o,a,c,l,d,h){let f=new YE(s,o,a,c,l,d);return h&&(f.fu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await(async function(s){let o=Ne(s);U(Ll,"RemoteStore shutting down."),o.Ia.add(5),await Fl(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var Ei="FirestoreClient",XE=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=Cl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{U(Ei,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(U(Ei,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=UR(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function k_(t,e){t.asyncQueue.verifyOperationInProgress(),U(Ei,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await LR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{oa("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{U("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{oa("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function Fx(t,e){t.asyncQueue.verifyOperationInProgress();let n=await Vz(t);U(Ei,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Nx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Nx(e.remoteStore,i)),t._onlineComponents=e}async function Vz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U(Ei,"Using user provided OfflineComponentProvider");try{await k_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;oa("Error using user provided cache. Falling back to memory cache: "+n),await k_(t,new zR)}}else U(Ei,"Using default OfflineComponentProvider"),await k_(t,new QE(void 0));return t._offlineComponents}async function jz(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U(Ei,"Using user provided OnlineComponentProvider"),await Fx(t,t._uninitializedComponentsProvider._online)):(U(Ei,"Using default OnlineComponentProvider"),await Fx(t,new Fz))),t._onlineComponents}function Bz(t){return jz(t).then(e=>e.syncEngine)}function WR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Vx=new Map;var qR="firestore.googleapis.com",jx=!0,Af=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qR,this.ssl=jx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:jx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gz)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},va=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Af({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Af(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new P_;switch(r.type){case"firstParty":return new V_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=Vx.get(n);r&&(U("ComponentProvider","Removing Datastore"),Vx.delete(n),r.terminate())})(this),Promise.resolve()}};function GR(t,e,n,r={}){var i;t=Wx(t,va);let s=vs(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s&&(Uv(`https://${c}`),$v("Firestore",!0)),o.host!==qR&&o.host!==c&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:r});if(!_s(l,a)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=ft.MOCK_USER;else{d=rA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ft(f)}t._authCredentials=new O_(new ff(d,h))}}var ZE=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},nn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pl(n,t._jsonSchema))return new t(e,r||null,new ee(Qe.fromString(n.referencePath)))}};nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:it("string",nn._jsonSchemaVersion),referencePath:it("string")};var mi=class t extends ZE{constructor(e,n,r){super(e,n,jH(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new ee(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function KR(t,e,...n){if(t=gn(t),Hx("collection","path",e),t instanceof va){let r=Qe.fromString(e,...n);return dx(r),new mi(t,null,r)}{if(!(t instanceof nn||t instanceof mi))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Qe.fromString(e,...n));return dx(r),new mi(t.firestore,null,r)}}function YR(t,e,...n){if(t=gn(t),arguments.length===1&&(e=Cl.newId()),Hx("doc","path",e),t instanceof va){let r=Qe.fromString(e,...n);return ux(r),new nn(t,null,new ee(r))}{if(!(t instanceof nn||t instanceof mi))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Qe.fromString(e,...n));return ux(r),new nn(t.firestore,t instanceof mi?t.converter:null,new ee(r))}}var Bx="AsyncQueue",xf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Sf(this,"async_queue_retry"),this.oc=()=>{let r=N_();r&&U(Bx,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=N_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=N_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Nr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ol(e))throw e;U(Bx,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Os("INTERNAL UNHANDLED ERROR: ",Ux(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=GE.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&J(47125,{hc:Ux(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function Ux(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Rf=class extends va{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xf,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new xf(e),this._firestoreClient=void 0,await e}}};function QR(t,e){let n=typeof t=="object"?t:Yo(),r=typeof t=="string"?t:e||vf,i=jh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=tA("firestore");s&&GR(i,...s)}return i}function Uz(t){if(t._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$z(t),t._firestoreClient}function $z(t){var e,n,r;let i=t._freezeSettings(),s=(function(a,c,l,d){return new z_(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,WR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new XE(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(t._componentsProvider))}var Ms=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(kr.fromBase64String(e))}catch(n){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pl(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Ms._jsonSchemaVersion="firestore/bytes/1.0",Ms._jsonSchema={type:it("string",Ms._jsonSchemaVersion),bytes:it("string")};var kl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Mf=class{constructor(e){this._methodName=e}};var Ns=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Pl(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Ns._jsonSchemaVersion="firestore/geoPoint/1.0",Ns._jsonSchema={type:it("string",Ns._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};var ks=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pl(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new H(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ks._jsonSchemaVersion="firestore/vectorValue/1.0",ks._jsonSchema={type:it("string",ks._jsonSchemaVersion),vectorValues:it("object")};var Hz=/^__.*__$/,JE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,n,this.fieldTransforms):new Us(e,this.data,n,this.fieldTransforms)}};function XR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ec:t})}}var eb=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Nf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(XR(this.Ec)&&Hz.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},tb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pf(e)}Dc(e,n,r,i=!1){return new eb({Ec:e,methodName:n,bc:r,path:tn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function zz(t){let e=t._freezeSettings(),n=Pf(t._databaseId);return new tb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Wz(t,e,n,r,i,s={}){let o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);tM("Data must be an object, but it was:",o,r);let a=JR(r,o),c,l;if(s.merge)c=new Xn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let h of s.mergeFields){let f=qz(e,h,n);if(!o.contains(f))throw new H(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Kz(d,f)||d.push(f)}c=new Xn(d),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new JE(new Qn(a),c,l)}function ZR(t,e){if(eM(t=gn(t)))return tM("Unsupported field value:",e,t),JR(t,e);if(t instanceof Mf)return(function(r,i){if(!XR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let s=[],o=0;for(let a of r){let c=ZR(a,i.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ct.fromDate(r);return{timestampValue:uE(i.serializer,s)}}if(r instanceof ct){let s=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uE(i.serializer,s)}}if(r instanceof Ns)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ms)return{bytesValue:rz(i.serializer,r._byteString)};if(r instanceof nn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kR(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ks)return(function(o,a){return{mapValue:{fields:{[ub]:{stringValue:db},[xl]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return mb(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${ib(r)}`)})(t,e)}function JR(t,e){let n={};return aR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(t,(r,i)=>{let s=ZR(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function eM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof Ns||t instanceof Ms||t instanceof nn||t instanceof Mf||t instanceof ks)}function tM(t,e,n){if(!eM(n)||!zx(n)){let r=ib(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function qz(t,e,n){if((e=gn(e))instanceof kl)return e._internalPath;if(typeof e=="string")return nM(t,e);throw Nf("Field path arguments must be of type string or ",t,!1,void 0,n)}var Gz=new RegExp("[~\\*/\\[\\]]");function nM(t,e,n){if(e.search(Gz)>=0)throw Nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kl(...e.split("."))._internalPath}catch{throw Nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nf(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new H(F.INVALID_ARGUMENT,a+t+c)}function Kz(t,e){return t.some(n=>n.isEqual(e))}var kf=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new nb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(rM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},nb=class extends kf{data(){return super.data()}};function rM(t,e){return typeof e=="string"?nM(t,e):e instanceof kl?e._internalPath:e._delegate._internalPath}function Yz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var na=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ia=class t extends kf{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new sa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(rM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:it("string",ia._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};var sa=class extends ia{data(e={}){return super.data(e)}},Tl=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new na(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sa(this._firestore,this._userDataWriter,r.key,r,new na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new sa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new sa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Qz(a.type),doc:c,oldIndex:l,newIndex:d}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Qz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:t})}}Tl._jsonSchemaVersion="firestore/querySnapshot/1.0",Tl._jsonSchema={type:it("string",Tl._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};function iM(t,e){let n=Wx(t.firestore,Rf),r=YR(t),i=Yz(t.converter,e);return Xz(n,[Wz(zz(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Rs.exists(!1))]).then(()=>r)}function Xz(t,e){return(function(r,i){let s=new Nr;return r.asyncQueue.enqueueAndForget(async()=>Nz(await Bz(r),i,s)),s.promise})(Uz(t),e)}(function(e,n=!0){(function(i){_a=i})(Ko),Pn(new $t("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Rf(new L_(r.getProvider("auth-internal")),new j_(o,r.getProvider("app-check-internal")),(function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new W_(l.options.projectId,d)})(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ye(ox,ax,e),Ye(ox,ax,"esm2017")})();var $s=class{constructor(e){return e}},sM="firestore",yb=class{constructor(){return Xo(sM)}};var vb=new z("angularfire2.firestore-instances");function Zz(t,e){let n=$h(sM,t,e);return n&&new $s(n)}function Jz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new $s(r)}}var e4={provide:yb,deps:[[new br,vb]]},t4={provide:$s,useFactory:Zz,deps:[[new br,vb],Ds]};function oM(t,...e){return Ye("angularfire",Is.full,"fst"),yr([t4,e4,{provide:vb,useFactory:Jz(t),multi:!0,deps:[we,xt,ws,hl,[new br,nf],[new br,zh],...e]}])}var aM=fi(iM,!0,2);var cM=fi(KR,!0,2);var lM=fi(QR,!0);var uM={production:!1,firebase:{apiKey:"AIzaSyBPZPaG_-FXsRmXNDvfSenaZD--sJRUaJo",authDomain:"bot-de-financas.firebaseapp.com",projectId:"bot-de-financas",storageBucket:"bot-de-financas.firebasestorage.app",messagingSenderId:"1040664025813",appId:"1:1040664025813:web:a8bb57bb2ca81e17ff605c"}};var dM={providers:[bC({eventCoalescing:!0}),Ov(YS),AA(()=>xA(uM.firebase)),oM(()=>lM())]};var jl=class{id;descricao;categoria;valor;data;constructor(e,n,r){this.id=Math.random().toString(36).substring(2),this.descricao=e,this.categoria=n,this.valor=r,this.data=new Date}};function $l(t){return t+.5|0}var bi=(t,e,n)=>Math.max(Math.min(t,n),e);function Bl(t){return bi($l(t*2.55),0,255)}function Ii(t){return bi($l(t*255),0,255)}function Lr(t){return bi($l(t/2.55)/100,0,1)}function hM(t){return bi($l(t*100),0,100)}var yn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Eb=[..."0123456789ABCDEF"],n4=t=>Eb[t&15],r4=t=>Eb[(t&240)>>4]+Eb[t&15],Vf=t=>(t&240)>>4===(t&15),i4=t=>Vf(t.r)&&Vf(t.g)&&Vf(t.b)&&Vf(t.a);function s4(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&yn[t[1]]*17,g:255&yn[t[2]]*17,b:255&yn[t[3]]*17,a:e===5?yn[t[4]]*17:255}:(e===7||e===9)&&(n={r:yn[t[1]]<<4|yn[t[2]],g:yn[t[3]]<<4|yn[t[4]],b:yn[t[5]]<<4|yn[t[6]],a:e===9?yn[t[7]]<<4|yn[t[8]]:255})),n}var o4=(t,e)=>t<255?e(t):"";function a4(t){var e=i4(t)?n4:r4;return t?"#"+e(t.r)+e(t.g)+e(t.b)+o4(t.a,e):void 0}var c4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function mM(t,e,n){let r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function l4(t,e,n){let r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function u4(t,e,n){let r=mM(t,1,.5),i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function d4(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function bb(t){let n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2,c,l,d;return s!==o&&(d=s-o,l=a>.5?d/(2-s-o):d/(s+o),c=d4(n,r,i,d,s),c=c*60+.5),[c|0,l||0,a]}function Ib(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Ii)}function wb(t,e,n){return Ib(mM,t,e,n)}function h4(t,e,n){return Ib(u4,t,e,n)}function f4(t,e,n){return Ib(l4,t,e,n)}function yM(t){return(t%360+360)%360}function p4(t){let e=c4.exec(t),n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Bl(+e[5]):Ii(+e[5]));let i=yM(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=h4(i,s,o):e[1]==="hsv"?r=f4(i,s,o):r=wb(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function g4(t,e){var n=bb(t);n[0]=yM(n[0]+e),n=wb(n),t.r=n[0],t.g=n[1],t.b=n[2]}function m4(t){if(!t)return;let e=bb(t),n=e[0],r=hM(e[1]),i=hM(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Lr(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}var fM={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pM={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function y4(){let t={},e=Object.keys(pM),n=Object.keys(fM),r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,fM[s]);s=parseInt(pM[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}var jf;function v4(t){jf||(jf=y4(),jf.transparent=[0,0,0,0]);let e=jf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var _4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function E4(t){let e=_4.exec(t),n=255,r,i,s;if(e){if(e[7]!==r){let o=+e[7];n=e[8]?Bl(o):bi(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Bl(r):bi(r,0,255)),i=255&(e[4]?Bl(i):bi(i,0,255)),s=255&(e[6]?Bl(s):bi(s,0,255)),{r,g:i,b:s,a:n}}}function b4(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Lr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var _b=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ba=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function I4(t,e,n){let r=ba(Lr(t.r)),i=ba(Lr(t.g)),s=ba(Lr(t.b));return{r:Ii(_b(r+n*(ba(Lr(e.r))-r))),g:Ii(_b(i+n*(ba(Lr(e.g))-i))),b:Ii(_b(s+n*(ba(Lr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Bf(t,e,n){if(t){let r=bb(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=wb(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function vM(t,e){return t&&Object.assign(e||{},t)}function gM(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ii(t[3]))):(e=vM(t,{r:0,g:0,b:0,a:1}),e.a=Ii(e.a)),e}function w4(t){return t.charAt(0)==="r"?E4(t):p4(t)}var Ul=class t{constructor(e){if(e instanceof t)return e;let n=typeof e,r;n==="object"?r=gM(e):n==="string"&&(r=s4(e)||v4(e)||w4(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=vM(this._rgb);return e&&(e.a=Lr(e.a)),e}set rgb(e){this._rgb=gM(e)}rgbString(){return this._valid?b4(this._rgb):void 0}hexString(){return this._valid?a4(this._rgb):void 0}hslString(){return this._valid?m4(this._rgb):void 0}mix(e,n){if(e){let r=this.rgb,i=e.rgb,s,o=n===s?.5:n,a=2*o-1,c=r.a-i.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;s=1-l,r.r=255&l*r.r+s*i.r+.5,r.g=255&l*r.g+s*i.g+.5,r.b=255&l*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=I4(this._rgb,e._rgb,n)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=Ii(e),this}clearer(e){let n=this._rgb;return n.a*=1-e,this}greyscale(){let e=this._rgb,n=$l(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){let n=this._rgb;return n.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Bf(this._rgb,2,e),this}darken(e){return Bf(this._rgb,2,-e),this}saturate(e){return Bf(this._rgb,1,e),this}desaturate(e){return Bf(this._rgb,1,-e),this}rotate(e){return g4(this._rgb,e),this}};function nr(){}var xM=(()=>{let t=0;return()=>t++})();function te(t){return t==null}function ke(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function se(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ve(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function qt(t,e){return Ve(t)?t:e}function K(t,e){return typeof t>"u"?e:t}var RM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Sb=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function xe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function be(t,e,n,r){let i,s,o;if(ke(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(se(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function Wl(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function zf(t){if(ke(t))return t.map(zf);if(se(t)){let e=Object.create(null),n=Object.keys(t),r=n.length,i=0;for(;i<r;++i)e[n[i]]=zf(t[n[i]]);return e}return t}function MM(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function D4(t,e,n,r){if(!MM(t))return;let i=e[t],s=n[t];se(i)&&se(s)?wa(i,s,r):e[t]=zf(s)}function wa(t,e,n){let r=ke(e)?e:[e],i=r.length;if(!se(t))return t;n=n||{};let s=n.merger||D4,o;for(let a=0;a<i;++a){if(o=r[a],!se(o))continue;let c=Object.keys(o);for(let l=0,d=c.length;l<d;++l)s(c[l],t,o,n)}return t}function Ta(t,e){return wa(t,e,{merger:T4})}function T4(t,e,n){if(!MM(t))return;let r=e[t],i=n[t];se(r)&&se(i)?Ta(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=zf(i))}var _M={"":t=>t,x:t=>t.x,y:t=>t.y};function C4(t){let e=t.split("."),n=[],r="";for(let i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function S4(t){let e=C4(t);return n=>{for(let r of e){if(r==="")break;n=n&&n[r]}return n}}function jr(t,e){return(_M[e]||(_M[e]=S4(e)))(t)}function Kf(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Ca=t=>typeof t<"u",Fr=t=>typeof t=="function",Ab=(t,e)=>{if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0};function NM(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var he=Math.PI,Pe=2*he,A4=Pe+he,Wf=Number.POSITIVE_INFINITY,x4=he/180,We=he/2,Hs=he/4,EM=he*2/3,Vr=Math.log10,Ln=Math.sign;function Sa(t,e,n){return Math.abs(t-e)<n}function xb(t){let e=Math.round(t);t=Sa(t,e,t/1e3)?e:t;let n=Math.pow(10,Math.floor(Vr(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function kM(t){let e=[],n=Math.sqrt(t),r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function R4(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function qs(t){return!R4(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function PM(t,e){let n=Math.round(t);return n-e<=t&&n+e>=t}function Rb(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function vn(t){return t*(he/180)}function Yf(t){return t*(180/he)}function Mb(t){if(!Ve(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Nb(t,e){let n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),s=Math.atan2(r,n);return s<-.5*he&&(s+=Pe),{angle:s,distance:i}}function qf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function M4(t,e){return(t-e+A4)%Pe-he}function It(t){return(t%Pe+Pe)%Pe}function Aa(t,e,n,r){let i=It(t),s=It(e),o=It(n),a=It(s-i),c=It(o-i),l=It(i-s),d=It(i-o);return i===s||i===o||r&&s===o||a>c&&l<d}function lt(t,e,n){return Math.max(e,Math.min(n,t))}function OM(t){return lt(t,-32768,32767)}function rr(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Qf(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}var er=(t,e,n,r)=>Qf(t,n,r?i=>{let s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),LM=(t,e,n)=>Qf(t,n,r=>t[r][e]>=n);function FM(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}var VM=["push","pop","shift","splice","unshift"];function jM(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),VM.forEach(n=>{let r="_onData"+Kf(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){let o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function kb(t,e){let n=t._chartjs;if(!n)return;let r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(VM.forEach(s=>{delete t[s]}),delete t._chartjs)}function Pb(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var Ob=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Lb(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,Ob.call(window,()=>{r=!1,t.apply(e,n)}))}}function BM(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}var Xf=t=>t==="start"?"left":t==="end"?"right":"center",wt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,UM=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Fb(t,e,n){let r=e.length,i=0,s=r;if(t._sorted){let{iScale:o,vScale:a,_parsed:c}=t,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:h,max:f,minDefined:g,maxDefined:y}=o.getUserBounds();if(g){if(i=Math.min(er(c,d,h).lo,n?r:er(e,d,o.getPixelForValue(h)).lo),l){let v=c.slice(0,i+1).reverse().findIndex(E=>!te(E[a.axis]));i-=Math.max(0,v)}i=lt(i,0,r-1)}if(y){let v=Math.max(er(c,o.axis,f,!0).hi+1,n?0:er(e,d,o.getPixelForValue(f),!0).hi+1);if(l){let E=c.slice(v-1).findIndex(S=>!te(S[a.axis]));v+=Math.max(0,E)}s=lt(v,i,r)-i}else s=r-i}return{start:i,count:s}}function Vb(t){let{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;let s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}var Uf=t=>t===0||t===1,bM=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Pe/n)),IM=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Pe/n)+1,Ia={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*We)+1,easeOutSine:t=>Math.sin(t*We),easeInOutSine:t=>-.5*(Math.cos(he*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Uf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Uf(t)?t:bM(t,.075,.3),easeOutElastic:t=>Uf(t)?t:IM(t,.075,.3),easeInOutElastic(t){return Uf(t)?t:t<.5?.5*bM(t*2,.1125,.45):.5+.5*IM(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ia.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ia.easeInBounce(t*2)*.5:Ia.easeOutBounce(t*2-1)*.5+.5};function jb(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Bb(t){return jb(t)?t:new Ul(t)}function Db(t){return jb(t)?t:new Ul(t).saturate(.5).darken(.1).hexString()}var N4=["x","y","borderWidth","radius","tension"],k4=["color","borderColor","backgroundColor"];function P4(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:k4},numbers:{type:"number",properties:N4}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function O4(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var wM=new Map;function L4(t,e){e=e||{};let n=t+JSON.stringify(e),r=wM.get(n);return r||(r=new Intl.NumberFormat(t,e),wM.set(n,r)),r}function xa(t,e,n){return L4(e,n).format(t)}var $M={values(t){return ke(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";let r=this.chart.options.locale,i,s=t;if(n.length>1){let l=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),s=F4(t,n)}let o=Vr(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),xa(t,r,c)},logarithmic(t,e,n){if(t===0)return"0";let r=n[e].significand||t/Math.pow(10,Math.floor(Vr(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?$M.numeric.call(this,t,e,n):""}};function F4(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var ql={formatters:$M};function V4(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ql.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Ti=Object.create(null),Zf=Object.create(null);function Hl(t,e){if(!e)return t;let n=e.split(".");for(let r=0,i=n.length;r<i;++r){let s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Tb(t,e,n){return typeof e=="string"?wa(Hl(t,e),n):wa(Hl(t,""),e)}var Cb=class{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Db(i.backgroundColor),this.hoverBorderColor=(r,i)=>Db(i.borderColor),this.hoverColor=(r,i)=>Db(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Tb(this,e,n)}get(e){return Hl(this,e)}describe(e,n){return Tb(Zf,e,n)}override(e,n){return Tb(Ti,e,n)}route(e,n,r,i){let s=Hl(this,e),o=Hl(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){let c=this[a],l=o[i];return se(c)?Object.assign({},l,c):K(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}},Le=new Cb({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[P4,O4,V4]);function j4(t){return!t||te(t.size)||te(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function zl(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function HM(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0,a=n.length,c,l,d,h,f;for(c=0;c<a;c++)if(h=n[c],h!=null&&!ke(h))o=zl(t,i,s,o,h);else if(ke(h))for(l=0,d=h.length;l<d;l++)f=h[l],f!=null&&!ke(f)&&(o=zl(t,i,s,o,f));t.restore();let g=s.length/2;if(g>n.length){for(c=0;c<g;c++)delete i[s[c]];s.splice(0,g)}return o}function Ci(t,e,n){let r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Ub(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Jf(t,e,n,r){$b(t,e,n,r,null)}function $b(t,e,n,r,i){let s,o,a,c,l,d,h,f,g=e.pointStyle,y=e.rotation,v=e.radius,E=(y||0)*x4;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(E),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),g){default:i?t.ellipse(n,r,i/2,v,0,0,Pe):t.arc(n,r,v,0,Pe),t.closePath();break;case"triangle":d=i?i/2:v,t.moveTo(n+Math.sin(E)*d,r-Math.cos(E)*v),E+=EM,t.lineTo(n+Math.sin(E)*d,r-Math.cos(E)*v),E+=EM,t.lineTo(n+Math.sin(E)*d,r-Math.cos(E)*v),t.closePath();break;case"rectRounded":l=v*.516,c=v-l,o=Math.cos(E+Hs)*c,h=Math.cos(E+Hs)*(i?i/2-l:c),a=Math.sin(E+Hs)*c,f=Math.sin(E+Hs)*(i?i/2-l:c),t.arc(n-h,r-a,l,E-he,E-We),t.arc(n+f,r-o,l,E-We,E),t.arc(n+h,r+a,l,E,E+We),t.arc(n-f,r+o,l,E+We,E+he),t.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*v,d=i?i/2:c,t.rect(n-d,r-c,2*d,2*c);break}E+=Hs;case"rectRot":h=Math.cos(E)*(i?i/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,f=Math.sin(E)*(i?i/2:v),t.moveTo(n-h,r-a),t.lineTo(n+f,r-o),t.lineTo(n+h,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":E+=Hs;case"cross":h=Math.cos(E)*(i?i/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,f=Math.sin(E)*(i?i/2:v),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":h=Math.cos(E)*(i?i/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,f=Math.sin(E)*(i?i/2:v),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),E+=Hs,h=Math.cos(E)*(i?i/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,f=Math.sin(E)*(i?i/2:v),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(E)*v,a=Math.sin(E)*v,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(E)*(i?i/2:v),r+Math.sin(E)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function tr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Gl(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Kl(t){t.restore()}function zM(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){let s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function WM(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function B4(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),te(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function U4(t,e,n,r,i){if(i.strikethrough||i.underline){let s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,c=n-s.actualBoundingBoxAscent,l=n+s.actualBoundingBoxDescent,d=i.strikethrough?(c+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function $4(t,e){let n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Si(t,e,n,r,i,s={}){let o=ke(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="",c,l;for(t.save(),t.font=i.string,B4(t,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&$4(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),te(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(l,n,r,s.maxWidth)),t.fillText(l,n,r,s.maxWidth),U4(t,n,r,l,s),r+=Number(i.lineHeight);t.restore()}function Ra(t,e){let{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*he,he,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,he,We,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,We,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-We,!0),t.lineTo(n+o.topLeft,r)}var H4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,z4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function W4(t,e){let n=(""+t).match(H4);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}var q4=t=>+t||0;function ep(t,e){let n={},r=se(e),i=r?Object.keys(e):e,s=se(t)?r?o=>K(t[o],t[e[o]]):o=>t[o]:()=>t;for(let o of i)n[o]=q4(s(o));return n}function Hb(t){return ep(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ai(t){return ep(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Dt(t){let e=Hb(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function st(t,e){t=t||{},e=e||Le.font;let n=K(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=K(t.style,e.style);r&&!(""+r).match(z4)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let i={family:K(t.family,e.family),lineHeight:W4(K(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:K(t.weight,e.weight),string:""};return i.string=j4(i),i}function Ma(t,e,n,r){let i=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&ke(a)&&(a=a[n%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function qM(t,e,n){let{min:r,max:i}=t,s=Sb(e,(i-r)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Br(t,e){return Object.assign(Object.create(t),e)}function tp(t,e=[""],n,r,i=()=>t[0]){let s=n||t;typeof r>"u"&&(r=YM("_fallback",t));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>tp([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return GM(a,c,()=>e3(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return TM(a).includes(c)},ownKeys(a){return TM(a)},set(a,c,l){let d=a._storage||(a._storage=i());return a[c]=d[c]=l,delete a._keys,!0}})}function Ws(t,e,n,r){let i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:zb(t,r),setContext:s=>Ws(t,s,n,r),override:s=>Ws(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return GM(s,o,()=>K4(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function zb(t,e={scriptable:!0,indexable:!0}){let{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Fr(n)?n:()=>n,isIndexable:Fr(r)?r:()=>r}}var G4=(t,e)=>t?t+Kf(e):e,Wb=(t,e)=>se(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function GM(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];let r=n();return t[e]=r,r}function K4(t,e,n){let{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t,a=r[e];return Fr(a)&&o.isScriptable(e)&&(a=Y4(e,a,t,n)),ke(a)&&a.length&&(a=Q4(e,a,t,o.isIndexable)),Wb(e,a)&&(a=Ws(a,i,s&&s[e],o)),a}function Y4(t,e,n,r){let{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(s,o||r);return a.delete(t),Wb(t,c)&&(c=qb(i._scopes,i,t,c)),c}function Q4(t,e,n,r){let{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(se(e[0])){let c=e,l=i._scopes.filter(d=>d!==c);e=[];for(let d of c){let h=qb(l,i,t,d);e.push(Ws(h,s,o&&o[t],a))}}return e}function KM(t,e,n){return Fr(t)?t(e,n):t}var X4=(t,e)=>t===!0?e:typeof t=="string"?jr(e,t):void 0;function Z4(t,e,n,r,i){for(let s of e){let o=X4(n,s);if(o){t.add(o);let a=KM(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function qb(t,e,n,r){let i=e._rootScopes,s=KM(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let c=DM(a,o,n,s||n,r);return c===null||typeof s<"u"&&s!==n&&(c=DM(a,o,s,c,r),c===null)?!1:tp(Array.from(a),[""],i,s,()=>J4(e,n,r))}function DM(t,e,n,r,i){for(;n;)n=Z4(t,e,n,r,i);return n}function J4(t,e,n){let r=t._getTarget();e in r||(r[e]={});let i=r[e];return ke(i)&&se(n)?n:i||{}}function e3(t,e,n,r){let i;for(let s of e)if(i=YM(G4(s,t),n),typeof i<"u")return Wb(t,i)?qb(n,r,t,i):i}function YM(t,e){for(let n of e){if(!n)continue;let r=n[t];if(typeof r<"u")return r}}function TM(t){let e=t._keys;return e||(e=t._keys=t3(t._scopes)),e}function t3(t){let e=new Set;for(let n of t)for(let r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function Gb(t,e,n,r){let{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r),a,c,l,d;for(a=0,c=r;a<c;++a)l=a+n,d=e[l],o[a]={r:i.parse(jr(d,s),l)};return o}var n3=Number.EPSILON||1e-14,Da=(t,e)=>e<t.length&&!t[e].skip&&t[e],QM=t=>t==="x"?"y":"x";function r3(t,e,n,r){let i=t.skip?e:t,s=e,o=n.skip?e:n,a=qf(s,i),c=qf(o,s),l=a/(a+c),d=c/(a+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;let h=r*l,f=r*d;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function i3(t,e,n){let r=t.length,i,s,o,a,c,l=Da(t,0);for(let d=0;d<r-1;++d)if(c=l,l=Da(t,d+1),!(!c||!l)){if(Sa(e[d],0,n3)){n[d]=n[d+1]=0;continue}i=n[d]/e[d],s=n[d+1]/e[d],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=i*o*e[d],n[d+1]=s*o*e[d])}}function s3(t,e,n="x"){let r=QM(n),i=t.length,s,o,a,c=Da(t,0);for(let l=0;l<i;++l){if(o=a,a=c,c=Da(t,l+1),!a)continue;let d=a[n],h=a[r];o&&(s=(d-o[n])/3,a[`cp1${n}`]=d-s,a[`cp1${r}`]=h-s*e[l]),c&&(s=(c[n]-d)/3,a[`cp2${n}`]=d+s,a[`cp2${r}`]=h+s*e[l])}}function o3(t,e="x"){let n=QM(e),r=t.length,i=Array(r).fill(0),s=Array(r),o,a,c,l=Da(t,0);for(o=0;o<r;++o)if(a=c,c=l,l=Da(t,o+1),!!c){if(l){let d=l[e]-c[e];i[o]=d!==0?(l[n]-c[n])/d:0}s[o]=a?l?Ln(i[o-1])!==Ln(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}i3(t,i,s),s3(t,s,e)}function $f(t,e,n){return Math.max(Math.min(t,n),e)}function a3(t,e){let n,r,i,s,o,a=tr(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&tr(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=$f(i.cp1x,e.left,e.right),i.cp1y=$f(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=$f(i.cp2x,e.left,e.right),i.cp2y=$f(i.cp2y,e.top,e.bottom)))}function XM(t,e,n,r,i){let s,o,a,c;if(e.spanGaps&&(t=t.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")o3(t,i);else{let l=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],c=r3(l,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&a3(t,n)}function np(){return typeof window<"u"&&typeof document<"u"}function rp(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Gf(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}var ip=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function c3(t,e){return ip(t).getPropertyValue(e)}var l3=["top","right","bottom","left"];function zs(t,e,n){let r={};n=n?"-"+n:"";for(let i=0;i<4;i++){let s=l3[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var u3=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function d3(t,e){let n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r,o=!1,a,c;if(u3(i,s,t.target))a=i,c=s;else{let l=e.getBoundingClientRect();a=r.clientX-l.left,c=r.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function xi(t,e){if("native"in t)return t;let{canvas:n,currentDevicePixelRatio:r}=e,i=ip(n),s=i.boxSizing==="border-box",o=zs(i,"padding"),a=zs(i,"border","width"),{x:c,y:l,box:d}=d3(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top),{width:g,height:y}=e;return s&&(g-=o.width+a.width,y-=o.height+a.height),{x:Math.round((c-h)/g*n.width/r),y:Math.round((l-f)/y*n.height/r)}}function h3(t,e,n){let r,i;if(e===void 0||n===void 0){let s=t&&rp(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{let o=s.getBoundingClientRect(),a=ip(s),c=zs(a,"border","width"),l=zs(a,"padding");e=o.width-l.width-c.width,n=o.height-l.height-c.height,r=Gf(a.maxWidth,s,"clientWidth"),i=Gf(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Wf,maxHeight:i||Wf}}var Di=t=>Math.round(t*10)/10;function ZM(t,e,n,r){let i=ip(t),s=zs(i,"margin"),o=Gf(i.maxWidth,t,"clientWidth")||Wf,a=Gf(i.maxHeight,t,"clientHeight")||Wf,c=h3(t,e,n),{width:l,height:d}=c;if(i.boxSizing==="content-box"){let f=zs(i,"border","width"),g=zs(i,"padding");l-=g.width+f.width,d-=g.height+f.height}return l=Math.max(0,l-s.width),d=Math.max(0,r?l/r:d-s.height),l=Di(Math.min(l,o,c.maxWidth)),d=Di(Math.min(d,a,c.maxHeight)),l&&!d&&(d=Di(l/2)),(e!==void 0||n!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,l=Di(Math.floor(d*r))),{width:l,height:d}}function Kb(t,e,n){let r=e||1,i=Di(t.height*r),s=Di(t.width*r);t.height=Di(t.height),t.width=Di(t.width);let o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}var JM=(function(){let t=!1;try{let e={get passive(){return t=!0,!1}};np()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Yb(t,e){let n=c3(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function wi(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function eN(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function tN(t,e,n,r){let i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=wi(t,i,n),a=wi(i,s,n),c=wi(s,e,n),l=wi(o,a,n),d=wi(a,c,n);return wi(l,d,n)}var f3=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},p3=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Gs(t,e,n){return t?f3(e,n):p3()}function Qb(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Xb(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function nN(t){return t==="angle"?{between:Aa,compare:M4,normalize:It}:{between:rr,compare:(e,n)=>e-n,normalize:e=>e}}function CM({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function g3(t,e,n){let{property:r,start:i,end:s}=n,{between:o,normalize:a}=nN(r),c=e.length,{start:l,end:d,loop:h}=t,f,g;if(h){for(l+=c,d+=c,f=0,g=c;f<g&&o(a(e[l%c][r]),i,s);++f)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:h,style:t.style}}function Zb(t,e,n){if(!n)return[t];let{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:c,normalize:l}=nN(r),{start:d,end:h,loop:f,style:g}=g3(t,e,n),y=[],v=!1,E=null,S,x,N,P=()=>c(i,N,S)&&a(i,N)!==0,k=()=>a(s,S)===0||c(s,N,S),O=()=>v||P(),w=()=>!v||k();for(let b=d,I=d;b<=h;++b)x=e[b%o],!x.skip&&(S=l(x[r]),S!==N&&(v=c(S,i,s),E===null&&O()&&(E=a(S,i)===0?b:I),E!==null&&w()&&(y.push(CM({start:E,end:b,loop:f,count:o,style:g})),E=null),I=b,N=S));return E!==null&&y.push(CM({start:E,end:h,loop:f,count:o,style:g})),y}function Jb(t,e){let n=[],r=t.segments;for(let i=0;i<r.length;i++){let s=Zb(r[i],t.points,e);s.length&&n.push(...s)}return n}function m3(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function y3(t,e,n,r){let i=t.length,s=[],o=e,a=t[e],c;for(c=e+1;c<=n;++c){let l=t[c%i];l.skip||l.stop?a.skip||(r=!1,s.push({start:e%i,end:(c-1)%i,loop:r}),e=o=l.stop?c:null):(o=c,a.skip&&(e=c)),a=l}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function rN(t,e){let n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];let s=!!t._loop,{start:o,end:a}=m3(n,i,s,r);if(r===!0)return SM(t,[{start:o,end:a,loop:s}],n,e);let c=a<o?a+i:a,l=!!t._fullLoop&&o===0&&a===i-1;return SM(t,y3(n,o,c,l),n,e)}function SM(t,e,n,r){return!r||!r.setContext||!n?e:v3(t,e,n,r)}function v3(t,e,n,r){let i=t._chart.getContext(),s=AM(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,l=[],d=s,h=e[0].start,f=h;function g(y,v,E,S){let x=a?-1:1;if(y!==v){for(y+=c;n[y%c].skip;)y-=x;for(;n[v%c].skip;)v+=x;y%c!==v%c&&(l.push({start:y%c,end:v%c,loop:E,style:S}),d=S,h=v%c)}}for(let y of e){h=a?h:y.start;let v=n[h%c],E;for(f=h+1;f<=y.end;f++){let S=n[f%c];E=AM(r.setContext(Br(i,{type:"segment",p0:v,p1:S,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),_3(E,d)&&g(h,f-1,y.loop,d),v=S,d=E}h<f-1&&g(h,f-1,y.loop,d)}return l}function AM(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function _3(t,e){if(!e)return!1;let n=[],r=function(i,s){return jb(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Hf(t,e,n){return t.options.clip?t[n]:e[n]}function E3(t,e){let{xScale:n,yScale:r}=t;return n&&r?{left:Hf(n,e,"left"),right:Hf(n,e,"right"),top:Hf(r,e,"top"),bottom:Hf(r,e,"bottom")}:e}function eI(t,e){let n=e._clip;if(n.disabled)return!1;let r=E3(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}var hI=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){let s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Ob.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;let s=r.items,o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){let n=this._charts,r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){let n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;let n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){let n=this._charts.get(e);if(!n||!n.items.length)return;let r=n.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Ur=new hI,iN="transparent",b3={boolean(t,e,n){return n>.5?e:t},color(t,e,n){let r=Bb(t||iN),i=r.valid&&Bb(e||iN);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}},fI=class{constructor(e,n,r,i){let s=n[r];i=Ma([e.to,i,s,e.from]);let o=Ma([e.from,s,i]);this._active=!0,this._fn=e.fn||b3[e.type||typeof o],this._easing=Ia[e.easing]||Ia.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);let i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ma([e.to,n,i,e.from]),this._from=Ma([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to,c;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}c=n/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,a,c)}wait(){let e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){let n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}},fp=class{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!se(e))return;let n=Object.keys(Le.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let s=e[i];if(!se(s))return;let o={};for(let a of n)o[a]=s[a];(ke(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){let r=n.options,i=w3(e,r);if(!i)return[];let s=this._createAnimations(i,r);return r.$shared&&I3(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){let r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){i.push(...this._animateOptions(e,n));continue}let d=n[l],h=s[l],f=r.get(l);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[l]=d;continue}s[l]=h=new fI(f,e,l,d),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}let r=this._createAnimations(e,n);if(r.length)return Ur.add(this._chart,r),!0}};function I3(t,e){let n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){let s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function w3(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function sN(t,e){let n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function D3(t,e,n){if(n===!1)return!1;let r=sN(t,n),i=sN(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function T3(t){let e,n,r,i;return se(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function ik(t,e){let n=[],r=t._getSortedDatasetMetas(e),i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function oN(t,e,n,r={}){let i=t.keys,s=r.mode==="single",o,a,c,l;if(e===null)return;let d=!1;for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===n){if(d=!0,r.all)continue;break}l=t.values[c],Ve(l)&&(s||e===0||Ln(e)===Ln(l))&&(e+=l)}return!d&&!r.all?0:e}function C3(t,e){let{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length),c,l,d;for(c=0,l=o.length;c<l;++c)d=o[c],a[c]={[i]:d,[s]:t[d]};return a}function tI(t,e){let n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function S3(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function A3(t){let{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function x3(t,e,n){let r=t[e]||(t[e]={});return r[n]||(r[n]={})}function aN(t,e,n,r){for(let i of e.getMatchingVisibleMetas(r).reverse()){let s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function cN(t,e){let{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,c=s.axis,l=o.axis,d=S3(s,o,r),h=e.length,f;for(let g=0;g<h;++g){let y=e[g],{[c]:v,[l]:E}=y,S=y._stacks||(y._stacks={});f=S[l]=x3(i,d,v),f[a]=E,f._top=aN(f,o,!0,r.type),f._bottom=aN(f,o,!1,r.type);let x=f._visualValues||(f._visualValues={});x[a]=E}}function nI(t,e){let n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function R3(t,e){return Br(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function M3(t,e,n){return Br(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Yl(t,e){let n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(let i of e){let s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}var rI=t=>t==="reset"||t==="none",lN=(t,e)=>e?t:Object.assign({},t),N3=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:ik(n,!0),values:null},Mi=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,r){this.chart=n,this._ctx=n.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=tI(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&Yl(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,r=this._cachedMeta,i=this.getDataset(),s=(f,g,y,v)=>f==="x"?g:f==="r"?v:y,o=r.xAxisID=K(i.xAxisID,nI(n,"x")),a=r.yAxisID=K(i.yAxisID,nI(n,"y")),c=r.rAxisID=K(i.rAxisID,nI(n,"r")),l=r.indexAxis,d=r.iAxisID=s(l,o,a,c),h=r.vAxisID=s(l,a,o,c);r.xScale=this.getScaleForId(o),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let r=this._cachedMeta;return n===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&kb(this._data,this),n._stacked&&Yl(n)}_dataCheck(){let n=this.getDataset(),r=n.data||(n.data=[]),i=this._data;if(se(r)){let s=this._cachedMeta;this._data=C3(r,s)}else if(i!==r){if(i){kb(i,this);let s=this._cachedMeta;Yl(s),s._parsed=[]}r&&Object.isExtensible(r)&&jM(r,this),this._syncList=[],this._data=r}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let r=this._cachedMeta,i=this.getDataset(),s=!1;this._dataCheck();let o=r._stacked;r._stacked=tI(r.vScale,r),r.stack!==i.stack&&(s=!0,Yl(r),r.stack=i.stack),this._resyncElements(n),(s||o!==r._stacked)&&(cN(this,r._parsed),r._stacked=tI(r.vScale,r))}configure(){let n=this.chart.config,r=n.datasetScopeKeys(this._type),i=n.getOptionScopes(this.getDataset(),r,!0);this.options=n.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,r){let{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,c=o.axis,l=n===0&&r===s.length?!0:i._sorted,d=n>0&&i._parsed[n-1],h,f,g;if(this._parsing===!1)i._parsed=s,i._sorted=!0,g=s;else{ke(s[n])?g=this.parseArrayData(i,s,n,r):se(s[n])?g=this.parseObjectData(i,s,n,r):g=this.parsePrimitiveData(i,s,n,r);let y=()=>f[c]===null||d&&f[c]<d[c];for(h=0;h<r;++h)i._parsed[h+n]=f=g[h],l&&(y()&&(l=!1),d=f);i._sorted=l}a&&cN(this,g)}parsePrimitiveData(n,r,i,s){let{iScale:o,vScale:a}=n,c=o.axis,l=a.axis,d=o.getLabels(),h=o===a,f=new Array(s),g,y,v;for(g=0,y=s;g<y;++g)v=g+i,f[g]={[c]:h||o.parse(d[v],v),[l]:a.parse(r[v],v)};return f}parseArrayData(n,r,i,s){let{xScale:o,yScale:a}=n,c=new Array(s),l,d,h,f;for(l=0,d=s;l<d;++l)h=l+i,f=r[h],c[l]={x:o.parse(f[0],h),y:a.parse(f[1],h)};return c}parseObjectData(n,r,i,s){let{xScale:o,yScale:a}=n,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(s),h,f,g,y;for(h=0,f=s;h<f;++h)g=h+i,y=r[g],d[h]={x:o.parse(jr(y,c),g),y:a.parse(jr(y,l),g)};return d}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,r,i){let s=this.chart,o=this._cachedMeta,a=r[n.axis],c={keys:ik(s,!0),values:r._stacks[n.axis]._visualValues};return oN(c,a,o.index,{mode:i})}updateRangeFromParsed(n,r,i,s){let o=i[r.axis],a=o===null?NaN:o,c=s&&i._stacks[r.axis];s&&c&&(s.values=c,a=oN(s,o,this._cachedMeta.index)),n.min=Math.min(n.min,a),n.max=Math.max(n.max,a)}getMinMax(n,r){let i=this._cachedMeta,s=i._parsed,o=i._sorted&&n===i.iScale,a=s.length,c=this._getOtherScale(n),l=N3(r,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=A3(c),g,y;function v(){y=s[g];let E=y[c.axis];return!Ve(y[n.axis])||h>E||f<E}for(g=0;g<a&&!(!v()&&(this.updateRangeFromParsed(d,n,y,l),o));++g);if(o){for(g=a-1;g>=0;--g)if(!v()){this.updateRangeFromParsed(d,n,y,l);break}}return d}getAllParsedValues(n){let r=this._cachedMeta._parsed,i=[],s,o,a;for(s=0,o=r.length;s<o;++s)a=r[s][n.axis],Ve(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(n){let r=this._cachedMeta,i=r.iScale,s=r.vScale,o=this.getParsed(n);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(n){let r=this._cachedMeta;this.update(n||"default"),r._clip=T3(K(this.options.clip,D3(r.xScale,r.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,r=this.chart,i=this._cachedMeta,s=i.data||[],o=r.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop,h;for(i.dataset&&i.dataset.draw(n,o,c,l),h=c;h<c+l;++h){let f=s[h];f.hidden||(f.active&&d?a.push(f):f.draw(n,o))}for(h=0;h<a.length;++h)a[h].draw(n,o)}getStyle(n,r){let i=r?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(n||0,i)}getContext(n,r,i){let s=this.getDataset(),o;if(n>=0&&n<this._cachedMeta.data.length){let a=this._cachedMeta.data[n];o=a.$context||(a.$context=M3(this.getContext(),n,a)),o.parsed=this.getParsed(n),o.raw=s.data[n],o.index=o.dataIndex=n}else o=this.$context||(this.$context=R3(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!r,o.mode=i,o}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,r){return this._resolveElementOptions(this.dataElementType.id,r,n)}_resolveElementOptions(n,r="default",i){let s=r==="active",o=this._cachedDataOpts,a=n+"-"+r,c=o[a],l=this.enableOptionSharing&&Ca(i);if(c)return lN(c,l);let d=this.chart.config,h=d.datasetElementScopeKeys(this._type,n),f=s?[`${n}Hover`,"hover",n,""]:[n,""],g=d.getOptionScopes(this.getDataset(),h),y=Object.keys(Le.elements[n]),v=()=>this.getContext(i,s,r),E=d.resolveNamedOptions(g,y,v,f);return E.$shared&&(E.$shared=l,o[a]=Object.freeze(lN(E,l))),E}_resolveAnimations(n,r,i){let s=this.chart,o=this._cachedDataOpts,a=`animation-${r}`,c=o[a];if(c)return c;let l;if(s.options.animation!==!1){let h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,r),g=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(g,this.getContext(n,i,r))}let d=new fp(s,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,r){return!r||rI(n)||this.chart._animationsDisabled}_getSharedOptions(n,r){let i=this.resolveDataElementOptions(n,r),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(r,o)||o!==s;return this.updateSharedOptions(o,r,i),{sharedOptions:o,includeOptions:a}}updateElement(n,r,i,s){rI(s)?Object.assign(n,i):this._resolveAnimations(r,s).update(n,i)}updateSharedOptions(n,r,i){n&&!rI(r)&&this._resolveAnimations(void 0,r).update(n,i)}_setStyle(n,r,i,s){n.active=s;let o=this.getStyle(r,s);this._resolveAnimations(r,i,s).update(n,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(n,r,i){this._setStyle(n,i,"active",!1)}setHoverStyle(n,r,i){this._setStyle(n,i,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let r=this._data,i=this._cachedMeta.data;for(let[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];let s=i.length,o=r.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,n):o<s&&this._removeElements(o,s-o)}_insertElements(n,r,i=!0){let s=this._cachedMeta,o=s.data,a=n+r,c,l=d=>{for(d.length+=r,c=d.length-1;c>=a;c--)d[c]=d[c-r]};for(l(o),c=n;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(n,r),i&&this.updateElements(o,n,r,"reset")}updateElements(n,r,i,s){}_removeElements(n,r){let i=this._cachedMeta;if(this._parsing){let s=i._parsed.splice(n,r);i._stacked&&Yl(i,s)}i.data.splice(n,r)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[r,i,s]=n;this[r](i,s)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,r){r&&this._sync(["_removeElements",n,r]);let i=arguments.length-2;i&&this._sync(["_insertElements",n,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function k3(t,e){if(!t._cache.$bar){let n=t.getMatchingVisibleMetas(e),r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=Pb(r.sort((i,s)=>i-s))}return t._cache.$bar}function P3(t){let e=t.iScale,n=k3(e,t.type),r=e._length,i,s,o,a,c=()=>{o===32767||o===-32768||(Ca(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),c();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),c();return r}function O3(t,e,n,r){let i=n.barThickness,s,o;return te(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function L3(t,e,n,r){let i=e.pixels,s=i[t],o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null,c=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);let l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/r,ratio:n.barPercentage,start:l}}function F3(t,e,n,r){let i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s),c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),e[n.axis]=l,e._custom={barStart:c,barEnd:l,start:i,end:s,min:o,max:a}}function sk(t,e,n,r){return ke(t)?F3(t,e,n,r):e[n.axis]=n.parse(t,r),e}function uN(t,e,n,r){let i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,c=[],l,d,h,f;for(l=n,d=n+r;l<d;++l)f=e[l],h={},h[i.axis]=a||i.parse(o[l],l),c.push(sk(f,h,s,l));return c}function iI(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function V3(t,e,n){return t!==0?Ln(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function j3(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function B3(t,e,n,r){let i=e.borderSkipped,s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:l,bottom:d}=j3(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=l:(n._bottom||0)===r?i=d:(s[dN(d,o,a,c)]=!0,i=l)),s[dN(i,o,a,c)]=!0,t.borderSkipped=s}function dN(t,e,n,r){return r?(t=U3(t,e,n),t=hN(t,n,e)):t=hN(t,e,n),t}function U3(t,e,n){return t===e?n:t===n?e:t}function hN(t,e,n){return t==="start"?e:t==="end"?n:t}function $3(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}var H3=(()=>{class t extends Mi{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,r,i,s){return uN(n,r,i,s)}parseArrayData(n,r,i,s){return uN(n,r,i,s)}parseObjectData(n,r,i,s){let{iScale:o,vScale:a}=n,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=o.axis==="x"?c:l,h=a.axis==="x"?c:l,f=[],g,y,v,E;for(g=i,y=i+s;g<y;++g)E=r[g],v={},v[o.axis]=o.parse(jr(E,d),g),f.push(sk(jr(E,h),v,a,g));return f}updateRangeFromParsed(n,r,i,s){super.updateRangeFromParsed(n,r,i,s);let o=i._custom;o&&r===this._cachedMeta.vScale&&(n.min=Math.min(n.min,o.min),n.max=Math.max(n.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let r=this._cachedMeta,{iScale:i,vScale:s}=r,o=this.getParsed(n),a=o._custom,c=iI(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,n)}updateElements(n,r,i,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:g}=this._getSharedOptions(r,s);for(let y=r;y<r+i;y++){let v=this.getParsed(y),E=o||te(v[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(y),S=this._calculateBarIndexPixels(y,h),x=(v._stacks||{})[c.axis],N={horizontal:d,base:E.base,enableBorderRadius:!x||iI(v._custom)||a===x._top||a===x._bottom,x:d?E.head:S.center,y:d?S.center:E.head,height:d?S.size:Math.abs(E.size),width:d?Math.abs(E.size):S.size};g&&(N.options=f||this.resolveDataElementOptions(y,n[y].active?"active":s));let P=N.options||n[y].options;B3(N,P,x,a),$3(N,P,h.ratio),this.updateElement(n[y],y,N,s)}}_getStacks(n,r){let{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),o=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(r),l=c&&c[i.axis],d=h=>{let f=h._parsed.find(y=>y[i.axis]===l),g=f&&f[h.vScale.axis];if(te(g)||isNaN(g))return!0};for(let h of s)if(!(r!==void 0&&d(h))&&((o===!1||a.indexOf(h.stack)===-1||o===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===n))break;return a.length||a.push(void 0),a}_getStackCount(n){return this._getStacks(void 0,n).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let n=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(n).filter(i=>n[i].axis===r).shift()}_getAxis(){let n={},r=this.getFirstScaleIdForIndexAxis();for(let i of this.chart.data.datasets)n[K(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,r)]=!0;return Object.keys(n)}_getStackIndex(n,r,i){let s=this._getStacks(n,i),o=r!==void 0?s.indexOf(r):-1;return o===-1?s.length-1:o}_getRuler(){let n=this.options,r=this._cachedMeta,i=r.iScale,s=[],o,a;for(o=0,a=r.data.length;o<a;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));let c=n.barThickness;return{min:c||P3(r),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:n.grouped,ratio:c?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:r,_stacked:i,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(n),d=l._custom,h=iI(d),f=l[r.axis],g=0,y=i?this.applyStack(r,l,i):f,v,E;y!==f&&(g=y-f,y=f),h&&(f=d.barStart,y=d.barEnd-d.barStart,f!==0&&Ln(f)!==Ln(d.barEnd)&&(g=0),g+=f);let S=!te(o)&&!h?o:g,x=r.getPixelForValue(S);if(this.chart.getDataVisibility(n)?v=r.getPixelForValue(g+y):v=x,E=v-x,Math.abs(E)<a){E=V3(E,r,c)*a,f===c&&(x-=E/2);let N=r.getPixelForDecimal(0),P=r.getPixelForDecimal(1),k=Math.min(N,P),O=Math.max(N,P);x=Math.max(Math.min(x,O),k),v=x+E,i&&!h&&(l._stacks[r.axis]._visualValues[s]=r.getValueForPixel(v)-r.getValueForPixel(x))}if(x===r.getPixelForValue(c)){let N=Ln(E)*r.getLineWidthForValue(c)/2;x+=N,E-=N}return{size:E,base:x,head:v,center:v+E/2}}_calculateBarIndexPixels(n,r){let i=r.scale,s=this.options,o=s.skipNull,a=K(s.maxBarThickness,1/0),c,l,d=this._getAxisCount();if(r.grouped){let h=o?this._getStackCount(n):r.stackCount,f=s.barThickness==="flex"?L3(n,r,s,h*d):O3(n,r,s,h*d),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(K(g,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,o?n:void 0)+y;c=f.start+f.chunk*v+f.chunk/2,l=Math.min(a,f.chunk*f.ratio)}else c=i.getPixelForValue(this.getParsed(n)[i.axis],n),l=Math.min(a,r.min*r.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let n=this._cachedMeta,r=n.vScale,i=n.data,s=i.length,o=0;for(;o<s;++o)this.getParsed(o)[r.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}return t})(),z3=(()=>{class t extends Mi{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,r,i,s){let o=super.parsePrimitiveData(n,r,i,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+i).radius;return o}parseArrayData(n,r,i,s){let o=super.parseArrayData(n,r,i,s);for(let a=0;a<o.length;a++){let c=r[i+a];o[a]._custom=K(c[2],this.resolveDataElementOptions(a+i).radius)}return o}parseObjectData(n,r,i,s){let o=super.parseObjectData(n,r,i,s);for(let a=0;a<o.length;a++){let c=r[i+a];o[a]._custom=K(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return o}getMaxOverflow(){let n=this._cachedMeta.data,r=0;for(let i=n.length-1;i>=0;--i)r=Math.max(r,n[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(n){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(n),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y),d=a._custom;return{label:i[n]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(n){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,n)}updateElements(n,r,i,s){let o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(r,s),h=a.axis,f=c.axis;for(let g=r;g<r+i;g++){let y=n[g],v=!o&&this.getParsed(g),E={},S=E[h]=o?a.getPixelForDecimal(.5):a.getPixelForValue(v[h]),x=E[f]=o?c.getBasePixel():c.getPixelForValue(v[f]);E.skip=isNaN(S)||isNaN(x),d&&(E.options=l||this.resolveDataElementOptions(g,y.active?"active":s),o&&(E.options.radius=0)),this.updateElement(y,g,E,s)}}resolveDataElementOptions(n,r){let i=this.getParsed(n),s=super.resolveDataElementOptions(n,r);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return r!=="active"&&(s.radius=0),s.radius+=K(i&&i._custom,o),s}}return t})();function W3(t,e,n){let r=1,i=1,s=0,o=0;if(e<Pe){let a=t,c=a+e,l=Math.cos(a),d=Math.sin(a),h=Math.cos(c),f=Math.sin(c),g=(N,P,k)=>Aa(N,a,c,!0)?1:Math.max(P,P*n,k,k*n),y=(N,P,k)=>Aa(N,a,c,!0)?-1:Math.min(P,P*n,k,k*n),v=g(0,l,h),E=g(We,d,f),S=y(he,l,h),x=y(he+We,d,f);r=(v-S)/2,i=(E-x)/2,s=-(v+S)/2,o=-(E+x)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}var kI=(()=>{class t extends Mi{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let r=n.data,{labels:{pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:c}}=n.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((l,d)=>{let f=n.getDatasetMeta(0).controller.getStyle(d);return{text:l,fillStyle:f.backgroundColor,fontColor:o,hidden:!n.getDataVisibility(d),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:s,pointStyle:i,borderRadius:a&&(c||f.borderRadius),index:d}}):[]}},onClick(n,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(n,r){super(n,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,r){let i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=l=>+i[l];if(se(i[n])){let{key:l="value"}=this._parsing;o=d=>+jr(i[d],l)}let a,c;for(a=n,c=n+r;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return vn(this.options.rotation-90)}_getCircumference(){return vn(this.options.circumference)}_getRotationExtents(){let n=Pe,r=-Pe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();n=Math.min(n,o),r=Math.max(r,o+a)}return{rotation:n,circumference:r-n}}update(n){let r=this.chart,{chartArea:i}=r,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min(RM(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:v,offsetY:E}=W3(f,h,l),S=(i.width-a)/g,x=(i.height-a)/y,N=Math.max(Math.min(S,x)/2,0),P=Sb(this.options.radius,N),k=Math.max(P*l,0),O=(P-k)/this._getVisibleDatasetWeightTotal();this.offsetX=v*P,this.offsetY=E*P,s.total=this.calculateTotal(),this.outerRadius=P-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*d,0),this.updateElements(o,0,o.length,n)}_circumference(n,r){let i=this.options,s=this._cachedMeta,o=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(n)||s._parsed[n]===null||s.data[n].hidden?0:this.calculateCircumference(s._parsed[n]*o/Pe)}updateElements(n,r,i,s){let o=s==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,h=(c.left+c.right)/2,f=(c.top+c.bottom)/2,g=o&&d.animateScale,y=g?0:this.innerRadius,v=g?0:this.outerRadius,{sharedOptions:E,includeOptions:S}=this._getSharedOptions(r,s),x=this._getRotation(),N;for(N=0;N<r;++N)x+=this._circumference(N,o);for(N=r;N<r+i;++N){let P=this._circumference(N,o),k=n[N],O={x:h+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+P,circumference:P,outerRadius:v,innerRadius:y};S&&(O.options=E||this.resolveDataElementOptions(N,k.active?"active":s)),x+=P,this.updateElement(k,N,O,s)}}calculateTotal(){let n=this._cachedMeta,r=n.data,i=0,s;for(s=0;s<r.length;s++){let o=n._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(n){let r=this._cachedMeta.total;return r>0&&!isNaN(n)?Pe*(Math.abs(n)/r):0}getLabelAndValue(n){let r=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=xa(r._parsed[n],i.options.locale);return{label:s[n]||"",value:o}}getMaxBorderWidth(n){let r=0,i=this.chart,s,o,a,c,l;if(!n){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),n=a.data,c=a.controller;break}}if(!n)return 0;for(s=0,o=n.length;s<o;++s)l=c.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(n){let r=0;for(let i=0,s=n.length;i<s;++i){let o=this.resolveDataElementOptions(i);r=Math.max(r,o.offset||0,o.hoverOffset||0)}return r}_getRingWeightOffset(n){let r=0;for(let i=0;i<n;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(n){return Math.max(K(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),q3=(()=>{class t extends Mi{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let r=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=r,a=this.chart._animationsDisabled,{start:c,count:l}=Fb(r,s,a);this._drawStart=c,this._drawCount=l,Vb(r)&&(c=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;let d=this.resolveDatasetElementOptions(n);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},n),this.updateElements(s,c,l,n)}updateElements(n,r,i,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,s),g=a.axis,y=c.axis,{spanGaps:v,segment:E}=this.options,S=qs(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||s==="none",N=r+i,P=n.length,k=r>0&&this.getParsed(r-1);for(let O=0;O<P;++O){let w=n[O],b=x?w:{};if(O<r||O>=N){b.skip=!0;continue}let I=this.getParsed(O),T=te(I[y]),C=b[g]=a.getPixelForValue(I[g],O),A=b[y]=o||T?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,I,l):I[y],O);b.skip=isNaN(C)||isNaN(A)||T,b.stop=O>0&&Math.abs(I[g]-k[g])>S,E&&(b.parsed=I,b.raw=d.data[O]),f&&(b.options=h||this.resolveDataElementOptions(O,w.active?"active":s)),x||this.updateElement(w,O,b,s),k=I}}getMaxOverflow(){let n=this._cachedMeta,r=n.dataset,i=r.options&&r.options.borderWidth||0,s=n.data||[];if(!s.length)return i;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,a)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}return t})(),ok=(()=>{class t extends Mi{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let r=n.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:s}}=n.legend.options;return r.labels.map((o,a)=>{let l=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(n,r){super(n,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let r=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=xa(r._parsed[n].r,i.options.locale);return{label:s[n]||"",value:o}}parseObjectData(n,r,i,s){return Gb.bind(this)(n,r,i,s)}update(n){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,n)}getMinMax(){let n=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((i,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<r.min&&(r.min=o),o>r.max&&(r.max=o))}),r}_updateRadius(){let n=this.chart,r=n.chartArea,i=n.options,s=Math.min(r.right-r.left,r.bottom-r.top),o=Math.max(s/2,0),a=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),c=(o-a)/n.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(n,r,i,s){let o=s==="reset",a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,f=d.yCenter,g=d.getIndexAngle(0)-.5*he,y=g,v,E=360/this.countVisibleElements();for(v=0;v<r;++v)y+=this._computeAngle(v,s,E);for(v=r;v<r+i;v++){let S=n[v],x=y,N=y+this._computeAngle(v,s,E),P=a.getDataVisibility(v)?d.getDistanceFromCenterForValue(this.getParsed(v).r):0;y=N,o&&(l.animateScale&&(P=0),l.animateRotate&&(x=N=g));let k={x:h,y:f,innerRadius:0,outerRadius:P,startAngle:x,endAngle:N,options:this.resolveDataElementOptions(v,S.active?"active":s)};this.updateElement(S,v,k,s)}}countVisibleElements(){let n=this._cachedMeta,r=0;return n.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&r++}),r}_computeAngle(n,r,i){return this.chart.getDataVisibility(n)?vn(this.resolveDataElementOptions(n,r).angle||i):0}}return t})(),G3=(()=>{class t extends kI{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),K3=(()=>{class t extends Mi{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(n){let r=this._cachedMeta.vScale,i=this.getParsed(n);return{label:r.getLabels()[n],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(n,r,i,s){return Gb.bind(this)(n,r,i,s)}update(n){let r=this._cachedMeta,i=r.dataset,s=r.data||[],o=r.iScale.getLabels();if(i.points=s,n!=="resize"){let a=this.resolveDatasetElementOptions(n);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(i,void 0,c,n)}this.updateElements(s,0,s.length,n)}updateElements(n,r,i,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let c=r;c<r+i;c++){let l=n[c],d=this.resolveDataElementOptions(c,l.active?"active":s),h=o.getPointPositionForValue(c,this.getParsed(c).r),f=a?o.xCenter:h.x,g=a?o.yCenter:h.y,y={x:f,y:g,angle:h.angle,skip:isNaN(f)||isNaN(g),options:d};this.updateElement(l,c,y,s)}}}return t})(),Y3=(()=>{class t extends Mi{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(n){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(n),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:i[n]||"",value:"("+c+", "+l+")"}}update(n){let r=this._cachedMeta,{data:i=[]}=r,s=this.chart._animationsDisabled,{start:o,count:a}=Fb(r,i,s);if(this._drawStart=o,this._drawCount=a,Vb(r)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=i;let d=this.resolveDatasetElementOptions(n);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},n)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(n,r,i,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(r,s),f=this.getSharedOptions(h),g=this.includeOptions(s,f),y=a.axis,v=c.axis,{spanGaps:E,segment:S}=this.options,x=qs(E)?E:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||o||s==="none",P=r>0&&this.getParsed(r-1);for(let k=r;k<r+i;++k){let O=n[k],w=this.getParsed(k),b=N?O:{},I=te(w[v]),T=b[y]=a.getPixelForValue(w[y],k),C=b[v]=o||I?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,w,l):w[v],k);b.skip=isNaN(T)||isNaN(C)||I,b.stop=k>0&&Math.abs(w[y]-P[y])>x,S&&(b.parsed=w,b.raw=d.data[k]),g&&(b.options=f||this.resolveDataElementOptions(k,O.active?"active":s)),N||this.updateElement(O,k,b,s),P=w}this.updateSharedOptions(f,s,h)}getMaxOverflow(){let n=this._cachedMeta,r=n.data||[];if(!this.options.showLine){let c=0;for(let l=r.length-1;l>=0;--l)c=Math.max(c,r[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let i=n.dataset,s=i.options&&i.options.borderWidth||0;if(!r.length)return s;let o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,a)/2}}return t})(),Q3=Object.freeze({__proto__:null,BarController:H3,BubbleController:z3,DoughnutController:kI,LineController:q3,PieController:G3,PolarAreaController:ok,RadarController:K3,ScatterController:Y3});function Ks(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var pI=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ks()}parse(){return Ks()}format(){return Ks()}add(){return Ks()}diff(){return Ks()}startOf(){return Ks()}endOf(){return Ks()}},X3={_date:pI};function Z3(t,e,n,r){let{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){let l=a._reversePixels?LM:er;if(r){if(i._sharedOptions){let d=s[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){let f=l(s,e,n-h),g=l(s,e,n+h);return{lo:f.lo,hi:g.hi}}}}else{let d=l(s,e,n);if(c){let{vScale:h}=i._cachedMeta,{_parsed:f}=t,g=f.slice(0,d.lo+1).reverse().findIndex(v=>!te(v[h.axis]));d.lo-=Math.max(0,g);let y=f.slice(d.hi).findIndex(v=>!te(v[h.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:s.length-1}}function su(t,e,n,r,i){let s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=s.length;a<c;++a){let{index:l,data:d}=s[a],{lo:h,hi:f}=Z3(s[a],e,o,i);for(let g=h;g<=f;++g){let y=d[g];y.skip||r(y,l,g)}}}function J3(t){let e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){let s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function sI(t,e,n,r,i){let s=[];return!i&&!t.isPointInArea(e)||su(t,n,e,function(a,c,l){!i&&!tr(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:c,index:l})},!0),s}function eW(t,e,n,r){let i=[];function s(o,a,c){let{startAngle:l,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:h}=Nb(o,{x:e.x,y:e.y});Aa(h,l,d)&&i.push({element:o,datasetIndex:a,index:c})}return su(t,n,e,s),i}function tW(t,e,n,r,i,s){let o=[],a=J3(n),c=Number.POSITIVE_INFINITY;function l(d,h,f){let g=d.inRange(e.x,e.y,i);if(r&&!g)return;let y=d.getCenterPoint(i);if(!(!!s||t.isPointInArea(y))&&!g)return;let E=a(e,y);E<c?(o=[{element:d,datasetIndex:h,index:f}],c=E):E===c&&o.push({element:d,datasetIndex:h,index:f})}return su(t,n,e,l),o}function oI(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?eW(t,e,n,i):tW(t,e,n,r,i,s)}function fN(t,e,n,r,i){let s=[],o=n==="x"?"inXRange":"inYRange",a=!1;return su(t,n,e,(c,l,d)=>{c[o]&&c[o](e[n],i)&&(s.push({element:c,datasetIndex:l,index:d}),a=a||c.inRange(e.x,e.y,i))}),r&&!a?[]:s}var nW={evaluateInteractionItems:su,modes:{index(t,e,n,r){let i=xi(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?sI(t,i,s,r,o):oI(t,i,s,!1,r,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{let d=a[0].index,h=l.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:d})}),c):[]},dataset(t,e,n,r){let i=xi(e,t),s=n.axis||"xy",o=n.includeInvisible||!1,a=n.intersect?sI(t,i,s,r,o):oI(t,i,s,!1,r,o);if(a.length>0){let c=a[0].datasetIndex,l=t.getDatasetMeta(c).data;a=[];for(let d=0;d<l.length;++d)a.push({element:l[d],datasetIndex:c,index:d})}return a},point(t,e,n,r){let i=xi(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return sI(t,i,s,r,o)},nearest(t,e,n,r){let i=xi(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return oI(t,i,s,n.intersect,r,o)},x(t,e,n,r){let i=xi(e,t);return fN(t,i,"x",n.intersect,r)},y(t,e,n,r){let i=xi(e,t);return fN(t,i,"y",n.intersect,r)}}},ak=["left","top","right","bottom"];function Ql(t,e){return t.filter(n=>n.pos===e)}function pN(t,e){return t.filter(n=>ak.indexOf(n.pos)===-1&&n.box.axis===e)}function Xl(t,e){return t.sort((n,r)=>{let i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function rW(t){let e=[],n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function iW(t){let e={};for(let n of t){let{stack:r,pos:i,stackWeight:s}=n;if(!r||!ak.includes(i))continue;let o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function sW(t,e){let n=iW(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e,s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];let{fullSize:c}=a.box,l=n[a.stack],d=l&&a.stackWeight/l.weight;a.horizontal?(a.width=d?d*r:c&&e.availableWidth,a.height=i):(a.width=r,a.height=d?d*i:c&&e.availableHeight)}return n}function oW(t){let e=rW(t),n=Xl(e.filter(l=>l.box.fullSize),!0),r=Xl(Ql(e,"left"),!0),i=Xl(Ql(e,"right")),s=Xl(Ql(e,"top"),!0),o=Xl(Ql(e,"bottom")),a=pN(e,"x"),c=pN(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:Ql(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(o).concat(a)}}function gN(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function ck(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function aW(t,e,n,r){let{pos:i,box:s}=n,o=t.maxPadding;if(!se(i)){n.size&&(t[i]-=n.size);let h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&ck(o,s.getPadding());let a=Math.max(0,e.outerWidth-gN(o,t,"left","right")),c=Math.max(0,e.outerHeight-gN(o,t,"top","bottom")),l=a!==t.w,d=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:l,other:d}:{same:d,other:l}}function cW(t){let e=t.maxPadding;function n(r){let i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function lW(t,e){let n=e.maxPadding;function r(i){let s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function eu(t,e,n,r){let i=[],s,o,a,c,l,d;for(s=0,o=t.length,l=0;s<o;++s){a=t[s],c=a.box,c.update(a.width||e.w,a.height||e.h,lW(a.horizontal,e));let{same:h,other:f}=aW(e,n,a,r);l|=h&&i.length,d=d||f,c.fullSize||i.push(a)}return l&&eu(i,e,n,r)||d}function sp(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function mN(t,e,n,r){let i=n.padding,{x:s,y:o}=e;for(let a of t){let c=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/l.weight||1;if(a.horizontal){let h=e.w*d,f=l.size||c.height;Ca(l.start)&&(o=l.start),c.fullSize?sp(c,i.left,o,n.outerWidth-i.right-i.left,f):sp(c,e.left+l.placed,o,h,f),l.start=o,l.placed+=h,o=c.bottom}else{let h=e.h*d,f=l.size||c.width;Ca(l.start)&&(s=l.start),c.fullSize?sp(c,s,i.top,f,n.outerHeight-i.bottom-i.top):sp(c,s,e.top+l.placed,f,h),l.start=s,l.placed+=h,s=c.right}}e.x=s,e.y=o}var Pt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){let n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;let i=Dt(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=oW(t.boxes),c=a.vertical,l=a.horizontal;be(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});let d=c.reduce((v,E)=>E.box.options&&E.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},i);ck(f,Dt(r));let g=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),y=sW(c.concat(l),h);eu(a.fullSize,g,h,y),eu(c,g,h,y),eu(l,g,h,y)&&eu(c,g,h,y),cW(g),mN(a.leftAndTop,g,h,y),g.x+=g.w,g.y+=g.h,mN(a.rightAndBottom,g,h,y),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},be(a.chartArea,v=>{let E=v.box;Object.assign(E,t.chartArea),E.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},pp=class{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}},gI=class extends pp{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},dp="$chartjs",uW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yN=t=>t===null||t==="";function dW(t,e){let n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[dp]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",yN(i)){let s=Yb(t,"width");s!==void 0&&(t.width=s)}if(yN(r))if(t.style.height==="")t.height=t.width/(e||2);else{let s=Yb(t,"height");s!==void 0&&(t.height=s)}return t}var lk=JM?{passive:!0}:!1;function hW(t,e,n){t&&t.addEventListener(e,n,lk)}function fW(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,lk)}function pW(t,e){let n=uW[t.type]||t.type,{x:r,y:i}=xi(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function gp(t,e){for(let n of t)if(n===e||n.contains(e))return!0}function gW(t,e,n){let r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||gp(a.addedNodes,r),o=o&&!gp(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function mW(t,e,n){let r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||gp(a.removedNodes,r),o=o&&!gp(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}var nu=new Map,vN=0;function uk(){let t=window.devicePixelRatio;t!==vN&&(vN=t,nu.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function yW(t,e){nu.size||window.addEventListener("resize",uk),nu.set(t,e)}function vW(t){nu.delete(t),nu.size||window.removeEventListener("resize",uk)}function _W(t,e,n){let r=t.canvas,i=r&&rp(r);if(!i)return;let s=Lb((a,c)=>{let l=i.clientWidth;n(a,c),l<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,d=c.contentRect.height;l===0&&d===0||s(l,d)});return o.observe(i),yW(t,s),o}function aI(t,e,n){n&&n.disconnect(),e==="resize"&&vW(t)}function EW(t,e,n){let r=t.canvas,i=Lb(s=>{t.ctx!==null&&n(pW(s,t))},t);return hW(r,e,i),i}var mI=class extends pp{acquireContext(e,n){let r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(dW(e,n),r):null}releaseContext(e){let n=e.canvas;if(!n[dp])return!1;let r=n[dp].initial;["height","width"].forEach(s=>{let o=r[s];te(o)?n.removeAttribute(s):n.setAttribute(s,o)});let i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[dp],!0}addEventListener(e,n,r){this.removeEventListener(e,n);let i=e.$proxies||(e.$proxies={}),o={attach:gW,detach:mW,resize:_W}[n]||EW;i[n]=o(e,n,r)}removeEventListener(e,n){let r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:aI,detach:aI,resize:aI}[n]||fW)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return ZM(e,n,r,i)}isAttached(e){let n=e&&rp(e);return!!(n&&n.isConnected)}};function bW(t){return!np()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?gI:mI}var Fn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return qs(this.x)&&qs(this.y)}getProps(e,n){let r=this.$animations;if(!n||!r)return this;let i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function IW(t,e){let n=t.options.ticks,r=wW(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?TW(e):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>i)return CW(e,l,s,o/i),l;let d=DW(s,e,i);if(o>0){let h,f,g=o>1?Math.round((c-a)/(o-1)):null;for(op(e,l,d,te(g)?0:a-g,a),h=0,f=o-1;h<f;h++)op(e,l,d,s[h],s[h+1]);return op(e,l,d,c,te(g)?e.length:c+g),l}return op(e,l,d),l}function wW(t){let e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function DW(t,e,n){let r=SW(t),i=e.length/n;if(!r)return Math.max(i,1);let s=kM(r);for(let o=0,a=s.length-1;o<a;o++){let c=s[o];if(c>i)return c}return Math.max(i,1)}function TW(t){let e=[],n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function CW(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function op(t,e,n,r,i){let s=K(r,0),o=Math.min(K(i,t.length),t.length),a=0,c,l,d;for(n=Math.ceil(n),i&&(c=i-r,n=c/Math.floor(c/n)),d=s;d<0;)a++,d=Math.round(s+a*n);for(l=Math.max(s,0);l<o;l++)l===d&&(e.push(t[l]),a++,d=Math.round(s+a*n))}function SW(t){let e=t.length,n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}var AW=t=>t==="left"?"right":t==="right"?"left":t,_N=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,EN=(t,e)=>Math.min(e||t,t);function bN(t,e){let n=[],r=t.length/e,i=t.length,s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function xW(t,e,n){let r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6,c=t.getPixelForTick(i),l;if(!(n&&(r===1?l=Math.max(c-s,o-c):e===0?l=(t.getPixelForTick(1)-c)/2:l=(c-t.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<s-a||c>o+a)))return c}function RW(t,e){be(t,n=>{let r=n.gc,i=r.length/2,s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Zl(t){return t.drawTicks?t.tickLength:0}function IN(t,e){if(!t.display)return 0;let n=st(t.font,e),r=Dt(t.padding);return(ke(t.text)?t.text.length:1)*n.lineHeight+r.height}function MW(t,e){return Br(t,{scale:e,type:"scale"})}function NW(t,e,n){return Br(t,{tick:n,index:e,type:"tick"})}function kW(t,e,n){let r=Xf(t);return(n&&e!=="right"||!n&&e==="right")&&(r=AW(r)),r}function PW(t,e,n,r){let{top:i,left:s,bottom:o,right:a,chart:c}=t,{chartArea:l,scales:d}=c,h=0,f,g,y,v=o-i,E=a-s;if(t.isHorizontal()){if(g=wt(r,s,a),se(n)){let S=Object.keys(n)[0],x=n[S];y=d[S].getPixelForValue(x)+v-e}else n==="center"?y=(l.bottom+l.top)/2+v-e:y=_N(t,n,e);f=a-s}else{if(se(n)){let S=Object.keys(n)[0],x=n[S];g=d[S].getPixelForValue(x)-E+e}else n==="center"?g=(l.left+l.right)/2-E+e:g=_N(t,n,e);y=wt(r,o,i),h=n==="left"?-We:We}return{titleX:g,titleY:y,maxWidth:f,rotation:h}}var Qs=class t extends Fn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=qt(e,Number.POSITIVE_INFINITY),n=qt(n,Number.NEGATIVE_INFINITY),r=qt(r,Number.POSITIVE_INFINITY),i=qt(i,Number.NEGATIVE_INFINITY),{min:qt(e,r),max:qt(n,i),minDefined:Ve(e),maxDefined:Ve(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:qt(n,qt(r,n)),max:qt(r,qt(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xe(this.options.beforeUpdate,[this])}update(e,n,r){let{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qM(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?bN(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=IW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xe(this.options.afterUpdate,[this])}beforeSetDimensions(){xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let n=this.options.ticks,r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=xe(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,n=e.ticks,r=EN(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation,o=i,a,c,l;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}let d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,g=lt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:g/(r-1),h+6>a&&(a=g/(r-(e.offset?.5:1)),c=this.maxHeight-Zl(e.grid)-n.padding-IN(e.title,this.chart.options.font),l=Math.sqrt(h*h+f*f),o=Yf(Math.min(Math.asin(lt((d.highest.height+6)/a,-1,1)),Math.asin(lt(c/l,-1,1))-Math.asin(lt(f/l,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xe(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=IN(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Zl(s)+c):(e.height=this.maxHeight,e.width=Zl(s)+c),r.display&&this.ticks.length){let{first:l,last:d,widest:h,highest:f}=this._getLabelSizes(),g=r.padding*2,y=vn(this.labelRotation),v=Math.cos(y),E=Math.sin(y);if(a){let S=r.mirror?0:E*h.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+S+g)}else{let S=r.mirror?0:v*h.width+E*f.height;e.width=Math.min(this.maxWidth,e.width+S+g)}this._calculatePadding(l,d,E,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){let{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),f=0,g=0;c?l?(f=i*e.width,g=r*n.height):(f=r*e.height,g=i*n.width):s==="start"?g=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;s==="start"?(d=0,h=e.height):s==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xe(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)te(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let n=this.options.ticks.sampleSize,r=this.ticks;n<r.length&&(r=bN(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){let{ctx:i,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(n/EN(n,r)),l=0,d=0,h,f,g,y,v,E,S,x,N,P,k;for(h=0;h<n;h+=c){if(y=e[h].label,v=this._resolveTickFontOptions(h),i.font=E=v.string,S=s[E]=s[E]||{data:{},gc:[]},x=v.lineHeight,N=P=0,!te(y)&&!ke(y))N=zl(i,S.data,S.gc,N,y),P=x;else if(ke(y))for(f=0,g=y.length;f<g;++f)k=y[f],!te(k)&&!ke(k)&&(N=zl(i,S.data,S.gc,N,k),P+=x);o.push(N),a.push(P),l=Math.max(N,l),d=Math.max(P,d)}RW(s,n);let O=o.indexOf(l),w=a.indexOf(d),b=I=>({width:o[I]||0,height:a[I]||0});return{first:b(0),last:b(n-1),widest:b(O),highest:b(w),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let n=this._startPixel+e*this._length;return OM(this._alignToPixels?Ci(this.chart,n,0):n)}getDecimalForPixel(e){let n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){let n=this.ticks||[];if(e>=0&&e<n.length){let r=n[e];return r.$context||(r.$context=NW(this.getContext(),e,r))}return this.$context||(this.$context=MW(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,n=vn(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,c=s.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Zl(s),g=[],y=a.setContext(this.getContext()),v=y.display?y.width:0,E=v/2,S=function(Re){return Ci(r,Re,v)},x,N,P,k,O,w,b,I,T,C,A,D;if(o==="top")x=S(this.bottom),w=this.bottom-f,I=x-E,C=S(e.top)+E,D=e.bottom;else if(o==="bottom")x=S(this.top),C=e.top,D=S(e.bottom)-E,w=x+E,I=this.top+f;else if(o==="left")x=S(this.right),O=this.right-f,b=x-E,T=S(e.left)+E,A=e.right;else if(o==="right")x=S(this.left),T=e.left,A=S(e.right)-E,O=x+E,b=this.left+f;else if(n==="x"){if(o==="center")x=S((e.top+e.bottom)/2+.5);else if(se(o)){let Re=Object.keys(o)[0],Ce=o[Re];x=S(this.chart.scales[Re].getPixelForValue(Ce))}C=e.top,D=e.bottom,w=x+E,I=w+f}else if(n==="y"){if(o==="center")x=S((e.left+e.right)/2);else if(se(o)){let Re=Object.keys(o)[0],Ce=o[Re];x=S(this.chart.scales[Re].getPixelForValue(Ce))}O=x-E,b=O-f,T=e.left,A=e.right}let Fe=K(i.ticks.maxTicksLimit,h),ce=Math.max(1,Math.ceil(h/Fe));for(N=0;N<h;N+=ce){let Re=this.getContext(N),Ce=s.setContext(Re),gt=a.setContext(Re),Xe=Ce.lineWidth,or=Ce.color,Xs=gt.dash||[],Ot=gt.dashOffset,je=Ce.tickWidth,ar=Ce.tickColor,_n=Ce.tickBorderDash||[],cr=Ce.tickBorderDashOffset;P=xW(this,N,c),P!==void 0&&(k=Ci(r,P,Xe),l?O=b=T=A=k:w=I=C=D=k,g.push({tx1:O,ty1:w,tx2:b,ty2:I,x1:T,y1:C,x2:A,y2:D,width:Xe,color:or,borderDash:Xs,borderDashOffset:Ot,tickWidth:je,tickColor:ar,tickBorderDash:_n,tickBorderDashOffset:cr}))}return this._ticksLength=h,this._borderValue=x,g}_computeLabelItems(e){let n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:d,mirror:h}=s,f=Zl(r.grid),g=f+d,y=h?-d:g,v=-vn(this.labelRotation),E=[],S,x,N,P,k,O,w,b,I,T,C,A,D="middle";if(i==="top")O=this.bottom-y,w=this._getXAxisLabelAlignment();else if(i==="bottom")O=this.top+y,w=this._getXAxisLabelAlignment();else if(i==="left"){let ce=this._getYAxisLabelAlignment(f);w=ce.textAlign,k=ce.x}else if(i==="right"){let ce=this._getYAxisLabelAlignment(f);w=ce.textAlign,k=ce.x}else if(n==="x"){if(i==="center")O=(e.top+e.bottom)/2+g;else if(se(i)){let ce=Object.keys(i)[0],Re=i[ce];O=this.chart.scales[ce].getPixelForValue(Re)+g}w=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")k=(e.left+e.right)/2-g;else if(se(i)){let ce=Object.keys(i)[0],Re=i[ce];k=this.chart.scales[ce].getPixelForValue(Re)}w=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?D="top":c==="end"&&(D="bottom"));let Fe=this._getLabelSizes();for(S=0,x=a.length;S<x;++S){N=a[S],P=N.label;let ce=s.setContext(this.getContext(S));b=this.getPixelForTick(S)+s.labelOffset,I=this._resolveTickFontOptions(S),T=I.lineHeight,C=ke(P)?P.length:1;let Re=C/2,Ce=ce.color,gt=ce.textStrokeColor,Xe=ce.textStrokeWidth,or=w;o?(k=b,w==="inner"&&(S===x-1?or=this.options.reverse?"left":"right":S===0?or=this.options.reverse?"right":"left":or="center"),i==="top"?l==="near"||v!==0?A=-C*T+T/2:l==="center"?A=-Fe.highest.height/2-Re*T+T:A=-Fe.highest.height+T/2:l==="near"||v!==0?A=T/2:l==="center"?A=Fe.highest.height/2-Re*T:A=Fe.highest.height-C*T,h&&(A*=-1),v!==0&&!ce.showLabelBackdrop&&(k+=T/2*Math.sin(v))):(O=b,A=(1-C)*T/2);let Xs;if(ce.showLabelBackdrop){let Ot=Dt(ce.backdropPadding),je=Fe.heights[S],ar=Fe.widths[S],_n=A-Ot.top,cr=0-Ot.left;switch(D){case"middle":_n-=je/2;break;case"bottom":_n-=je;break}switch(w){case"center":cr-=ar/2;break;case"right":cr-=ar;break;case"inner":S===x-1?cr-=ar:S>0&&(cr-=ar/2);break}Xs={left:cr,top:_n,width:ar+Ot.width,height:je+Ot.height,color:ce.backdropColor}}E.push({label:P,font:I,textOffset:A,options:{rotation:v,color:Ce,strokeColor:gt,strokeWidth:Xe,textAlign:or,textBaseline:D,translation:[k,O],backdrop:Xs}})}return E}_getXAxisLabelAlignment(){let{position:e,ticks:n}=this.options;if(-vn(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){let{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,c=o.widest.width,l,d;return n==="left"?i?(d=this.right+s,r==="near"?l="left":r==="center"?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-a,r==="near"?l="right":r==="center"?(l="center",d-=c/2):(l="left",d=this.left)):n==="right"?i?(d=this.left+s,r==="near"?l="right":r==="center"?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+a,r==="near"?l="left":r==="center"?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){let n=this.options.grid;if(!this._isVisible()||!n.display)return 0;let i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,o,a=(c,l,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){let c=i[s];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;let a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,d,h,f;this.isHorizontal()?(l=Ci(e,this.left,o)-o/2,d=Ci(e,this.right,a)+a/2,h=f=c):(h=Ci(e,this.top,o)-o/2,f=Ci(e,this.bottom,a)+a/2,l=d=c),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(l,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;let r=this.ctx,i=this._computeLabelArea();i&&Gl(r,i);let s=this.getLabelItems(e);for(let o of s){let a=o.options,c=o.font,l=o.label,d=o.textOffset;Si(r,l,0,d,c,a)}i&&Kl(r)}drawTitle(){let{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;let s=st(r.font),o=Dt(r.padding),a=r.align,c=s.lineHeight/2;n==="bottom"||n==="center"||se(n)?(c+=o.bottom,ke(r.text)&&(c+=s.lineHeight*(r.text.length-1))):c+=o.top;let{titleX:l,titleY:d,maxWidth:h,rotation:f}=PW(this,c,n,a);Si(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:f,textAlign:kW(a,n,i),textBaseline:"middle",translation:[l,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,n=e.ticks&&e.ticks.z||0,r=K(e.grid&&e.grid.z,-1),i=K(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[],s,o;for(s=0,o=n.length;s<o;++s){let a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){let n=this.options.ticks.setContext(this.getContext(e));return st(n.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},ka=class{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let n=Object.getPrototypeOf(e),r;FW(n)&&(r=this.register(n));let i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,OW(e,o,r),this.override&&Le.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Le[i]&&(delete Le[i][r],this.override&&delete Ti[r])}};function OW(t,e,n){let r=wa(Object.create(null),[n?Le.get(n):{},Le.get(e),t.defaults]);Le.set(e,r),t.defaultRoutes&&LW(e,t.defaultRoutes),t.descriptors&&Le.describe(e,t.descriptors)}function LW(t,e){Object.keys(e).forEach(n=>{let r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");Le.route(s,i,c,a)})}function FW(t){return"id"in t&&"defaults"in t}var yI=class{constructor(){this.controllers=new ka(Mi,"datasets",!0),this.elements=new ka(Fn,"elements"),this.plugins=new ka(Object,"plugins"),this.scales=new ka(Qs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{let s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):be(i,o=>{let a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){let i=Kf(e);xe(r["before"+i],[],r),n[e](r),xe(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){let r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){let i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}},sr=new yI,vI=class{constructor(){this._init=void 0}notify(e,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;let s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,r,i){i=i||{};for(let s of e){let o=s.plugin,a=o[r],c=[n,i,s.options];if(xe(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){te(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){let r=e&&e.config,i=K(r.options&&r.options.plugins,{}),s=VW(r);return i===!1&&!n?[]:BW(e,s,i,n)}_notifyStateChanges(e){let n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}};function VW(t){let e={},n=[],r=Object.keys(sr.plugins.items);for(let s=0;s<r.length;s++)n.push(sr.getPlugin(r[s]));let i=t.plugins||[];for(let s=0;s<i.length;s++){let o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function jW(t,e){return!e&&t===!1?null:t===!0?{}:t}function BW(t,{plugins:e,localIds:n},r,i){let s=[],o=t.getContext();for(let a of e){let c=a.id,l=jW(r[c],i);l!==null&&s.push({plugin:a,options:UW(t.config,{plugin:a,local:n[c]},l,o)})}return s}function UW(t,{plugin:e,local:n},r,i){let s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function _I(t,e){let n=Le.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function $W(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function HW(t,e){return t===e?"_index_":"_value_"}function wN(t){if(t==="x"||t==="y"||t==="r")return t}function zW(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function EI(t,...e){if(wN(t))return t;for(let n of e){let r=n.axis||zW(n.position)||t.length>1&&wN(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function DN(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function WW(t,e){if(e.data&&e.data.datasets){let n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return DN(t,"x",n[0])||DN(t,"y",n[0])}return{}}function qW(t,e){let n=Ti[t.type]||{scales:{}},r=e.scales||{},i=_I(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{let a=r[o];if(!se(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=EI(o,a,WW(o,t),Le.scales[a.type]),l=HW(c,i),d=n.scales||{};s[o]=Ta(Object.create(null),[{axis:c},a,d[c],d[l]])}),t.data.datasets.forEach(o=>{let a=o.type||t.type,c=o.indexAxis||_I(a,e),d=(Ti[a]||{}).scales||{};Object.keys(d).forEach(h=>{let f=$W(h,c),g=o[f+"AxisID"]||f;s[g]=s[g]||Object.create(null),Ta(s[g],[{axis:f},r[g],d[h]])})}),Object.keys(s).forEach(o=>{let a=s[o];Ta(a,[Le.scales[a.type],Le.scale])}),s}function dk(t){let e=t.options||(t.options={});e.plugins=K(e.plugins,{}),e.scales=qW(t,e)}function hk(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function GW(t){return t=t||{},t.data=hk(t.data),dk(t),t}var TN=new Map,fk=new Set;function ap(t,e){let n=TN.get(t);return n||(n=e(),TN.set(t,n),fk.add(n)),n}var Jl=(t,e,n)=>{let r=jr(e,n);r!==void 0&&t.add(r)},bI=class{constructor(e){this._config=GW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=hk(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),dk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ap(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ap(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ap(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){let n=e.id,r=this.type;return ap(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){let r=this._scopeCache,i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){let{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;let c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(h=>Jl(c,e,h))),d.forEach(h=>Jl(c,i,h)),d.forEach(h=>Jl(c,Ti[s]||{},h)),d.forEach(h=>Jl(c,Le,h)),d.forEach(h=>Jl(c,Zf,h))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),fk.has(n)&&o.set(n,l),l}chartOptionScopes(){let{options:e,type:n}=this;return[e,Ti[n]||{},Le.datasets[n]||{},{type:n},Le,Zf]}resolveNamedOptions(e,n,r,i=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=CN(this._resolverCache,e,i),c=o;if(YW(o,n)){s.$shared=!1,r=Fr(r)?r():r;let l=this.createResolver(e,r,a);c=Ws(o,r,l)}for(let l of n)s[l]=c[l];return s}createResolver(e,n,r=[""],i){let{resolver:s}=CN(this._resolverCache,e,r);return se(n)?Ws(s,n,void 0,i):s}};function CN(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));let i=n.join(),s=r.get(i);return s||(s={resolver:tp(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}var KW=t=>se(t)&&Object.getOwnPropertyNames(t).some(e=>Fr(t[e]));function YW(t,e){let{isScriptable:n,isIndexable:r}=zb(t);for(let i of e){let s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Fr(a)||KW(a))||o&&ke(a))return!0}return!1}var QW="4.5.1",XW=["top","bottom","left","right","chartArea"];function SN(t,e){return t==="top"||t==="bottom"||XW.indexOf(t)===-1&&e==="x"}function AN(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function xN(t){let e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),xe(n&&n.onComplete,[t],e)}function ZW(t){let e=t.chart,n=e.options.animation;xe(n&&n.onProgress,[t],e)}function pk(t){return np()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var hp={},RN=t=>{let e=pk(t);return Object.values(hp).filter(n=>n.canvas===e).pop()};function JW(t,e,n){let r=Object.keys(t);for(let i of r){let s=+i;if(s>=e){let o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function e5(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var _p=(()=>{class t{static defaults=Le;static instances=hp;static overrides=Ti;static registry=sr;static version=QW;static getChart=RN;static register(...n){sr.add(...n),MN()}static unregister(...n){sr.remove(...n),MN()}constructor(n,r){let i=this.config=new bI(r),s=pk(n),o=RN(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||bW(s)),this.platform.updateConfig(i);let c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,h=l&&l.width;if(this.id=xM(),this.ctx=c,this.canvas=l,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new vI,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=BM(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],hp[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ur.listen(this,"complete",xN),Ur.listen(this,"progress",ZW),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:r},width:i,height:s,_aspectRatio:o}=this;return te(n)?r&&o?o:s?i/s:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return sr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Kb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ub(this.canvas,this.ctx),this}stop(){return Ur.stop(this),this}resize(n,r){Ur.running(this)?this._resizeBeforeDraw={width:n,height:r}:this._resize(n,r)}_resize(n,r){let i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,n,r,o),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Kb(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),xe(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};be(r,(i,s)=>{i.id=s})}buildOrUpdateScales(){let n=this.options,r=n.scales,i=this.scales,s=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{}),o=[];r&&(o=o.concat(Object.keys(r).map(a=>{let c=r[a],l=EI(a,c),d=l==="r",h=l==="x";return{options:c,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),be(o,a=>{let c=a.options,l=c.id,d=EI(l,c),h=K(c.type,a.dtype);(c.position===void 0||SN(c.position,d)!==SN(a.dposition))&&(c.position=a.dposition),s[l]=!0;let f=null;if(l in i&&i[l].type===h)f=i[l];else{let g=sr.getScale(h);f=new g({id:l,type:h,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(c,n)}),be(s,(a,c)=>{a||delete i[c]}),be(i,a=>{Pt.configure(this,a,a.options),Pt.addBox(this,a)})}_updateMetasets(){let n=this._metasets,r=this.data.datasets.length,i=n.length;if(n.sort((s,o)=>s.index-o.index),i>r){for(let s=r;s<i;++s)this._destroyDatasetMeta(s);n.splice(r,i-r)}this._sortedMetasets=n.slice(0).sort(AN("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:r}}=this;n.length>r.length&&delete this._stacks,n.forEach((i,s)=>{r.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let n=[],r=this.data.datasets,i,s;for(this._removeUnreferencedMetasets(),i=0,s=r.length;i<s;i++){let o=r[i],a=this.getDatasetMeta(i),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=o.indexAxis||_I(c,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let l=sr.getController(c),{datasetElementType:d,dataElementType:h}=Le.datasets[c];Object.assign(l,{dataElementType:sr.getElement(h),datasetElementType:d&&sr.getElement(d)}),a.controller=new l(this,i),n.push(a.controller)}}return this._updateMetasets(),n}_resetElements(){be(this.data.datasets,(n,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let r=this.config;r.update();let i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){let{controller:f}=this.getDatasetMeta(d),g=!s&&o.indexOf(f)===-1;f.buildOrUpdateElements(g),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||be(o,d=>{d.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(AN("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){be(this.scales,n=>{Pt.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(n.events);(!Ab(r,i)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,r=this._getUniformDataChanges()||[];for(let{method:i,start:s,count:o}of r){let a=i==="_removeElements"?-o:o;JW(n,s,a)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let r=this.data.datasets.length,i=o=>new Set(n.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<r;o++)if(!Ab(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pt.update(this,this.width,this.height,n);let r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],be(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,Fr(n)?n({datasetIndex:r}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,r){let i=this.getDatasetMeta(n),s={meta:i,index:n,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ur.has(this)?this.attached&&!Ur.running(this)&&Ur.start(this):(this.draw(),xN({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(n=0;n<r.length&&r[n].z<=0;++n)r[n].draw(this.chartArea);for(this._drawDatasets();n<r.length;++n)r[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let r=this._sortedMetasets,i=[],s,o;for(s=0,o=r.length;s<o;++s){let a=r[s];(!n||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r)this._drawDataset(n[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let r=this.ctx,i={meta:n,index:n.index,cancelable:!0},s=eI(this,n);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Gl(r,s),n.controller.draw(),s&&Kl(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(n){return tr(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,r,i,s){let o=nW.modes[r];return typeof o=="function"?o(this,n,i,s):[]}getDatasetMeta(n){let r=this.data.datasets[n],i=this._metasets,s=i.filter(o=>o&&o._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:n,_dataset:r,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Br(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let r=this.data.datasets[n];if(!r)return!1;let i=this.getDatasetMeta(n);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(n,r){let i=this.getDatasetMeta(n);i.hidden=!r}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,r,i){let s=i?"show":"hide",o=this.getDatasetMeta(n),a=o.controller._resolveAnimations(void 0,s);Ca(r)?(o.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(n,i),a.update(o,{visible:i}),this.update(c=>c.datasetIndex===n?s:void 0))}hide(n,r){this._updateVisibility(n,r,!1)}show(n,r){this._updateVisibility(n,r,!0)}_destroyDatasetMeta(n){let r=this._metasets[n];r&&r.controller&&r.controller._destroy(),delete this._metasets[n]}_stop(){let n,r;for(this.stop(),Ur.remove(this),n=0,r=this.data.datasets.length;n<r;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:r}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),Ub(n,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete hp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,r=this.platform,i=(o,a)=>{r.addEventListener(this,o,a),n[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};be(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,r=this.platform,i=(l,d)=>{r.addEventListener(this,l,d),n[l]=d},s=(l,d)=>{n[l]&&(r.removeEventListener(this,l,d),delete n[l])},o=(l,d)=>{this.canvas&&this.resize(l,d)},a,c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",c)},r.isAttached(this.canvas)?c():a()}unbindEvents(){be(this._listeners,(n,r)=>{this.platform.removeEventListener(this,r,n)}),this._listeners={},be(this._responsiveListeners,(n,r)=>{this.platform.removeEventListener(this,r,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,r,i){let s=i?"set":"remove",o,a,c,l;for(r==="dataset"&&(o=this.getDatasetMeta(n[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=n.length;c<l;++c){a=n[c];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let r=this._active||[],i=n.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!Wl(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(n,r,i){return this._plugins.notify(this,n,r,i)}isPluginEnabled(n){return this._plugins._cache.filter(r=>r.plugin.id===n).length===1}_updateHoverStyles(n,r,i){let s=this.options.hover,o=(l,d)=>l.filter(h=>!d.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=o(r,n),c=i?n:o(n,r);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(n,r){let i={event:n,replay:r,cancelable:!0,inChartArea:this.isPointInArea(n)},s=a=>(a.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;let o=this._handleEvent(n,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(n,r,i){let{_active:s=[],options:o}=this,a=r,c=this._getActiveElements(n,s,i,a),l=NM(n),d=e5(n,this._lastEvent,i,l);i&&(this._lastEvent=null,xe(o.onHover,[n,c,this],this),l&&xe(o.onClick,[n,c,this],this));let h=!Wl(c,s);return(h||r)&&(this._active=c,this._updateHoverStyles(c,s,r)),this._lastEvent=d,h}_getActiveElements(n,r,i,s){if(n.type==="mouseout")return[];if(!i)return r;let o=this.options.hover;return this.getElementsAtEventForMode(n,o.mode,o,s)}}return t})();function MN(){return be(_p.instances,t=>t._plugins.invalidate())}function t5(t,e,n){let{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:l,borderJoinStyle:d}=c,h=Math.min(l/o,It(r-n));if(t.beginPath(),t.arc(i,s,o-l/2,r+h/2,n-h/2),a>0){let f=Math.min(l/a,It(r-n));t.arc(i,s,a+l/2,n-f/2,r+f/2,!0)}else{let f=Math.min(l/2,o*It(r-n));if(d==="round")t.arc(i,s,f,n-he/2,r+he/2,!0);else if(d==="bevel"){let g=2*f*f,y=-g*Math.cos(n+he/2)+i,v=-g*Math.sin(n+he/2)+s,E=g*Math.cos(r+he/2)+i,S=g*Math.sin(r+he/2)+s;t.lineTo(y,v),t.lineTo(E,S)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function n5(t,e,n){let{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:c}=e,l=i/a;t.beginPath(),t.arc(s,o,a,r-l,n+l),c>i?(l=i/c,t.arc(s,o,c,n+l,r-l,!0)):t.arc(s,o,i,n+We,r-We),t.closePath(),t.clip()}function r5(t){return ep(t,["outerStart","outerEnd","innerStart","innerEnd"])}function i5(t,e,n,r){let i=r5(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=c=>{let l=(n-Math.min(s,c))*r/2;return lt(c,0,Math.min(s,l))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:lt(i.innerStart,0,o),innerEnd:lt(i.innerEnd,0,o)}}function Na(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function mp(t,e,n,r,i,s){let{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:d}=e,h=Math.max(e.outerRadius+r+n-l,0),f=d>0?d+r+n+l:0,g=0,y=i-c;if(r){let ce=d>0?d-r:0,Re=h>0?h-r:0,Ce=(ce+Re)/2,gt=Ce!==0?y*Ce/(Ce+r):y;g=(y-gt)/2}let v=Math.max(.001,y*h-n/he)/h,E=(y-v)/2,S=c+E+g,x=i-E-g,{outerStart:N,outerEnd:P,innerStart:k,innerEnd:O}=i5(e,f,h,x-S),w=h-N,b=h-P,I=S+N/w,T=x-P/b,C=f+k,A=f+O,D=S+k/C,Fe=x-O/A;if(t.beginPath(),s){let ce=(I+T)/2;if(t.arc(o,a,h,I,ce),t.arc(o,a,h,ce,T),P>0){let Xe=Na(b,T,o,a);t.arc(Xe.x,Xe.y,P,T,x+We)}let Re=Na(A,x,o,a);if(t.lineTo(Re.x,Re.y),O>0){let Xe=Na(A,Fe,o,a);t.arc(Xe.x,Xe.y,O,x+We,Fe+Math.PI)}let Ce=(x-O/f+(S+k/f))/2;if(t.arc(o,a,f,x-O/f,Ce,!0),t.arc(o,a,f,Ce,S+k/f,!0),k>0){let Xe=Na(C,D,o,a);t.arc(Xe.x,Xe.y,k,D+Math.PI,S-We)}let gt=Na(w,S,o,a);if(t.lineTo(gt.x,gt.y),N>0){let Xe=Na(w,I,o,a);t.arc(Xe.x,Xe.y,N,S-We,I)}}else{t.moveTo(o,a);let ce=Math.cos(I)*h+o,Re=Math.sin(I)*h+a;t.lineTo(ce,Re);let Ce=Math.cos(T)*h+o,gt=Math.sin(T)*h+a;t.lineTo(Ce,gt)}t.closePath()}function s5(t,e,n,r,i){let{fullCircles:s,startAngle:o,circumference:a}=e,c=e.endAngle;if(s){mp(t,e,n,r,c,i);for(let l=0;l<s;++l)t.fill();isNaN(a)||(c=o+(a%Pe||Pe))}return mp(t,e,n,r,c,i),t.fill(),c}function o5(t,e,n,r,i){let{fullCircles:s,startAngle:o,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:g}=c,y=c.borderAlign==="inner";if(!l)return;t.setLineDash(h||[]),t.lineDashOffset=f,y?(t.lineWidth=l*2,t.lineJoin=d||"round"):(t.lineWidth=l,t.lineJoin=d||"bevel");let v=e.endAngle;if(s){mp(t,e,n,r,v,i);for(let E=0;E<s;++E)t.stroke();isNaN(a)||(v=o+(a%Pe||Pe))}y&&n5(t,e,v),c.selfJoin&&v-o>=he&&g===0&&d!=="miter"&&t5(t,e,v),s||(mp(t,e,n,r,v,i),t.stroke())}var II=class extends Fn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){let i=this.getProps(["x","y"],r),{angle:s,distance:o}=Nb(i,{x:e,y:n}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,g=K(h,c-a),y=Aa(s,a,c)&&a!==c,v=g>=Pe||y,E=rr(o,l+f,d+f);return v&&E}getCenterPoint(e){let{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,d=(i+s)/2,h=(o+a+l+c)/2;return{x:n+Math.cos(d)*h,y:r+Math.sin(d)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>Pe?Math.floor(r/Pe):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);let c=1-Math.sin(Math.min(he,r||0)),l=i*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,s5(e,this,l,s,o),o5(e,this,l,s,o),e.restore()}};function gk(t,e,n=e){t.lineCap=K(n.borderCapStyle,e.borderCapStyle),t.setLineDash(K(n.borderDash,e.borderDash)),t.lineDashOffset=K(n.borderDashOffset,e.borderDashOffset),t.lineJoin=K(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=K(n.borderWidth,e.borderWidth),t.strokeStyle=K(n.borderColor,e.borderColor)}function a5(t,e,n){t.lineTo(n.x,n.y)}function c5(t){return t.stepped?zM:t.tension||t.cubicInterpolationMode==="monotone"?WM:a5}function mk(t,e,n={}){let r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,c=Math.max(i,o),l=Math.min(s,a),d=i<o&&s<o||i>a&&s>a;return{count:r,start:c,loop:e.loop,ilen:l<c&&!d?r+l-c:l-c}}function l5(t,e,n,r){let{points:i,options:s}=e,{count:o,start:a,loop:c,ilen:l}=mk(i,n,r),d=c5(s),{move:h=!0,reverse:f}=r||{},g,y,v;for(g=0;g<=l;++g)y=i[(a+(f?l-g:g))%o],!y.skip&&(h?(t.moveTo(y.x,y.y),h=!1):d(t,v,y,f,s.stepped),v=y);return c&&(y=i[(a+(f?l:0))%o],d(t,v,y,f,s.stepped)),!!c}function u5(t,e,n,r){let i=e.points,{count:s,start:o,ilen:a}=mk(i,n,r),{move:c=!0,reverse:l}=r||{},d=0,h=0,f,g,y,v,E,S,x=P=>(o+(l?a-P:P))%s,N=()=>{v!==E&&(t.lineTo(d,E),t.lineTo(d,v),t.lineTo(d,S))};for(c&&(g=i[x(0)],t.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=i[x(f)],g.skip)continue;let P=g.x,k=g.y,O=P|0;O===y?(k<v?v=k:k>E&&(E=k),d=(h*d+P)/++h):(N(),t.lineTo(P,k),y=O,h=0,v=E=k),S=k}N()}function wI(t){let e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?u5:l5}function d5(t){return t.stepped?eN:t.tension||t.cubicInterpolationMode==="monotone"?tN:wi}function h5(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),gk(t,e.options),t.stroke(i)}function f5(t,e,n,r){let{segments:i,options:s}=e,o=wI(e);for(let a of i)gk(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}var p5=typeof Path2D=="function";function g5(t,e,n,r){p5&&!e.options.segment?h5(t,e,n,r):f5(t,e,n,r)}var Ep=(()=>{class t extends Fn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,r){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let s=i.spanGaps?this._loop:this._fullLoop;XM(this._points,i,n,s,r),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=rN(this,this.options.segment))}first(){let n=this.segments,r=this.points;return n.length&&r[n[0].start]}last(){let n=this.segments,r=this.points,i=n.length;return i&&r[n[i-1].end]}interpolate(n,r){let i=this.options,s=n[r],o=this.points,a=Jb(this,{property:r,start:s,end:s});if(!a.length)return;let c=[],l=d5(i),d,h;for(d=0,h=a.length;d<h;++d){let{start:f,end:g}=a[d],y=o[f],v=o[g];if(y===v){c.push(y);continue}let E=Math.abs((s-y[r])/(v[r]-y[r])),S=l(y,v,E,i.stepped);S[r]=n[r],c.push(S)}return c.length===1?c[0]:c}pathSegment(n,r,i){return wI(this)(n,this,r,i)}path(n,r,i){let s=this.segments,o=wI(this),a=this._loop;r=r||0,i=i||this.points.length-r;for(let c of s)a&=o(n,this,c,{start:r,end:r+i-1});return!!a}draw(n,r,i,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(n.save(),g5(n,this,i,s),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function NN(t,e,n,r){let i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}var m5=(()=>{class t extends Fn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return NN(this,n,"x",r)}inYRange(n,r){return NN(this,n,"y",r)}getCenterPoint(n){let{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);let i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){let i=this.options;this.skip||i.radius<.1||!tr(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Jf(n,i,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}return t})();function yk(t,e){let{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e),a,c,l,d,h;return t.horizontal?(h=o/2,a=Math.min(n,i),c=Math.max(n,i),l=r-h,d=r+h):(h=s/2,a=n-h,c=n+h,l=Math.min(r,i),d=Math.max(r,i)),{left:a,top:l,right:c,bottom:d}}function Ri(t,e,n,r){return t?0:lt(e,n,r)}function y5(t,e,n){let r=t.options.borderWidth,i=t.borderSkipped,s=Hb(r);return{t:Ri(i.top,s.top,0,n),r:Ri(i.right,s.right,0,e),b:Ri(i.bottom,s.bottom,0,n),l:Ri(i.left,s.left,0,e)}}function v5(t,e,n){let{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Ai(i),o=Math.min(e,n),a=t.borderSkipped,c=r||se(i);return{topLeft:Ri(!c||a.top||a.left,s.topLeft,0,o),topRight:Ri(!c||a.top||a.right,s.topRight,0,o),bottomLeft:Ri(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ri(!c||a.bottom||a.right,s.bottomRight,0,o)}}function _5(t){let e=yk(t),n=e.right-e.left,r=e.bottom-e.top,i=y5(t,n/2,r/2),s=v5(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function cI(t,e,n,r){let i=e===null,s=n===null,a=t&&!(i&&s)&&yk(t,r);return a&&(i||rr(e,a.left,a.right))&&(s||rr(n,a.top,a.bottom))}function E5(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function b5(t,e){t.rect(e.x,e.y,e.w,e.h)}function lI(t,e,n={}){let r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}var DI=class extends Fn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=_5(this),a=E5(o.radius)?Ra:b5;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,lI(o,n,s)),e.clip(),a(e,lI(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,lI(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return cI(this,e,n,r)}inXRange(e,n){return cI(this,e,null,n)}inYRange(e,n){return cI(this,null,e,n)}getCenterPoint(e){let{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},I5=Object.freeze({__proto__:null,ArcElement:II,BarElement:DI,LineElement:Ep,PointElement:m5}),TI=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],kN=TI.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function vk(t){return TI[t%TI.length]}function _k(t){return kN[t%kN.length]}function w5(t,e){return t.borderColor=vk(e),t.backgroundColor=_k(e),++e}function D5(t,e){return t.backgroundColor=t.data.map(()=>vk(e++)),e}function T5(t,e){return t.backgroundColor=t.data.map(()=>_k(e++)),e}function C5(t){let e=0;return(n,r)=>{let i=t.getDatasetMeta(r).controller;i instanceof kI?e=D5(n,e):i instanceof ok?e=T5(n,e):i&&(e=w5(n,e))}}function PN(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function S5(t){return t&&(t.borderColor||t.backgroundColor)}function A5(){return Le.borderColor!=="rgba(0,0,0,0.1)"||Le.backgroundColor!=="rgba(0,0,0,0.1)"}var x5={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;let{data:{datasets:r},options:i}=t.config,{elements:s}=i,o=PN(r)||S5(i)||s&&PN(s)||A5();if(!n.forceOverride&&o)return;let a=C5(t);r.forEach(a)}};function R5(t,e,n,r,i){let s=i.samples||r;if(s>=n)return t.slice(e,e+n);let o=[],a=(n-2)/(s-2),c=0,l=e+n-1,d=e,h,f,g,y,v;for(o[c++]=t[d],h=0;h<s-2;h++){let E=0,S=0,x,N=Math.floor((h+1)*a)+1+e,P=Math.min(Math.floor((h+2)*a)+1,n)+e,k=P-N;for(x=N;x<P;x++)E+=t[x].x,S+=t[x].y;E/=k,S/=k;let O=Math.floor(h*a)+1+e,w=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:b,y:I}=t[d];for(g=y=-1,x=O;x<w;x++)y=.5*Math.abs((b-E)*(t[x].y-I)-(b-t[x].x)*(S-I)),y>g&&(g=y,f=t[x],v=x);o[c++]=f,d=v}return o[c++]=t[l],o}function M5(t,e,n,r){let i=0,s=0,o,a,c,l,d,h,f,g,y,v,E=[],S=e+n-1,x=t[e].x,P=t[S].x-x;for(o=e;o<e+n;++o){a=t[o],c=(a.x-x)/P*r,l=a.y;let k=c|0;if(k===d)l<y?(y=l,h=o):l>v&&(v=l,f=o),i=(s*i+a.x)/++s;else{let O=o-1;if(!te(h)&&!te(f)){let w=Math.min(h,f),b=Math.max(h,f);w!==g&&w!==O&&E.push(pe(B({},t[w]),{x:i})),b!==g&&b!==O&&E.push(pe(B({},t[b]),{x:i}))}o>0&&O!==g&&E.push(t[O]),E.push(a),d=k,s=0,y=v=l,h=f=g=o}}return E}function Ek(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function ON(t){t.data.datasets.forEach(e=>{Ek(e)})}function N5(t,e){let n=e.length,r=0,i,{iScale:s}=t,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(r=lt(er(e,s.axis,o).lo,0,n-1)),l?i=lt(er(e,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var k5={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){ON(t);return}let r=t.width;t.data.datasets.forEach((i,s)=>{let{_data:o,indexAxis:a}=i,c=t.getDatasetMeta(s),l=o||i.data;if(Ma([a,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:h,count:f}=N5(c,l),g=n.threshold||4*r;if(f<=g){Ek(i);return}te(o)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let y;switch(n.algorithm){case"lttb":y=R5(l,h,f,r,n);break;case"min-max":y=M5(l,h,f,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=y})},destroy(t){ON(t)}};function P5(t,e,n){let r=t.segments,i=t.points,s=e.points,o=[];for(let a of r){let{start:c,end:l}=a;l=bp(c,l,i);let d=CI(n,i[c],i[l],a.loop);if(!e.segments){o.push({source:a,target:d,start:i[c],end:i[l]});continue}let h=Jb(e,d);for(let f of h){let g=CI(n,s[f.start],s[f.end],f.loop),y=Zb(a,i,g);for(let v of y)o.push({source:v,target:f,start:{[n]:LN(d,g,"start",Math.max)},end:{[n]:LN(d,g,"end",Math.min)}})}}return o}function CI(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=It(i),s=It(s)),{property:t,start:i,end:s}}function O5(t,e){let{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=bp(o,a,i);let c=i[o],l=i[a];r!==null?(s.push({x:c.x,y:r}),s.push({x:l.x,y:r})):n!==null&&(s.push({x:n,y:c.y}),s.push({x:n,y:l.y}))}),s}function bp(t,e,n){for(;e>t;e--){let r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function LN(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function bk(t,e){let n=[],r=!1;return ke(t)?(r=!0,n=t):n=O5(t,e),n.length?new Ep({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function FN(t){return t&&t.fill!==!1}function L5(t,e,n){let i=t[e].fill,s=[e],o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Ve(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function F5(t,e,n){let r=U5(t);if(se(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Ve(i)&&Math.floor(i)===i?V5(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function V5(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function j5(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:se(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function B5(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:se(t)?r=t.value:r=e.getBaseValue(),r}function U5(t){let e=t.options,n=e.fill,r=K(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function $5(t){let{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=H5(e,n);a.push(bk({x:null,y:e.bottom},r));for(let c=0;c<s.length;c++){let l=s[c];for(let d=l.start;d<=l.end;d++)z5(i,o[d],a)}return new Ep({points:i,options:{}})}function H5(t,e){let n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){let s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function z5(t,e,n){let r=[];for(let i=0;i<n.length;i++){let s=n[i],{first:o,last:a,point:c}=W5(s,e,"x");if(!(!c||o&&a)){if(o)r.unshift(c);else if(t.push(c),!a)break}}t.push(...r)}function W5(t,e,n){let r=t.interpolate(e,n);if(!r)return{};let i=r[n],s=t.segments,o=t.points,a=!1,c=!1;for(let l=0;l<s.length;l++){let d=s[l],h=o[d.start][n],f=o[d.end][n];if(rr(i,h,f)){a=i===h,c=i===f;break}}return{first:a,last:c,point:r}}var yp=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){let{x:i,y:s,radius:o}=this;return n=n||{start:0,end:Pe},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){let{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}};function q5(t){let{chart:e,fill:n,line:r}=t;if(Ve(n))return G5(e,n);if(n==="stack")return $5(t);if(n==="shape")return!0;let i=K5(t);return i instanceof yp?i:bk(i,r)}function G5(t,e){let n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function K5(t){return(t.scale||{}).getPointPositionForValue?Q5(t):Y5(t)}function Y5(t){let{scale:e={},fill:n}=t,r=j5(n,e);if(Ve(r)){let i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function Q5(t){let{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=B5(n,e,s),a=[];if(r.grid.circular){let c=e.getPointPositionForValue(0,s);return new yp({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)a.push(e.getPointPositionForValue(c,o));return a}function uI(t,e,n){let r=q5(e),{chart:i,index:s,line:o,scale:a,axis:c}=e,l=o.options,d=l.fill,h=l.backgroundColor,{above:f=h,below:g=h}=d||{},y=i.getDatasetMeta(s),v=eI(i,y);r&&o.points.length&&(Gl(t,n),X5(t,{line:o,target:r,above:f,below:g,area:n,scale:a,axis:c,clip:v}),Kl(t))}function X5(t,e){let{line:n,target:r,above:i,below:s,area:o,scale:a,clip:c}=e,l=n._loop?"angle":e.axis;t.save();let d=s;s!==i&&(l==="x"?(VN(t,r,o.top),dI(t,{line:n,target:r,color:i,scale:a,property:l,clip:c}),t.restore(),t.save(),VN(t,r,o.bottom)):l==="y"&&(jN(t,r,o.left),dI(t,{line:n,target:r,color:s,scale:a,property:l,clip:c}),t.restore(),t.save(),jN(t,r,o.right),d=i)),dI(t,{line:n,target:r,color:d,scale:a,property:l,clip:c}),t.restore()}function VN(t,e,n){let{segments:r,points:i}=e,s=!0,o=!1;t.beginPath();for(let a of r){let{start:c,end:l}=a,d=i[c],h=i[bp(c,l,i)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function jN(t,e,n){let{segments:r,points:i}=e,s=!0,o=!1;t.beginPath();for(let a of r){let{start:c,end:l}=a,d=i[c],h=i[bp(c,l,i)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function dI(t,e){let{line:n,target:r,property:i,color:s,scale:o,clip:a}=e,c=P5(n,r,i);for(let{source:l,target:d,start:h,end:f}of c){let{style:{backgroundColor:g=s}={}}=l,y=r!==!0;t.save(),t.fillStyle=g,Z5(t,o,a,y&&CI(i,h,f)),t.beginPath();let v=!!n.pathSegment(t,l),E;if(y){v?t.closePath():BN(t,r,f,i);let S=!!r.pathSegment(t,d,{move:v,reverse:!0});E=v&&S,E||BN(t,r,h,i)}t.closePath(),t.fill(E?"evenodd":"nonzero"),t.restore()}}function Z5(t,e,n,r){let i=e.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let c,l,d,h;s==="x"?(c=o,l=i.top,d=a,h=i.bottom):(c=i.left,l=o,d=i.right,h=a),t.beginPath(),n&&(c=Math.max(c,n.left),d=Math.min(d,n.right),l=Math.max(l,n.top),h=Math.min(h,n.bottom)),t.rect(c,l,d-c,h-l),t.clip()}}function BN(t,e,n,r){let i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var J5={id:"filler",afterDatasetsUpdate(t,e,n){let r=(t.data.datasets||[]).length,i=[],s,o,a,c;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof Ep&&(c={visible:t.isDatasetVisible(o),index:o,fill:F5(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=L5(i,o,n.propagate))},beforeDraw(t,e,n){let r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){let a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&uI(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;let r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){let s=r[i].$filler;FN(s)&&uI(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){let r=e.meta.$filler;!FN(r)||n.drawTime!=="beforeDatasetDraw"||uI(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},UN=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},e6=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,vp=class extends Fn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},n=xe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){let{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}let r=e.labels,i=st(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=UN(r,s),l,d;n.font=i.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(o,s,a,c)+10):(d=this.maxHeight,l=this._fitCols(o,i,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=i+a,h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,g=-d;return this.legendItems.forEach((y,v)=>{let E=r+n/2+s.measureText(y.text).width;(v===0||l[l.length-1]+E+2*a>o)&&(h+=d,l[l.length-(v>0?0:1)]=0,g+=d,f++),c[v]={left:0,top:g,row:f,width:E,height:i},l[l.length-1]+=E+a}),h}_fitCols(e,n,r,i){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=o-e,h=a,f=0,g=0,y=0,v=0;return this.legendItems.forEach((E,S)=>{let{itemWidth:x,itemHeight:N}=t6(r,n,s,E,i);S>0&&g+N+2*a>d&&(h+=f+a,l.push({width:f,height:g}),y+=f+a,v++,f=g=0),c[S]={left:y,top:g,col:v,width:x,height:N},f=Math.max(f,x),g+=N+a}),h+=f,l.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Gs(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=wt(r,this.left+i,this.right-this.lineWidths[a]);for(let l of n)a!==l.row&&(a=l.row,c=wt(r,this.left+i,this.right-this.lineWidths[a])),l.top+=this.top+e+i,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+i}else{let a=0,c=wt(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(let l of n)l.col!==a&&(a=l.col,c=wt(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+i,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Gl(e,this),this._draw(),Kl(e)}}_draw(){let{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Le.color,c=Gs(e.rtl,this.left,this.width),l=st(o.font),{padding:d}=o,h=l.size,f=h/2,g;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;let{boxWidth:y,boxHeight:v,itemHeight:E}=UN(o,h),S=function(O,w,b){if(isNaN(y)||y<=0||isNaN(v)||v<0)return;i.save();let I=K(b.lineWidth,1);if(i.fillStyle=K(b.fillStyle,a),i.lineCap=K(b.lineCap,"butt"),i.lineDashOffset=K(b.lineDashOffset,0),i.lineJoin=K(b.lineJoin,"miter"),i.lineWidth=I,i.strokeStyle=K(b.strokeStyle,a),i.setLineDash(K(b.lineDash,[])),o.usePointStyle){let T={radius:v*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:I},C=c.xPlus(O,y/2),A=w+f;$b(i,T,C,A,o.pointStyleWidth&&y)}else{let T=w+Math.max((h-v)/2,0),C=c.leftForLtr(O,y),A=Ai(b.borderRadius);i.beginPath(),Object.values(A).some(D=>D!==0)?Ra(i,{x:C,y:T,w:y,h:v,radius:A}):i.rect(C,T,y,v),i.fill(),I!==0&&i.stroke()}i.restore()},x=function(O,w,b){Si(i,b.text,O,w+E/2,l,{strikethrough:b.hidden,textAlign:c.textAlign(b.textAlign)})},N=this.isHorizontal(),P=this._computeTitleHeight();N?g={x:wt(s,this.left+d,this.right-r[0]),y:this.top+d+P,line:0}:g={x:this.left+d,y:wt(s,this.top+P+d,this.bottom-n[0].height),line:0},Qb(this.ctx,e.textDirection);let k=E+d;this.legendItems.forEach((O,w)=>{i.strokeStyle=O.fontColor,i.fillStyle=O.fontColor;let b=i.measureText(O.text).width,I=c.textAlign(O.textAlign||(O.textAlign=o.textAlign)),T=y+f+b,C=g.x,A=g.y;c.setWidth(this.width),N?w>0&&C+T+d>this.right&&(A=g.y+=k,g.line++,C=g.x=wt(s,this.left+d,this.right-r[g.line])):w>0&&A+k>this.bottom&&(C=g.x=C+n[g.line].width+d,g.line++,A=g.y=wt(s,this.top+P+d,this.bottom-n[g.line].height));let D=c.x(C);if(S(D,A,O),C=UM(I,C+y+f,N?C+T:this.right,e.rtl),x(c.x(C),A,O),N)g.x+=T+d;else if(typeof O.text!="string"){let Fe=l.lineHeight;g.y+=Ik(O,Fe)+d}else g.y+=k}),Xb(this.ctx,e.textDirection)}drawTitle(){let e=this.options,n=e.title,r=st(n.font),i=Dt(n.padding);if(!n.display)return;let s=Gs(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=r.size/2,l=i.top+c,d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+l,h=wt(e.align,h,this.right-f);else{let y=this.columnSizes.reduce((v,E)=>Math.max(v,E.height),0);d=l+wt(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}let g=wt(a,h,h+f);o.textAlign=s.textAlign(Xf(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Si(o,n.text,g,d,r)}_computeTitleHeight(){let e=this.options.title,n=st(e.font),r=Dt(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(rr(e,this.left,this.right)&&rr(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],rr(e,i.left,i.left+i.width)&&rr(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){let n=this.options;if(!i6(e.type,n))return;let r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let i=this._hoveredItem,s=e6(i,r);i&&!s&&xe(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&xe(n.onHover,[e,r,this],this)}else r&&xe(n.onClick,[e,r,this],this)}};function t6(t,e,n,r,i){let s=n6(r,t,e,n),o=r6(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function n6(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function r6(t,e,n){let r=t;return typeof e.text!="string"&&(r=Ik(e,n)),r}function Ik(t,e){let n=t.text?t.text.length:0;return e*n}function i6(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var s6={id:"legend",_element:vp,start(t,e,n){let r=t.legend=new vp({ctx:t.ctx,options:n,chart:t});Pt.configure(t,r,n),Pt.addBox(t,r)},stop(t){Pt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){let r=t.legend;Pt.configure(t,r,n),r.options=n},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){let r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(n?0:void 0),d=Dt(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},ru=class extends Fn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;let i=ke(r.text)?r.text.length:1;this._padding=Dt(r.padding);let s=i*st(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align,c=0,l,d,h;return this.isHorizontal()?(d=wt(a,r,s),h=n+e,l=s-r):(o.position==="left"?(d=r+e,h=wt(a,i,n),c=he*-.5):(d=s-e,h=wt(a,n,i),c=he*.5),l=i-n),{titleX:d,titleY:h,maxWidth:l,rotation:c}}draw(){let e=this.ctx,n=this.options;if(!n.display)return;let r=st(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(s);Si(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:l,textAlign:Xf(n.align),textBaseline:"middle",translation:[o,a]})}};function o6(t,e){let n=new ru({ctx:t.ctx,options:e,chart:t});Pt.configure(t,n,e),Pt.addBox(t,n),t.titleBlock=n}var a6={id:"title",_element:ru,start(t,e,n){o6(t,n)},stop(t){let e=t.titleBlock;Pt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){let r=t.titleBlock;Pt.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},cp=new WeakMap,c6={id:"subtitle",start(t,e,n){let r=new ru({ctx:t.ctx,options:n,chart:t});Pt.configure(t,r,n),Pt.addBox(t,r),cp.set(t,r)},stop(t){Pt.removeBox(t,cp.get(t)),cp.delete(t)},beforeUpdate(t,e,n){let r=cp.get(t);Pt.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},tu={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){let a=t[e].element;if(a&&a.hasValue()){let c=a.tooltipPosition();r.add(c.x),i+=c.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,c)=>a+c)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){let c=t[s].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),d=qf(e,l);d<i&&(i=d,a=c)}}if(a){let c=a.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function ir(t,e){return e&&(ke(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function $r(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function l6(t,e){let{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function $N(t,e){let n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,c=st(e.bodyFont),l=st(e.titleFont),d=st(e.footerFont),h=s.length,f=i.length,g=r.length,y=Dt(e.padding),v=y.height,E=0,S=r.reduce((P,k)=>P+k.before.length+k.lines.length+k.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,h&&(v+=h*l.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),S){let P=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;v+=g*P+(S-g)*c.lineHeight+(S-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let x=0,N=function(P){E=Math.max(E,n.measureText(P).width+x)};return n.save(),n.font=l.string,be(t.title,N),n.font=c.string,be(t.beforeBody.concat(t.afterBody),N),x=e.displayColors?o+2+e.boxPadding:0,be(r,P=>{be(P.before,N),be(P.lines,N),be(P.after,N)}),x=0,n.font=d.string,be(t.footer,N),n.restore(),E+=y.width,{width:E,height:v}}function u6(t,e){let{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function d6(t,e,n,r){let{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function h6(t,e,n,r){let{x:i,width:s}=n,{width:o,chartArea:{left:a,right:c}}=t,l="center";return r==="center"?l=i<=(a+c)/2?"left":"right":i<=s/2?l="left":i>=o-s/2&&(l="right"),d6(l,t,e,n)&&(l="center"),l}function HN(t,e,n){let r=n.yAlign||e.yAlign||u6(t,n);return{xAlign:n.xAlign||e.xAlign||h6(t,e,n,r),yAlign:r}}function f6(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function p6(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function zN(t,e,n,r){let{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,l=i+s,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=Ai(o),y=f6(e,a),v=p6(e,c,l);return c==="center"?a==="left"?y+=l:a==="right"&&(y-=l):a==="left"?y-=Math.max(d,f)+i:a==="right"&&(y+=Math.max(h,g)+i),{x:lt(y,0,r.width-e.width),y:lt(v,0,r.height-e.height)}}function lp(t,e,n){let r=Dt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function WN(t){return ir([],$r(t))}function g6(t,e,n){return Br(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function qN(t,e){let n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var wk={beforeTitle:nr,title(t){if(t.length>0){let e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:nr,beforeBody:nr,beforeLabel:nr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let n=t.formattedValue;return te(n)||(e+=n),e},labelColor(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:nr,afterBody:nr,beforeFooter:nr,footer:nr,afterFooter:nr};function Gt(t,e,n,r){let i=t[e].call(n,r);return typeof i>"u"?wk[e].call(n,r):i}var GN=(()=>{class t extends Fn{static positioners=tu;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let r=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&r.options.animation&&i.animations,o=new fp(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=g6(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,r){let{callbacks:i}=r,s=Gt(i,"beforeTitle",this,n),o=Gt(i,"title",this,n),a=Gt(i,"afterTitle",this,n),c=[];return c=ir(c,$r(s)),c=ir(c,$r(o)),c=ir(c,$r(a)),c}getBeforeBody(n,r){return WN(Gt(r.callbacks,"beforeBody",this,n))}getBody(n,r){let{callbacks:i}=r,s=[];return be(n,o=>{let a={before:[],lines:[],after:[]},c=qN(i,o);ir(a.before,$r(Gt(c,"beforeLabel",this,o))),ir(a.lines,Gt(c,"label",this,o)),ir(a.after,$r(Gt(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(n,r){return WN(Gt(r.callbacks,"afterBody",this,n))}getFooter(n,r){let{callbacks:i}=r,s=Gt(i,"beforeFooter",this,n),o=Gt(i,"footer",this,n),a=Gt(i,"afterFooter",this,n),c=[];return c=ir(c,$r(s)),c=ir(c,$r(o)),c=ir(c,$r(a)),c}_createItems(n){let r=this._active,i=this.chart.data,s=[],o=[],a=[],c=[],l,d;for(l=0,d=r.length;l<d;++l)c.push(l6(this.chart,r[l]));return n.filter&&(c=c.filter((h,f,g)=>n.filter(h,f,g,i))),n.itemSort&&(c=c.sort((h,f)=>n.itemSort(h,f,i))),be(c,h=>{let f=qN(n.callbacks,h);s.push(Gt(f,"labelColor",this,h)),o.push(Gt(f,"labelPointStyle",this,h)),a.push(Gt(f,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(n,r){let i=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let c=tu[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let l=this._size=$N(this,i),d=Object.assign({},c,l),h=HN(this.chart,i,d),f=zN(i,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,o={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),n&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(n,r,i,s){let o=this.getCaretPosition(n,i,s);r.lineTo(o.x1,o.y1),r.lineTo(o.x2,o.y2),r.lineTo(o.x3,o.y3)}getCaretPosition(n,r,i){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:l,topRight:d,bottomLeft:h,bottomRight:f}=Ai(c),{x:g,y}=n,{width:v,height:E}=r,S,x,N,P,k,O;return o==="center"?(k=y+E/2,s==="left"?(S=g,x=S-a,P=k+a,O=k-a):(S=g+v,x=S+a,P=k-a,O=k+a),N=S):(s==="left"?x=g+Math.max(l,h)+a:s==="right"?x=g+v-Math.max(d,f)-a:x=this.caretX,o==="top"?(P=y,k=P-a,S=x-a,N=x+a):(P=y+E,k=P+a,S=x+a,N=x-a),O=P),{x1:S,x2:x,x3:N,y1:P,y2:k,y3:O}}drawTitle(n,r,i){let s=this.title,o=s.length,a,c,l;if(o){let d=Gs(i.rtl,this.x,this.width);for(n.x=lp(this,i.titleAlign,i),r.textAlign=d.textAlign(i.titleAlign),r.textBaseline="middle",a=st(i.titleFont),c=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,l=0;l<o;++l)r.fillText(s[l],d.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+c,l+1===o&&(n.y+=i.titleMarginBottom-c)}}_drawColorBox(n,r,i,s,o){let a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:l,boxWidth:d}=o,h=st(o.bodyFont),f=lp(this,"left",o),g=s.x(f),y=l<h.lineHeight?(h.lineHeight-l)/2:0,v=r.y+y;if(o.usePointStyle){let E={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=s.leftForLtr(g,d)+d/2,x=v+l/2;n.strokeStyle=o.multiKeyBackground,n.fillStyle=o.multiKeyBackground,Jf(n,E,S,x),n.strokeStyle=a.borderColor,n.fillStyle=a.backgroundColor,Jf(n,E,S,x)}else{n.lineWidth=se(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,n.strokeStyle=a.borderColor,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset||0;let E=s.leftForLtr(g,d),S=s.leftForLtr(s.xPlus(g,1),d-2),x=Ai(a.borderRadius);Object.values(x).some(N=>N!==0)?(n.beginPath(),n.fillStyle=o.multiKeyBackground,Ra(n,{x:E,y:v,w:d,h:l,radius:x}),n.fill(),n.stroke(),n.fillStyle=a.backgroundColor,n.beginPath(),Ra(n,{x:S,y:v+1,w:d-2,h:l-2,radius:x}),n.fill()):(n.fillStyle=o.multiKeyBackground,n.fillRect(E,v,d,l),n.strokeRect(E,v,d,l),n.fillStyle=a.backgroundColor,n.fillRect(S,v+1,d-2,l-2))}n.fillStyle=this.labelTextColors[i]}drawBody(n,r,i){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:h}=i,f=st(i.bodyFont),g=f.lineHeight,y=0,v=Gs(i.rtl,this.x,this.width),E=function(I){r.fillText(I,v.x(n.x+y),n.y+g/2),n.y+=g+o},S=v.textAlign(a),x,N,P,k,O,w,b;for(r.textAlign=a,r.textBaseline="middle",r.font=f.string,n.x=lp(this,S,i),r.fillStyle=i.bodyColor,be(this.beforeBody,E),y=c&&S!=="right"?a==="center"?d/2+h:d+2+h:0,k=0,w=s.length;k<w;++k){for(x=s[k],N=this.labelTextColors[k],r.fillStyle=N,be(x.before,E),P=x.lines,c&&P.length&&(this._drawColorBox(r,n,k,v,i),g=Math.max(f.lineHeight,l)),O=0,b=P.length;O<b;++O)E(P[O]),g=f.lineHeight;be(x.after,E)}y=0,g=f.lineHeight,be(this.afterBody,E),n.y-=o}drawFooter(n,r,i){let s=this.footer,o=s.length,a,c;if(o){let l=Gs(i.rtl,this.x,this.width);for(n.x=lp(this,i.footerAlign,i),n.y+=i.footerMarginTop,r.textAlign=l.textAlign(i.footerAlign),r.textBaseline="middle",a=st(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,c=0;c<o;++c)r.fillText(s[c],l.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+i.footerSpacing}}drawBackground(n,r,i,s){let{xAlign:o,yAlign:a}=this,{x:c,y:l}=n,{width:d,height:h}=i,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:v}=Ai(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(c+f,l),a==="top"&&this.drawCaret(n,r,i,s),r.lineTo(c+d-g,l),r.quadraticCurveTo(c+d,l,c+d,l+g),a==="center"&&o==="right"&&this.drawCaret(n,r,i,s),r.lineTo(c+d,l+h-v),r.quadraticCurveTo(c+d,l+h,c+d-v,l+h),a==="bottom"&&this.drawCaret(n,r,i,s),r.lineTo(c+y,l+h),r.quadraticCurveTo(c,l+h,c,l+h-y),a==="center"&&o==="left"&&this.drawCaret(n,r,i,s),r.lineTo(c,l+f),r.quadraticCurveTo(c,l,c+f,l),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(n){let r=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){let a=tu[n.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=$N(this,n),l=Object.assign({},a,this._size),d=HN(r,n,l),h=zN(n,l,d,r);(s._to!==h.x||o._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(n){let r=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(r);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=Dt(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(n.save(),n.globalAlpha=i,this.drawBackground(o,n,s,r),Qb(n,r.textDirection),o.y+=a.top,this.drawTitle(o,n,r),this.drawBody(o,n,r),this.drawFooter(o,n,r),Xb(n,r.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,r){let i=this._active,s=n.map(({datasetIndex:c,index:l})=>{let d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),o=!Wl(i,s),a=this._positionChanged(s,r);(o||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(n,o,r,i),c=this._positionChanged(a,n),l=r||!Wl(a,o)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,r))),l}_getActiveElements(n,r,i,s){let o=this.options;if(n.type==="mouseout")return[];if(!s)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(n,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(n,r){let{caretX:i,caretY:s,options:o}=this,a=tu[o.position].call(this,n,r);return a!==!1&&(i!==a.x||s!==a.y)}}return t})(),m6={id:"tooltip",_element:GN,positioners:tu,afterInit(t,e,n){n&&(t.tooltip=new GN({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",pe(B({},n),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){let n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:wk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},y6=Object.freeze({__proto__:null,Colors:x5,Decimation:k5,Filler:J5,Legend:s6,SubTitle:c6,Title:a6,Tooltip:m6}),v6=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function _6(t,e,n,r){let i=t.indexOf(e);if(i===-1)return v6(t,e,n,r);let s=t.lastIndexOf(e);return i!==s?n:i}var E6=(t,e)=>t===null?null:lt(Math.round(t),0,e);function KN(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var b6=(()=>{class t extends Qs{static id="category";static defaults={ticks:{callback:KN}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let r=this._addedLabels;if(r.length){let i=this.getLabels();for(let{index:s,label:o}of r)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(n)}parse(n,r){if(te(n))return null;let i=this.getLabels();return r=isFinite(r)&&i[r]===n?r:_6(i,n,K(r,n),this._addedLabels),E6(r,i.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:r}=this.getUserBounds(),{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(i=0),r||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){let n=this.min,r=this.max,i=this.options.offset,s=[],o=this.getLabels();o=n===0&&r===o.length-1?o:o.slice(n,r+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=n;a<=r;a++)s.push({value:a});return s}getLabelForValue(n){return KN.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let r=this.ticks;return n<0||n>r.length-1?null:this.getPixelForValue(r[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function I6(t,e){let n=[],{bounds:i,step:s,min:o,max:a,precision:c,count:l,maxTicks:d,maxDigits:h,includeBounds:f}=t,g=s||1,y=d-1,{min:v,max:E}=e,S=!te(o),x=!te(a),N=!te(l),P=(E-v)/(h+1),k=xb((E-v)/y/g)*g,O,w,b,I;if(k<1e-14&&!S&&!x)return[{value:v},{value:E}];I=Math.ceil(E/k)-Math.floor(v/k),I>y&&(k=xb(I*k/y/g)*g),te(c)||(O=Math.pow(10,c),k=Math.ceil(k*O)/O),i==="ticks"?(w=Math.floor(v/k)*k,b=Math.ceil(E/k)*k):(w=v,b=E),S&&x&&s&&PM((a-o)/s,k/1e3)?(I=Math.round(Math.min((a-o)/k,d)),k=(a-o)/I,w=o,b=a):N?(w=S?o:w,b=x?a:b,I=l-1,k=(b-w)/I):(I=(b-w)/k,Sa(I,Math.round(I),k/1e3)?I=Math.round(I):I=Math.ceil(I));let T=Math.max(Mb(k),Mb(w));O=Math.pow(10,te(c)?T:c),w=Math.round(w*O)/O,b=Math.round(b*O)/O;let C=0;for(S&&(f&&w!==o?(n.push({value:o}),w<o&&C++,Sa(Math.round((w+C*k)*O)/O,o,YN(o,P,t))&&C++):w<o&&C++);C<I;++C){let A=Math.round((w+C*k)*O)/O;if(x&&A>a)break;n.push({value:A})}return x&&f&&b!==a?n.length&&Sa(n[n.length-1].value,a,YN(a,P,t))?n[n.length-1].value=a:n.push({value:a}):(!x||b===a)&&n.push({value:b}),n}function YN(t,e,{horizontal:n,minRotation:r}){let i=vn(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}var Pa=class extends Qs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return te(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds(),{min:i,max:s}=this,o=c=>i=n?i:c,a=c=>s=r?s:c;if(e){let c=Ln(i),l=Ln(s);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(i===s){let c=s===0?1:Math.abs(s*.05);a(s+c),e||o(i-c)}this.min=i,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,n=e.ticks,r=this.getTickLimit();r=Math.max(2,r);let i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=I6(i,s);return e.bounds==="ticks"&&Rb(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){let i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return xa(e,this.chart.options.locale,this.options.ticks.format)}},SI=class extends Pa{static id="linear";static defaults={ticks:{callback:ql.formatters.numeric}};determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=Ve(e)?e:0,this.max=Ve(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),n=e?this.width:this.height,r=vn(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},iu=t=>Math.floor(Vr(t)),Ys=(t,e)=>Math.pow(10,iu(t)+e);function QN(t){return t/Math.pow(10,iu(t))===1}function XN(t,e,n){let r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function w6(t,e){let n=e-t,r=iu(n);for(;XN(t,e,r)>10;)r++;for(;XN(t,e,r)<10;)r--;return Math.min(r,iu(t))}function D6(t,{min:e,max:n}){e=qt(t.min,e);let r=[],i=iu(e),s=w6(e,n),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),c=i>s?Math.pow(10,i):0,l=Math.round((e-c)*o)/o,d=Math.floor((e-c)/a/10)*a*10,h=Math.floor((l-d)/Math.pow(10,s)),f=qt(t.min,Math.round((c+d+h*Math.pow(10,s))*o)/o);for(;f<n;)r.push({value:f,major:QN(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((c+d+h*Math.pow(10,s))*o)/o;let g=qt(t.max,f);return r.push({value:g,major:QN(g),significand:h}),r}var AI=class extends Qs{static id="logarithmic";static defaults={ticks:{callback:ql.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){let r=Pa.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Ve(r)&&r>0?r:null}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=Ve(e)?Math.max(0,e):null,this.max=Ve(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ve(this._userMin)&&(this.min=e===Ys(this.min,0)?Ys(this.min,-1):Ys(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),r=this.min,i=this.max,s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Ys(r,-1)),o(Ys(i,1)))),r<=0&&s(Ys(i,-1)),i<=0&&o(Ys(r,1)),this.min=r,this.max=i}buildTicks(){let e=this.options,n={min:this._userMin,max:this._userMax},r=D6(n,this);return e.bounds==="ticks"&&Rb(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":xa(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Vr(e),this._valueRange=Vr(this.max)-Vr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Vr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}};function xI(t){let e=t.ticks;if(e.display&&t.display){let n=Dt(e.backdropPadding);return K(e.font&&e.font.size,Le.font.size)+n.height}return 0}function T6(t,e,n){return n=ke(n)?n:[n],{w:HM(t,e.string,n),h:n.length*e.lineHeight}}function ZN(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function C6(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?he/s:0;for(let c=0;c<s;c++){let l=o.setContext(t.getPointLabelContext(c));i[c]=l.padding;let d=t.getPointPosition(c,t.drawingArea+i[c],a),h=st(l.font),f=T6(t.ctx,h,t._pointLabels[c]);r[c]=f;let g=It(t.getIndexAngle(c)+a),y=Math.round(Yf(g)),v=ZN(y,d.x,f.w,0,180),E=ZN(y,d.y,f.h,90,270);S6(n,e,g,v,E)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=R6(t,r,i)}function S6(t,e,n,r,i){let s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n)),a=0,c=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function A6(t,e,n){let r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,c=t.getPointPosition(e,r+i+o,s),l=Math.round(Yf(It(c.angle+We))),d=k6(c.y,a.h,l),h=M6(l),f=N6(c.x,a.w,h);return{visible:!0,x:c.x,y:d,textAlign:h,left:f,top:d,right:f+a.w,bottom:d+a.h}}function x6(t,e){if(!e)return!0;let{left:n,top:r,right:i,bottom:s}=t;return!(tr({x:n,y:r},e)||tr({x:n,y:s},e)||tr({x:i,y:r},e)||tr({x:i,y:s},e))}function R6(t,e,n){let r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:xI(s)/2,additionalAngle:o?he/i:0},l;for(let d=0;d<i;d++){c.padding=n[d],c.size=e[d];let h=A6(t,d,c);r.push(h),a==="auto"&&(h.visible=x6(h,l),h.visible&&(l=h))}return r}function M6(t){return t===0||t===180?"center":t<180?"left":"right"}function N6(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function k6(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function P6(t,e,n){let{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!te(a)){let c=Ai(e.borderRadius),l=Dt(e.backdropPadding);t.fillStyle=a;let d=r-l.left,h=i-l.top,f=s-r+l.width,g=o-i+l.height;Object.values(c).some(y=>y!==0)?(t.beginPath(),Ra(t,{x:d,y:h,w:f,h:g,radius:c}),t.fill()):t.fillRect(d,h,f,g)}}function O6(t,e){let{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){let s=t._pointLabelItems[i];if(!s.visible)continue;let o=r.setContext(t.getPointLabelContext(i));P6(n,o,s);let a=st(o.font),{x:c,y:l,textAlign:d}=s;Si(n,t._pointLabels[i],c,l+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function Dk(t,e,n,r){let{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Pe);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function L6(t,e,n,r,i){let s=t.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!r||!a||!c||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),Dk(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function F6(t,e,n){return Br(t,{label:n,index:e,type:"pointLabel"})}var RI=class extends Pa{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ql.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Dt(xI(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!1);this.min=Ve(e)&&!isNaN(e)?e:0,this.max=Ve(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/xI(this.options))}generateTickLabels(e){Pa.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{let i=xe(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){let e=this.options;e.display&&e.pointLabels.display?C6(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){let n=Pe/(this._pointLabels.length||1),r=this.options.startAngle||0;return It(e*n+vn(r))}getDistanceFromCenterForValue(e){if(te(e))return NaN;let n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(te(e))return NaN;let n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){let n=this._pointLabels||[];if(e>=0&&e<n.length){let r=n[e];return F6(this.getContext(),e,r)}}getPointPosition(e,n,r=0){let i=this.getIndexAngle(e)-We+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:n}}=this.options;if(e){let r=this.ctx;r.save(),r.beginPath(),Dk(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){let e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length,a,c,l;if(n.pointLabels.display&&O6(this,o),i.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);let f=this.getContext(h),g=i.setContext(f),y=s.setContext(f);L6(this,g,c,o,y)}}),r.display){for(e.save(),a=o-1;a>=0;a--){let d=r.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=d;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),l=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;let i=this.getIndexAngle(0),s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;let l=r.setContext(this.getContext(c)),d=st(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=d.string,o=e.measureText(a.label).width,e.fillStyle=l.backdropColor;let h=Dt(l.backdropPadding);e.fillRect(-o/2-h.left,-s-d.size/2-h.top,o+h.width,d.size+h.height)}Si(e,a.label,0,-s,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}},Ip={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kt=Object.keys(Ip);function JN(t,e){return t-e}function ek(t,e){if(te(e))return null;let n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts,o=e;return typeof r=="function"&&(o=r(o)),Ve(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(qs(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function tk(t,e,n,r){let i=Kt.length;for(let s=Kt.indexOf(t);s<i-1;++s){let o=Ip[Kt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Kt[s]}return Kt[i-1]}function V6(t,e,n,r,i){for(let s=Kt.length-1;s>=Kt.indexOf(n);s--){let o=Kt[s];if(Ip[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Kt[n?Kt.indexOf(n):0]}function j6(t){for(let e=Kt.indexOf(t)+1,n=Kt.length;e<n;++e)if(Ip[Kt[e]].common)return Kt[e]}function nk(t,e,n){if(!n)t[e]=!0;else if(n.length){let{lo:r,hi:i}=Qf(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function B6(t,e,n,r){let i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value,a,c;for(a=s;a<=o;a=+i.add(a,1,r))c=n[a],c>=0&&(e[c].major=!0);return e}function rk(t,e,n){let r=[],i={},s=e.length,o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:B6(t,r,i,n)}var MI=(()=>{class t extends Qs{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,r={}){let i=n.time||(n.time={}),s=this._adapter=new X3._date(n.adapters.date);s.init(r),Ta(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(n),this._normalized=r.normalized}parse(n,r){return n===void 0?null:ek(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,r=this._adapter,i=n.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!c)&&(l(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Ve(s)&&!isNaN(s)?s:+r.startOf(Date.now(),i),o=Ve(o)&&!isNaN(o)?o:+r.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let n=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return n.length&&(r=n[0],i=n[n.length-1]),{min:r,max:i}}buildTicks(){let n=this.options,r=n.time,i=n.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,c=FM(s,o,a);return this._unit=r.unit||(i.autoSkip?tk(r.minUnit,this.min,this.max,this._getLabelCapacity(o)):V6(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:j6(this._unit),this.initOffsets(s),n.reverse&&c.reverse(),rk(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let r=0,i=0,s,o;this.options.offset&&n.length&&(s=this.getDecimalForValue(n[0]),n.length===1?r=1-s:r=(this.getDecimalForValue(n[1])-s)/2,o=this.getDecimalForValue(n[n.length-1]),n.length===1?i=o:i=(o-this.getDecimalForValue(n[n.length-2]))/2);let a=n.length<3?.5:.25;r=lt(r,0,a),i=lt(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){let n=this._adapter,r=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||tk(o.minUnit,r,i,this._getLabelCapacity(r)),c=K(s.ticks.stepSize,1),l=a==="week"?o.isoWeekday:!1,d=qs(l)||l===!0,h={},f=r,g,y;if(d&&(f=+n.startOf(f,"isoWeek",l)),f=+n.startOf(f,d?"day":a),n.diff(i,r,a)>1e5*c)throw new Error(r+" and "+i+" are too far apart with stepSize of "+c+" "+a);let v=s.ticks.source==="data"&&this.getDataTimestamps();for(g=f,y=0;g<i;g=+n.add(g,c,a),y++)nk(h,g,v);return(g===i||s.bounds==="ticks"||y===1)&&nk(h,g,v),Object.keys(h).sort(JN).map(E=>+E)}getLabelForValue(n){let r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(n,i.tooltipFormat):r.format(n,i.displayFormats.datetime)}format(n,r){let s=this.options.time.displayFormats,o=this._unit,a=r||s[o];return this._adapter.format(n,a)}_tickFormatFunction(n,r,i,s){let o=this.options,a=o.ticks.callback;if(a)return xe(a,[n,r,i],this);let c=o.time.displayFormats,l=this._unit,d=this._majorUnit,h=l&&c[l],f=d&&c[d],g=i[r],y=d&&f&&g&&g.major;return this._adapter.format(n,s||(y?f:h))}generateTickLabels(n){let r,i,s;for(r=0,i=n.length;r<i;++r)s=n[r],s.label=this._tickFormatFunction(s.value,r,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let r=this._offsets,i=this.getDecimalForValue(n);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(n){let r=this._offsets,i=this.getDecimalForPixel(n)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(n){let r=this.options.ticks,i=this.ctx.measureText(n).width,s=vn(this.isHorizontal()?r.maxRotation:r.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*a,h:i*a+c*o}}_getLabelCapacity(n){let r=this.options.time,i=r.displayFormats,s=i[r.unit]||i.millisecond,o=this._tickFormatFunction(n,0,rk(this,[n],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let n=this._cache.data||[],r,i;if(n.length)return n;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,i=s.length;r<i;++r)n=n.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],r,i;if(n.length)return n;let s=this.getLabels();for(r=0,i=s.length;r<i;++r)n.push(ek(this,s[r]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return Pb(n.sort(JN))}}return t})();function up(t,e,n){let r=0,i=t.length-1,s,o,a,c;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=er(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:c}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=er(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:c}=t[i]);let l=o-s;return l?a+(c-a)*(e-s)/l:a}var NI=class extends MI{static id="timeseries";static defaults=MI.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=up(n,this.min),this._tableRange=up(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:n,max:r}=this,i=[],s=[],o,a,c,l,d;for(o=0,a=e.length;o<a;++o)l=e[o],l>=n&&l<=r&&i.push(l);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],c=i[o-1],l=i[o],Math.round((d+c)/2)!==l&&s.push({time:l,pos:o/(a-1)});return s}_generate(){let e=this.min,n=this.max,r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(up(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return up(this._table,r*this._tableRange+this._minPos,!0)}},U6=Object.freeze({__proto__:null,CategoryScale:b6,LinearScale:SI,LogarithmicScale:AI,RadialLinearScale:RI,TimeScale:MI,TimeSeriesScale:NI}),Tk=[Q3,I5,y6,U6];var $6=["meuGrafico"],H6=(t,e)=>e.id;function z6(t,e){if(t&1){let n=Xd();ae(0,"div",44)(1,"div",47)(2,"div",48),ge(3),re(),ae(4,"div")(5,"span",49),ge(6),re(),ae(7,"span",50),ge(8),Ny(9,"date"),re()()(),ae(10,"div",51)(11,"span",52),ge(12),re(),ae(13,"button",53),ds("click",function(){let i=Ji(n).$implicit,s=xy();return es(s.excluir(i.id))}),ge(14," \u{1F5D1}\uFE0F "),re()()()}if(t&2){let n=e.$implicit;dn(3),wr(" ",n.categoria==="Alimenta\xE7\xE3o"?"\u{1F355}":n.categoria==="Transporte"?"\u{1F697}":n.categoria==="Lazer"?"\u{1F37F}":"\u{1F4D1}"," "),dn(3),Oc(n.descricao),dn(2),Oc(ky(9,4,n.data,"dd MMM, HH:mm")),dn(4),wr("- R$ ",n.valor)}}function W6(t,e){t&1&&(ae(0,"div",45)(1,"p",54),ge(2,"Sem gastos!\u{1F4B8}"),re()())}_p.register(...Tk);var wp=class t{firestore=L($s);async enviarParaOFirebase(){try{let e=cM(this.firestore,"testes");await aM(e,{mensagem:"FUNCIONOU TWIN!",dataEnvio:new Date,status:"Online e Roteando"}),alert("Dado salvo no Firebase com sucesso! \u2601\uFE0F\u{1F525}")}catch(e){console.error("Erro ao salvar: ",e)}}canvas;chart;salario=1100;listaDespesas=[];isDarkMode=!0;ngOnInit(){this.carregarDados(),console.log("Sistema carregado! \u2705")}ngAfterViewInit(){setTimeout(()=>{this.renderizarGrafico()},50),this.renderizarGrafico()}get dadosCategorias(){return["Alimenta\xE7\xE3o","Transporte","Lazer","Contas"].map(n=>this.listaDespesas.filter(r=>r.categoria===n).reduce((r,i)=>r+i.valor,0))}renderizarGrafico(){if(!this.canvas||!this.canvas.nativeElement||this.listaDespesas.length===0)return;this.chart&&this.chart.destroy();let e=this.canvas.nativeElement.getContext("2d");this.chart=new _p(e,{type:"doughnut",data:{labels:["Alimenta\xE7\xE3o","Transporte","Lazer","Contas"],datasets:[{data:this.dadosCategorias,backgroundColor:["#6366f1","#f87171","#fbbf24","#34d399"],borderWidth:0,hoverOffset:15}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{color:"#94a3b8",font:{size:12,family:"sans-serif"},padding:20}}},cutout:"75%"}})}get totalGasto(){return this.listaDespesas.reduce((e,n)=>e+n.valor,0)}get saldoRestante(){return this.salario-this.totalGasto}salvarDados(){localStorage.setItem("minhas_contas",JSON.stringify(this.listaDespesas))}carregarDados(){let e=localStorage.getItem("minhas_contas");if(e){let n=JSON.parse(e);this.listaDespesas=n.map(i=>Object.assign(new jl("","",0),i));let r=localStorage.getItem("meu_salario");r&&(this.salario=parseFloat(r))}}atualizarSalario(e){let n=parseFloat(e);isNaN(n)||(this.salario=n,localStorage.setItem("meu_salario",n.toString()))}adicionar(e,n,r){let i=parseFloat(r);if(e&&n&&!isNaN(i)){let s=new jl(e,n,i);this.listaDespesas.push(s),this.salvarDados(),setTimeout(()=>this.renderizarGrafico(),0)}}excluir(e){this.listaDespesas=this.listaDespesas.filter(n=>n.id!==e),this.salvarDados(),this.renderizarGrafico()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Rc({type:t,selectors:[["app-root"]],viewQuery:function(n,r){if(n&1&&Zd($6,7),n&2){let i;Ry(i=My())&&(r.canvas=i.first)}},decls:78,vars:6,consts:[["meuGrafico",""],["inputSalario",""],["desc",""],["cat",""],["val",""],[1,"min-h-screen","bg-slate-950","font-sans","text-slate-100","p-4","md:p-8","selection:bg-indigo-500/30"],[1,"max-w-4xl","mx-auto","text-center","mb-10"],[1,"text-4xl","font-extrabold","tracking-tight","text-white","mb-2"],[1,"text-indigo-500"],[1,"text-slate-400","font-medium"],[1,"max-w-4xl","mx-auto"],[1,"bg-green-500","p-4","text-white","rounded",3,"click"],[1,"bg-slate-900","p-8","rounded-[2rem]","border","border-slate-800","shadow-2xl","mb-10","flex","flex-col","items-center"],[1,"text-slate-300","font-bold","mb-6","italic"],[1,"relative","w-full","max-w-[300px]","flex","justify-center","items-center"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","pointer-events-none"],[1,"text-slate-500","text-xs","uppercase"],[1,"text-white","font-bold","text-xl"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mb-8"],[1,"bg-slate-900","p-6","rounded-3xl","border","border-slate-800","shadow-xl","shadow-black/20","group"],[1,"text-xs","font-bold","text-slate-500","uppercase","tracking-wider"],[1,"flex","items-center","gap-2"],[1,"text-slate-400","text-xl","font-bold"],["type","number","placeholder","0.00",1,"bg-transparent","border-none","text-2xl","font-bold","text-slate-100","outline-none","w-full","focus:text-indigo-400","transition-colors",3,"blur","value"],[1,"text-[10px]","text-slate-600","mt-1","opacity-0","group-hover:opacity-100","transition-opacity","italic"],[1,"bg-slate-900","p-6","rounded-3xl","border","border-slate-800","shadow-xl","shadow-black/20"],[1,"text-2xl","font-bold","text-red-400"],[1,"p-6","rounded-3xl","shadow-2xl","border","transition-all","duration-500",3,"ngClass"],[1,"text-xs","font-bold","uppercase","tracking-wider","text-indigo-100/70"],[1,"text-2xl","font-bold","text-white"],[1,"bg-slate-900","p-6","md:p-8","rounded-[2rem]","border","border-slate-800","shadow-2xl","mb-10"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","items-end"],[1,"md:col-span-2"],[1,"block","text-sm","font-semibold","text-slate-400","mb-2","ml-1"],["type","text","placeholder","Ex: Upgrade PC...",1,"w-full","px-4","py-3","rounded-2xl","border-none","bg-slate-800","text-white","focus:ring-2","focus:ring-indigo-500","outline-none","transition-all","placeholder:text-slate-600"],[1,"w-full","px-4","py-3","rounded-2xl","border-none","bg-slate-800","text-white","focus:ring-2","focus:ring-indigo-500","outline-none","cursor-pointer"],["value","Alimenta\xE7\xE3o"],["value","Transporte"],["value","Lazer"],["value","Contas"],["type","number","placeholder","0,00",1,"w-full","px-4","py-3","rounded-2xl","border-none","bg-slate-800","text-indigo-400","font-bold","focus:ring-2","focus:ring-indigo-500","outline-none"],[1,"w-full","mt-6","bg-indigo-600","hover:bg-indigo-500","text-white","font-bold","py-4","rounded-2xl","shadow-lg","transition-all","transform","active:scale-[0.98]",3,"click"],[1,"space-y-4"],[1,"text-lg","font-bold","text-slate-300","ml-2","italic"],[1,"group","bg-slate-900","p-5","rounded-2xl","flex","justify-between","items-center","border","border-slate-800","hover:border-indigo-500","transition-all","duration-300"],[1,"text-center","py-16","bg-slate-900/50","rounded-[2rem]","border-2","border-dashed","border-slate-800"],[1,"mt-20","text-center","text-slate-700","text-xs","tracking-widest","uppercase"],[1,"flex","items-center","gap-4"],[1,"w-12","h-12","rounded-2xl","bg-slate-800","flex","items-center","justify-center","text-xl","shadow-inner"],[1,"block","font-bold","text-slate-100"],[1,"text-xs","text-slate-500","font-medium","uppercase","tracking-tighter"],[1,"flex","items-center","gap-6"],[1,"text-lg","font-bold","text-slate-100"],[1,"opacity-0","group-hover:opacity-100","p-2","text-slate-600","hover:text-red-500","transition-all",3,"click"],[1,"text-slate-600","font-medium","italic","text-lg"]],template:function(n,r){if(n&1){let i=Xd();ae(0,"div",5)(1,"header",6)(2,"h1",7),ge(3," Gest\xE3o "),ae(4,"span",8),ge(5,"Financeira "),re()(),ae(6,"p",9),ge(7,"Gest\xE3o financeira com foco em performance."),re()(),ae(8,"main",10)(9,"button",11),ds("click",function(){return Ji(i),es(r.enviarParaOFirebase())}),ge(10,` Testar Firebase
`),re(),ae(11,"div",12)(12,"h3",13),ge(13,"Distribui\xE7\xE3o de Gastos"),re(),ae(14,"div",14),ci(15,"canvas",null,0),ae(17,"div",15)(18,"span",16),ge(19,"Total"),re(),ae(20,"span",17),ge(21),re()()()(),ae(22,"div",18)(23,"div",19)(24,"span",20),ge(25,"Sal\xE1rio Mensal"),re(),ae(26,"div",21)(27,"span",22),ge(28,"R$"),re(),ae(29,"input",23,1),ds("blur",function(){Ji(i);let o=Po(30);return es(r.atualizarSalario(o.value))}),re()(),ae(31,"p",24),ge(32,"Clique no valor para editar"),re()(),ae(33,"div",25)(34,"span",20),ge(35,"Total Gasto"),re(),ae(36,"div",26),ge(37),re()(),ae(38,"div",27)(39,"span",28),ge(40,"Saldo Dispon\xEDvel"),re(),ae(41,"div",29),ge(42),re()()(),ae(43,"div",30)(44,"div",31)(45,"div",32)(46,"label",33),ge(47,"Descri\xE7\xE3o"),re(),ci(48,"input",34,2),re(),ae(50,"div")(51,"label",33),ge(52,"Categoria"),re(),ae(53,"select",35,3)(55,"option",36),ge(56,"\u{1F355} Alimenta\xE7\xE3o"),re(),ae(57,"option",37),ge(58,"\u{1F697} Transporte"),re(),ae(59,"option",38),ge(60,"\u{1F37F} Lazer"),re(),ae(61,"option",39),ge(62,"\u{1F4D1} Contas"),re()()(),ae(63,"div")(64,"label",33),ge(65,"Valor"),re(),ci(66,"input",40,4),re()(),ae(68,"button",41),ds("click",function(){Ji(i);let o=Po(49),a=Po(54),c=Po(67);return r.adicionar(o.value,a.value,c.value),o.value="",es(c.value="")}),ge(69," LAN\xC7AR DESPESA "),re()(),ae(70,"div",42)(71,"h3",43),ge(72,"Hist\xF3rico Recente"),re(),Sy(73,z6,15,7,"div",44,H6,!1,W6,3,0,"div",45),re()(),ae(76,"footer",46),ge(77," Desenvolvido por Lucas Andrew \u2022 2026 "),re()()}n&2&&(dn(21),wr("R$ ",r.totalGasto),dn(8),kc("value",r.salario),dn(8),wr("R$ ",r.totalGasto),dn(),kc("ngClass",r.saldoRestante<0?"bg-red-950/40 border-red-900":"bg-indigo-700 border-indigo-600"),dn(4),wr("R$ ",r.saldoRestante),dn(31),Ay(r.listaDespesas))},dependencies:[ch,Hy,zy],encapsulation:2})};Jy(wp,dM).catch(t=>console.error(t));
